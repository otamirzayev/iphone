!(function () {
  "use strict";
  var e,
    t = {
      3268: function (e, t, o) {
        o.r(t);
      },
      6144: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.CLIENT_VERSION = void 0),
          (t.CLIENT_VERSION = "2024.02.02_12.55.b69f057da6"),
          $(document.body).on("click", ".currentVersion", (e) => {
            e.shiftKey && alert(t.CLIENT_VERSION);
          });
      },
      6617: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.Auth = t.app = void 0);
        const r = o(1923),
          s = o(513),
          u = o(3660),
          l = a(o(3368)),
          d = o(3388);
        try {
          (t.app = (0, r.initializeApp)(u.firebaseConfig)),
            (t.Auth = (0, s.getAuth)(t.app));
        } catch (e) {
          (t.app = void 0),
            (t.Auth = void 0),
            console.error("Authentication failed to initialize", e),
            (0, d.isDevEnvironment)() &&
              l.addBanner(
                (0, d.createErrorMessage)(e, "Authentication uninitialized") +
                  " Check your firebase-config.ts",
                0,
                void 0,
                !1
              );
        }
      },
      2681: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.update = t.clear = void 0);
        const r = a(o(6350)),
          s = a(o(3388));
        (t.clear = function () {
          $(".pageAccount .globalTimeTyping .val").text("-"),
            $(".pageAccount .globalTestsStarted .val").text("-"),
            $(".pageAccount .globalTestsCompleted .val").text("-");
        }),
          (t.update = function () {
            var e, t;
            const o = r.getSnapshot();
            if (o) {
              if (void 0 !== o.typingStats) {
                const n =
                  null !==
                    (t =
                      null === (e = null == o ? void 0 : o.typingStats) ||
                      void 0 === e
                        ? void 0
                        : e.timeTyping) && void 0 !== t
                    ? t
                    : 0;
                let i = "";
                (i = 0 === n ? "-" : s.secondsToString(Math.round(n), !0, !0)),
                  $(".pageAccount .globalTimeTyping .val").text(i);
              }
              void 0 !== o.typingStats &&
                ($(".pageAccount .globalTestsStarted .val").text(
                  o.typingStats.startedTests
                ),
                $(".pageAccount .globalTestsCompleted .val").text(
                  o.typingStats.completedTests
                ));
            }
          });
      },
      6472: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.updateData = t.show = t.updatePosition = void 0);
        const s = a(o(1833)),
          u = r(o(6705)),
          l = a(o(3388));
        function d() {
          $(".pageAccount .miniResultChartWrapper").stop(!0, !0).fadeOut(125),
            $(".pageAccount .miniResultChartBg").stop(!0, !0).fadeOut(125);
        }
        (t.updatePosition = function (e, t) {
          $(".pageAccount .miniResultChartWrapper").css({
            top: t,
            left: e,
          });
        }),
          (t.show = function () {
            $(".pageAccount .miniResultChartWrapper").stop(!0, !0).fadeIn(125),
              $(".pageAccount .miniResultChartBg").stop(!0, !0).fadeIn(125);
          }),
          (t.updateData = function (e) {
            let t = [];
            for (let o = 1; o <= e.wpm.length; o++) t.push(o.toString());
            (e.wpm = e.wpm.slice(0, e.raw.length)),
              (e.err = e.err.slice(0, e.raw.length)),
              (t = t.slice(0, e.raw.length));
            const o = l.smooth(e.raw, 1);
            (s.miniResult.data.labels = t),
              (s.miniResult.getDataset("wpm").data = e.wpm),
              (s.miniResult.getDataset("raw").data = o),
              (s.miniResult.getDataset("error").data = e.err);
            const n = Math.max(Math.max(...e.wpm), Math.max(...e.raw)),
              i = Math.min(Math.min(...e.wpm), Math.min(...e.raw));
            (s.miniResult.getScale("wpm").max = Math.round(n)),
              (s.miniResult.getScale("raw").max = Math.round(n)),
              u.default.startGraphsAtZero
                ? ((s.miniResult.getScale("wpm").min = 0),
                  (s.miniResult.getScale("raw").min = 0))
                : ((s.miniResult.getScale("wpm").min = Math.round(i)),
                  (s.miniResult.getScale("raw").min = Math.round(i))),
              s.miniResult.updateColors();
          }),
          $(document).on("keydown", (e) => {
            "Escape" === e.key &&
              l.isElementVisible(".pageAccount .miniResultChartWrapper") &&
              (d(), e.preventDefault());
          }),
          $(".pageAccount").on("click", ".miniResultChartBg", () => {
            d();
          });
      },
      140: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.update = void 0);
        const s = r(o(6705)),
          u = r(o(9546)),
          l = a(o(3388)),
          d = o(8628);
        function c(e, t, o) {
          var n;
          let i = "",
            a = "";
          const r = `${o} ${"time" === t ? "seconds" : "words"}`,
            c = s.default.typingSpeedUnit,
            p = (0, d.get)(s.default.typingSpeedUnit);
          try {
            const d = (null !== (n = e[t][o]) && void 0 !== n ? n : []).sort(
              (e, t) => t.wpm - e.wpm
            )[0];
            if (void 0 === d) throw new Error("No PB data found");
            const f = new Date(d.timestamp);
            d.timestamp && (a = (0, u.default)(f, "dd MMM yyyy"));
            let h = p.fromWpm(d.wpm);
            (h = s.default.alwaysShowDecimalPlaces
              ? l.roundTo2(h).toFixed(2)
              : Math.round(h)),
              (h += ` ${c}`);
            let m = p.fromWpm(d.raw);
            (m = s.default.alwaysShowDecimalPlaces
              ? l.roundTo2(m).toFixed(2)
              : Math.round(m)),
              (m += " raw");
            let g = d.acc;
            (g =
              void 0 === g
                ? "-"
                : s.default.alwaysShowDecimalPlaces
                ? l.roundTo2(g).toFixed(2)
                : Math.floor(g)),
              (g += " acc");
            let v = d.consistency;
            (v =
              void 0 === v
                ? "-"
                : s.default.alwaysShowDecimalPlaces
                ? l.roundTo2(v).toFixed(2)
                : Math.round(v)),
              (v += " con"),
              (i = `<div class="quick">\n      <div class="test">${r}</div>\n      <div class="wpm">${Math.round(
                p.fromWpm(d.wpm)
              )}</div>\n      <div class="acc">${
                void 0 === d.acc ? "-" : Math.floor(d.acc) + "%"
              }</div>\n    </div>\n    <div class="fullTest">\n      <div>${r}</div>\n      <div>${h}</div>\n      <div>${m}</div>\n      <div>${g}</div>\n      <div>${v}</div>\n      <div>${a}</div>\n    </div>`);
          } catch (e) {
            i = `<div class="quick">\n    <div class="test">${r}</div>\n    <div class="wpm">-</div>\n    <div class="acc">-</div>\n  </div>`;
          }
          return `\n  <div class="group">\n  ${i}\n  </div>\n  `;
        }
        t.update = function (e, t = !1) {
          if (
            ((function (e) {
              const t = e ? "Profile" : "Account",
                o = e
                  ? ""
                  : '<div class="buttonGroup"><button\n  class="showAllButton"\n  data-balloon-pos="left"\n  aria-label="Show all personal bests"\n>\n  <i class="fas fa-ellipsis-v"></i>\n</button></div>';
              $(`.page${t} .profile .pbsWords`).html(
                `\n      <div class="group">\n      <div class="quick">\n        <div class="test">10 words</div>\n        <div class="wpm">-</div>\n        <div class="acc">-</div>\n      </div>\n    </div>\n    <div class="group">\n      <div class="quick">\n        <div class="test">25 words</div>\n        <div class="wpm">-</div>\n        <div class="acc">-</div>\n      </div>\n    </div>\n    <div class="group">\n      <div class="quick">\n        <div class="test">50 words</div>\n        <div class="wpm">-</div>\n        <div class="acc">-</div>\n      </div>\n    </div>\n    <div class="group">\n      <div class="quick">\n        <div class="test">100 words</div>\n        <div class="wpm">-</div>\n        <div class="acc">-</div>\n      </div>\n    </div>\n    ${o}\n  `
              ),
                $(`.page${t} .profile .pbsTime`).html(
                  `\n      <div class="group">\n      <div class="quick">\n        <div class="test">15 seconds</div>\n        <div class="wpm">-</div>\n        <div class="acc">-</div>\n      </div>\n    </div>\n    <div class="group">\n      <div class="quick">\n        <div class="test">30 seconds</div>\n        <div class="wpm">-</div>\n        <div class="acc">-</div>\n      </div>\n    </div>\n    <div class="group">\n      <div class="quick">\n        <div class="test">60 seconds</div>\n        <div class="wpm">-</div>\n        <div class="acc">-</div>\n      </div>\n    </div>\n    <div class="group">\n      <div class="quick">\n        <div class="test">120 seconds</div>\n        <div class="wpm">-</div>\n        <div class="acc">-</div>\n      </div>\n    </div>\n    ${o}\n  `
                );
            })(t),
            void 0 === e)
          )
            return;
          let o = "";
          const n = t ? "Profile" : "Account";
          $(`.page${n} .profile .pbsTime`).html(""),
            $(`.page${n} .profile .pbsWords`).html(""),
            ["15", "30", "60", "120"].forEach((t) => {
              o += c(e, "time", t);
            });
          const i = t
            ? ""
            : '<div class="buttonGroup"><button\n      class="showAllButton"\n      data-balloon-pos="left"\n      aria-label="Show all personal bests"\n    >\n      <i class="fas fa-ellipsis-v"></i>\n    </button></div>';
          $(`.page${n} .profile .pbsTime`).append(o + i),
            (o = ""),
            ["10", "25", "50", "100"].forEach((t) => {
              o += c(e, "words", t);
            }),
            $(`.page${n} .profile .pbsWords`).append(o + i);
        };
      },
      1329: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.removeButtons =
            t.appendButtons =
            t.updateActive =
            t.reset =
            t.loadTags =
            t.getFilter =
            t.setFilterPreset =
            t.load =
            t.defaultResultFilters =
              void 0);
        const u = a(o(3388)),
          l = a(o(6350)),
          d = s(o(6705)),
          c = a(o(3368)),
          p = s(o(7355)),
          f = a(o(9817)),
          h = o(2710);
        t.defaultResultFilters = {
          _id: "default-result-filters-id",
          name: "default result filters",
          pb: {
            no: !0,
            yes: !0,
          },
          difficulty: {
            normal: !0,
            expert: !0,
            master: !0,
          },
          mode: {
            words: !0,
            time: !0,
            quote: !0,
            zen: !0,
            custom: !0,
          },
          words: {
            10: !0,
            25: !0,
            50: !0,
            100: !0,
            custom: !0,
          },
          time: {
            15: !0,
            30: !0,
            60: !0,
            120: !0,
            custom: !0,
          },
          quoteLength: {
            short: !0,
            medium: !0,
            long: !0,
            thicc: !0,
          },
          punctuation: {
            on: !0,
            off: !0,
          },
          numbers: {
            on: !0,
            off: !0,
          },
          date: {
            last_day: !1,
            last_week: !1,
            last_month: !1,
            last_3months: !1,
            all: !0,
          },
          tags: {
            none: !0,
          },
          language: {},
          funbox: {
            none: !0,
          },
        };
        let m = t.defaultResultFilters;
        function g() {
          window.localStorage.setItem("resultFilters", JSON.stringify(m));
        }
        function v() {
          var e, t;
          return r(this, void 0, void 0, function* () {
            const o = document.querySelector(
                ".pageAccount .presetFilterButtons"
              ),
              n = document.querySelector(
                ".pageAccount .presetFilterButtons .filterBtns"
              );
            if (!o || !n) return;
            n.innerHTML = "";
            const i =
              null !==
                (t =
                  null === (e = l.getSnapshot()) || void 0 === e
                    ? void 0
                    : e.filterPresets.map(
                        (e) => ((e.name = e.name.replace(/_/g, " ")), e)
                      )) && void 0 !== t
                ? t
                : [];
            if (i.length > 0) {
              let e = "";
              for (const t of i)
                e += `<div class="filterPresets">\n      <div class="select-filter-preset button" data-id="${t._id}">${t.name} </div>\n      <div class="button delete-filter-preset" data-id="${t._id}">\n        <i class="fas fa-fw fa-trash"></i>\n      </div>\n    </div>`;
              (n.innerHTML = e), o.classList.remove("hidden");
            } else o.classList.add("hidden");
          });
        }
        function y(e) {
          return JSON.parse(JSON.stringify(e));
        }
        function b() {
          $(
            ".pageAccount .group.presetFilterButtons .filterBtns .filterPresets .select-filter-preset"
          ).removeClass("active");
        }
        function w() {
          return m;
        }
        function _(e) {
          return m[e];
        }
        function C(e, t) {
          return m[e][t];
        }
        function S(e, t) {
          Object.keys(_(e)).forEach((o) => {
            m[e][o] = t;
          });
        }
        function x() {
          (m = t.defaultResultFilters), g();
        }
        function P() {
          var e, t, o, n;
          const i = {};
          function a(e) {
            var t, o, n, a, r;
            let s = "";
            return (
              (s += "<div class='group'>"),
              "difficulty" === e
                ? (s +=
                    '<span aria-label="Difficulty" data-balloon-pos="up"><i class="fas fa-fw fa-star"></i>')
                : "mode" === e
                ? (s +=
                    '<span aria-label="Mode" data-balloon-pos="up"><i class="fas fa-fw fa-bars"></i>')
                : "punctuation" === e
                ? (s +=
                    '<span aria-label="Punctuation" data-balloon-pos="up"><i class="fas fa-fw fa-at"></i>')
                : "numbers" === e
                ? (s +=
                    '<span aria-label="Numbers" data-balloon-pos="up"><i class="fas fa-fw fa-hashtag"></i>')
                : "words" === e
                ? (s +=
                    '<span aria-label="Words" data-balloon-pos="up"><i class="fas fa-fw fa-font"></i>')
                : "time" === e
                ? (s +=
                    '<span aria-label="Time" data-balloon-pos="up"><i class="fas fa-fw fa-clock"></i>')
                : "date" === e
                ? (s +=
                    '<span aria-label="Date" data-balloon-pos="up"><i class="fas fa-fw fa-calendar"></i>')
                : "tags" === e
                ? (s +=
                    '<span aria-label="Tags" data-balloon-pos="up"><i class="fas fa-fw fa-tags"></i>')
                : "language" === e
                ? (s +=
                    '<span aria-label="Language" data-balloon-pos="up"><i class="fas fa-fw fa-globe-americas"></i>')
                : "funbox" === e &&
                  (s +=
                    '<span aria-label="Funbox" data-balloon-pos="up"><i class="fas fa-fw fa-gamepad"></i>'),
              (null === (t = i[e]) || void 0 === t ? void 0 : t.all)
                ? (s += "all")
                : (s +=
                    "tags" === e
                      ? null ===
                          (n =
                            null === (o = i.tags) || void 0 === o
                              ? void 0
                              : o.array) || void 0 === n
                        ? void 0
                        : n
                            .map((e) => {
                              var t, o, n;
                              if ("none" === e) return e;
                              const i = l.getSnapshot();
                              if (void 0 === i) return e;
                              const a =
                                null === (t = i.tags) || void 0 === t
                                  ? void 0
                                  : t.filter((t) => t._id === e)[0];
                              return void 0 !== a
                                ? null ===
                                    (n =
                                      null === (o = i.tags) || void 0 === o
                                        ? void 0
                                        : o.filter((t) => t._id === e)[0]) ||
                                  void 0 === n
                                  ? void 0
                                  : n.display
                                : a;
                            })
                            .join(", ")
                      : null ===
                          (r =
                            null === (a = i[e]) || void 0 === a
                              ? void 0
                              : a.array) || void 0 === r
                      ? void 0
                      : r.join(", ").replace(/_/g, " ")),
              (s += "</span></div>"),
              s
            );
          }
          u.typedKeys(w()).forEach((e) => {
            "_id" !== e &&
              "name" !== e &&
              ((i[e] = {
                all: !0,
                array: [],
              }),
              u.typedKeys(_(e)).forEach((t) => {
                var o;
                const n = i[e];
                if (void 0 === n) return;
                let a;
                C(e, t)
                  ? null === (o = n.array) || void 0 === o || o.push(t)
                  : void 0 !== n.all && (n.all = !1),
                  (a =
                    "date" === e
                      ? $(
                          `.pageAccount .group.topFilters .filterGroup[group="${e}"] button[filter="${t}"]`
                        )
                      : $(
                          `.pageAccount .group.filterButtons .filterGroup[group="${e}"] button[filter="${t}"]`
                        )),
                  C(e, t) ? a.addClass("active") : a.removeClass("active");
              }));
          });
          let r = "";
          (r += a("date")),
            (r += '<div class="spacer"></div>'),
            (r += a("mode")),
            (r += '<div class="spacer"></div>'),
            (null ===
              (t = null === (e = i.mode) || void 0 === e ? void 0 : e.array) ||
            void 0 === t
              ? void 0
              : t.includes("time")) &&
              ((r += a("time")), (r += '<div class="spacer"></div>')),
            (null ===
              (n = null === (o = i.mode) || void 0 === o ? void 0 : o.array) ||
            void 0 === n
              ? void 0
              : n.includes("words")) &&
              ((r += a("words")), (r += '<div class="spacer"></div>')),
            (r += a("difficulty")),
            (r += '<div class="spacer"></div>'),
            (r += a("punctuation")),
            (r += '<div class="spacer"></div>'),
            (r += a("numbers")),
            (r += '<div class="spacer"></div>'),
            (r += a("language")),
            (r += '<div class="spacer"></div>'),
            (r += a("funbox")),
            (r += '<div class="spacer"></div>'),
            (r += a("tags")),
            setTimeout(() => {
              $(".pageAccount .group.chart .above").html(r);
            }, 0);
        }
        (t.load = function () {
          return r(this, void 0, void 0, function* () {
            try {
              const e = window.localStorage.getItem("resultFilters");
              if (e) {
                const o = JSON.parse(e);
                let n = !1;
                for (const e of Object.keys(t.defaultResultFilters)) {
                  if (!0 === n) break;
                  if (void 0 === o[e]) {
                    n = !0;
                    break;
                  }
                  if ("object" == typeof t.defaultResultFilters[e])
                    for (const i of Object.keys(t.defaultResultFilters[e]))
                      if (void 0 === o[e][i]) {
                        n = !0;
                        break;
                      }
                }
                m = n ? t.defaultResultFilters : o;
              } else m = t.defaultResultFilters;
              const o = {
                none: !1,
              };
              Object.keys(t.defaultResultFilters.tags).forEach((e) => {
                void 0 !== m.tags[e] ? (o[e] = m.tags[e]) : (o[e] = !0);
              }),
                (m.tags = o),
                g();
            } catch (e) {
              console.log("error in loading result filters"),
                (m = t.defaultResultFilters),
                g();
            }
          });
        }),
          (t.setFilterPreset = function (e) {
            var o;
            return r(this, void 0, void 0, function* () {
              const n =
                null === (o = l.getSnapshot()) || void 0 === o
                  ? void 0
                  : o.filterPresets.find((t) => t._id === e);
              n &&
                ((m = (function (e) {
                  const o = y(e);
                  return (
                    Object.entries(t.defaultResultFilters).forEach((e) => {
                      const t = e[0],
                        n = e[1];
                      void 0 === o[t] && (o[t] = n);
                    }),
                    o
                  );
                })(n)),
                g(),
                P()),
                $(
                  ".pageAccount .group.presetFilterButtons .filterBtns .filterPresets .select-filter-preset"
                ).removeClass("active"),
                $(
                  `.pageAccount .group.presetFilterButtons .filterBtns .filterPresets .select-filter-preset[data-id=${e}]`
                ).addClass("active");
            });
          }),
          (t.getFilter = C),
          (t.loadTags = function (e) {
            e.forEach((e) => {
              t.defaultResultFilters.tags[e._id] = !0;
            });
          }),
          (t.reset = x),
          (t.updateActive = P),
          $(
            ".pageAccount .filterButtons .buttonsAndTitle .buttons, .pageAccount .group.topFilters .buttonsAndTitle.testDate .buttons"
          ).on("click", "button", (e) => {
            const t = $(e.target).parents(".buttons").attr("group"),
              o = $(e.target).attr("filter");
            $(e.target).hasClass("allFilters")
              ? (u.typedKeys(w()).forEach((e) => {
                  "_id" !== e && "name" !== e && S(e, !0);
                }),
                S("date", !1),
                (m.date.all = !0))
              : $(e.target).hasClass("noFilters")
              ? u.typedKeys(w()).forEach((e) => {
                  "_id" !== e && "name" !== e && "date" !== e && S(e, !1);
                })
              : $(e.target).is("button") &&
                (e.shiftKey
                  ? (S(t, !1), (m[t][o] = !0))
                  : (function (e, t) {
                      b();
                      try {
                        "date" === e && S("date", !1);
                        const o = !m[e][t];
                        (m[e][t] = o), g();
                      } catch (e) {
                        c.add(
                          "Something went wrong toggling filter. Reverting to defaults.",
                          0
                        ),
                          console.log("toggling filter error"),
                          console.error(e),
                          x(),
                          P();
                      }
                    })(t, o)),
              P(),
              g();
          }),
          $(".pageAccount .topFilters button.allFilters").on("click", () => {
            b(),
              console.log(w()),
              u.typedKeys(w()).forEach((e) => {
                "_id" !== e && "name" !== e && S(e, !0);
              }),
              S("date", !1),
              (m.date.all = !0),
              P(),
              g();
          }),
          $(".pageAccount .topFilters button.currentConfigFilter").on(
            "click",
            () => {
              var e, t;
              if (
                (b(),
                u.typedKeys(w()).forEach((e) => {
                  "_id" !== e && "name" !== e && S(e, !1);
                }),
                (m.pb.no = !0),
                (m.pb.yes = !0),
                (m.difficulty[d.default.difficulty] = !0),
                (m.mode[d.default.mode] = !0),
                "time" === d.default.mode)
              )
                if ([15, 30, 60, 120].includes(d.default.time)) {
                  const e = d.default.time;
                  m.time[e] = !0;
                } else m.time.custom = !0;
              else if ("words" === d.default.mode)
                if ([10, 25, 50, 100, 200].includes(d.default.words)) {
                  const e = d.default.words;
                  m.words[e] = !0;
                } else m.words.custom = !0;
              else
                "quote" === d.default.mode &&
                  ["short", "medium", "long", "thicc"].forEach((e, t) => {
                    d.default.quoteLength.includes(t)
                      ? (m.quoteLength[e] = !0)
                      : (m.quoteLength[e] = !1);
                  });
              if (
                (d.default.punctuation
                  ? (m.punctuation.on = !0)
                  : (m.punctuation.off = !0),
                d.default.numbers ? (m.numbers.on = !0) : (m.numbers.off = !0),
                "quote" === d.default.mode &&
                /english.*/.test(d.default.language)
                  ? (m.language.english = !0)
                  : (m.language[d.default.language] = !0),
                "none" === d.default.funbox)
              )
                m.funbox.none = !0;
              else
                for (const e of d.default.funbox.split("#")) m.funbox[e] = !0;
              (m.tags.none = !0),
                null ===
                  (t =
                    null === (e = l.getSnapshot()) || void 0 === e
                      ? void 0
                      : e.tags) ||
                  void 0 === t ||
                  t.forEach((e) => {
                    !0 === e.active &&
                      ((m.tags.none = !1), (m.tags[e._id] = !0));
                  }),
                (m.date.all = !0),
                P(),
                g();
            }
          ),
          $(".pageAccount .topFilters button.toggleAdvancedFilters").on(
            "click",
            () => {
              $(".pageAccount .filterButtons").slideToggle(250),
                $(
                  ".pageAccount .topFilters button.toggleAdvancedFilters"
                ).toggleClass("active");
            }
          ),
          (t.appendButtons = function () {
            var e, t, o;
            return r(this, void 0, void 0, function* () {
              let n, i;
              try {
                n = yield u.getLanguageList();
              } catch (e) {
                console.error(
                  u.createErrorMessage(e, "Failed to append language buttons")
                );
              }
              if (n) {
                let e = "";
                for (const t of n)
                  e += `<button filter="${t}">${t.replace("_", " ")}</button>`;
                const t = document.querySelector(
                  ".pageAccount .content .filterButtons .buttonsAndTitle.languages .buttons"
                );
                t && (t.innerHTML = e);
              }
              try {
                i = yield u.getFunboxList();
              } catch (e) {
                console.error(
                  u.createErrorMessage(e, "Failed to append funbox buttons")
                );
              }
              if (i) {
                let e = "";
                for (const t of i)
                  e += `<button filter="${t.name}">${t.name.replace(
                    /_/g,
                    " "
                  )}</button>`;
                const t = document.querySelector(
                  ".pageAccount .content .filterButtons .buttonsAndTitle.funbox .buttons"
                );
                t && (t.innerHTML = '<button filter="none">none</button>' + e);
              }
              const a = l.getSnapshot();
              if (
                (null !==
                  (t =
                    null === (e = null == a ? void 0 : a.tags) || void 0 === e
                      ? void 0
                      : e.length) && void 0 !== t
                  ? t
                  : 0) > 0
              ) {
                $(
                  ".pageAccount .content .filterButtons .buttonsAndTitle.tags"
                ).removeClass("hidden");
                let e = '<button filter="none">no tag</button>';
                for (const t of null !== (o = null == a ? void 0 : a.tags) &&
                void 0 !== o
                  ? o
                  : [])
                  e += `<button filter="${t._id}">${t.display}</button>`;
                const t = document.querySelector(
                  ".pageAccount .content .filterButtons .buttonsAndTitle.tags .buttons"
                );
                t && (t.innerHTML = e);
              } else $(".pageAccount .content .filterButtons .buttonsAndTitle.tags").addClass("hidden");
              v();
            });
          }),
          (t.removeButtons = function () {
            $(
              ".pageAccount .content .filterButtons .buttonsAndTitle.languages .buttons"
            ).empty(),
              $(
                ".pageAccount .content .filterButtons .buttonsAndTitle.funbox .buttons"
              ).empty(),
              $(
                ".pageAccount .content .filterButtons .buttonsAndTitle.tags .buttons"
              ).empty();
          }),
          $(".pageAccount .topFilters button.createFilterPresetBtn").on(
            "click",
            () => {
              !(function () {
                r(this, void 0, void 0, function* () {
                  (0, h.showNewResultFilterPresetPopup)((e) =>
                    r(this, void 0, void 0, function* () {
                      return (function (e) {
                        return r(this, void 0, void 0, function* () {
                          (e = e.replace(/ /g, "_")), f.show();
                          const t = yield p.default.users.addResultFilterPreset(
                            Object.assign(Object.assign({}, m), {
                              name: e,
                            })
                          );
                          f.hide(),
                            200 === t.status
                              ? ((function (e) {
                                  const t = l.getSnapshot();
                                  t &&
                                    l.setSnapshot(
                                      Object.assign(Object.assign({}, t), {
                                        filterPresets: [
                                          ...t.filterPresets,
                                          y(e),
                                        ],
                                      })
                                    );
                                })(
                                  Object.assign(Object.assign({}, m), {
                                    name: e,
                                    _id: t.data,
                                  })
                                ),
                                v(),
                                c.add("Filter preset created", 1))
                              : (c.add(
                                  "Error creating filter preset: " + t.message,
                                  -1
                                ),
                                console.log(
                                  "error creating filter preset: " + t.message
                                ));
                        });
                      })(e);
                    })
                  );
                });
              })();
            }
          ),
          $(".group.presetFilterButtons .filterBtns").on(
            "click",
            ".filterPresets .delete-filter-preset",
            (e) => {
              !(function (e) {
                r(this, void 0, void 0, function* () {
                  f.show();
                  const t = yield p.default.users.removeResultFilterPreset(e);
                  f.hide(),
                    200 === t.status
                      ? ((function (e) {
                          const t = l.getSnapshot();
                          if (!t) return;
                          const o = [...t.filterPresets],
                            n = o.findIndex((t) => t._id === e);
                          n > -1 && o.splice(n, 1),
                            l.setSnapshot(
                              Object.assign(Object.assign({}, t), {
                                filterPresets: o,
                              })
                            );
                        })(e),
                        v(),
                        x(),
                        c.add("Filter preset deleted", 1))
                      : (c.add(
                          "Error deleting filter preset: " + t.message,
                          -1
                        ),
                        console.log("error deleting filter preset", t.message));
                });
              })($(e.currentTarget).data("id"));
            }
          );
      },
      3271: function (e, t, o) {
        var n =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          i =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.buildHttpClient = void 0);
        const a = o(6617),
          r = o(513),
          s = i(o(7218)),
          u = o(6144);
        function l(e, t) {
          return (o, i = {}) =>
            n(this, void 0, void 0, function* () {
              var l, d, c;
              let p = "";
              try {
                const s = yield (function (e) {
                  return n(this, void 0, void 0, function* () {
                    const t =
                        null === a.Auth || void 0 === a.Auth
                          ? void 0
                          : a.Auth.currentUser,
                      o = t && (yield (0, r.getIdToken)(t));
                    return {
                      params: e.searchQuery,
                      data: e.payload,
                      headers: Object.assign(
                        Object.assign(
                          Object.assign(Object.assign({}, e.headers), {
                            Accept: "application/json",
                            "Content-Type": "application/json",
                          }),
                          o && {
                            Authorization: `Bearer ${o}`,
                          }
                        ),
                        {
                          "X-Client-Version": u.CLIENT_VERSION,
                        }
                      ),
                    };
                  });
                })(i);
                let l;
                l =
                  "get" === t || "delete" === t
                    ? yield e(o, s)
                    : yield e(o, s.data, s);
                const { message: d, data: c } = l.data;
                return {
                  status: l.status,
                  message: d,
                  data: c,
                };
              } catch (e) {
                console.error(e);
                const t = e;
                if (((p = t.message), s.default.isAxiosError(t)))
                  return Object.assign(
                    {
                      status:
                        null !==
                          (d =
                            null === (l = t.response) || void 0 === l
                              ? void 0
                              : l.status) && void 0 !== d
                          ? d
                          : 500,
                      message: t.message,
                    },
                    null === (c = t.response) || void 0 === c ? void 0 : c.data
                  );
              }
              return {
                status: 500,
                message: p,
                data: null,
              };
            });
        }
        t.buildHttpClient = function (e, t) {
          const o = s.default.create({
            baseURL: e,
            timeout: t,
          });
          return {
            get: l(o.get, "get"),
            post: l(o.post, "post"),
            put: l(o.put, "put"),
            patch: l(o.patch, "patch"),
            delete: l(o.delete, "delete"),
          };
        };
      },
      6510: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (i, a) {
              function r(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  a(e);
                }
              }
              function s(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  a(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(r, s);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const n = "/ape-keys";
        t.default = class {
          constructor(e) {
            (this.httpClient = e), (this.httpClient = e);
          }
          get() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get(n);
            });
          }
          generate(e, t) {
            return o(this, void 0, void 0, function* () {
              const o = {
                name: e,
                enabled: t,
              };
              return yield this.httpClient.post(n, {
                payload: o,
              });
            });
          }
          update(e, t) {
            return o(this, void 0, void 0, function* () {
              const o = Object.assign({}, t);
              return yield this.httpClient.patch(`/ape-keys/${e}`, {
                payload: o,
              });
            });
          }
          delete(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.delete(`/ape-keys/${e}`);
            });
          }
        };
      },
      4146: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (i, a) {
              function r(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  a(e);
                }
              }
              function s(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  a(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(r, s);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const n = "/configs";
        t.default = class {
          constructor(e) {
            (this.httpClient = e), (this.httpClient = e);
          }
          get() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get(n);
            });
          }
          save(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.patch(n, {
                payload: {
                  config: e,
                },
              });
            });
          }
        };
      },
      9543: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (i, a) {
              function r(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  a(e);
                }
              }
              function s(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  a(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(r, s);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.default = class {
            constructor(e) {
              (this.httpClient = e), (this.httpClient = e);
            }
            get() {
              return o(this, void 0, void 0, function* () {
                return yield this.httpClient.get("/configuration");
              });
            }
          });
      },
      1571: function (e, t, o) {
        var n =
          (this && this.__importDefault) ||
          function (e) {
            return e && e.__esModule
              ? e
              : {
                  default: e,
                };
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const i = n(o(4146)),
          a = n(o(7771)),
          r = n(o(472)),
          s = n(o(3870)),
          u = n(o(3082)),
          l = n(o(8413)),
          d = n(o(9303)),
          c = n(o(6510)),
          p = n(o(4253)),
          f = n(o(9543));
        t.default = {
          Configs: i.default,
          Leaderboards: a.default,
          Presets: r.default,
          Psas: s.default,
          Public: p.default,
          Quotes: u.default,
          Results: l.default,
          Users: d.default,
          ApeKeys: c.default,
          Configuration: f.default,
        };
      },
      7771: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (i, a) {
              function r(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  a(e);
                }
              }
              function s(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  a(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(r, s);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const n = "/leaderboards";
        t.default = class {
          constructor(e) {
            (this.httpClient = e), (this.httpClient = e);
          }
          get(e) {
            return o(this, void 0, void 0, function* () {
              const {
                  language: t,
                  mode: o,
                  mode2: i,
                  isDaily: a,
                  skip: r = 0,
                  limit: s = 50,
                  daysBefore: u,
                } = e,
                l = a && u,
                d = Object.assign(
                  {
                    language: t,
                    mode: o,
                    mode2: i,
                    skip: Math.max(r, 0),
                    limit: Math.max(Math.min(s, 50), 0),
                  },
                  l && {
                    daysBefore: u,
                  }
                ),
                c = `${n}/${a ? "daily" : ""}`;
              return yield this.httpClient.get(c, {
                searchQuery: d,
              });
            });
          }
          getRank(e) {
            return o(this, void 0, void 0, function* () {
              const {
                  language: t,
                  mode: o,
                  mode2: i,
                  isDaily: a,
                  daysBefore: r,
                } = e,
                s = a && r,
                u = Object.assign(
                  {
                    language: t,
                    mode: o,
                    mode2: i,
                  },
                  s && {
                    daysBefore: r,
                  }
                ),
                l = `${n}${a ? "/daily" : ""}/rank`;
              return yield this.httpClient.get(l, {
                searchQuery: u,
              });
            });
          }
        };
      },
      472: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (i, a) {
              function r(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  a(e);
                }
              }
              function s(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  a(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(r, s);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const n = "/presets";
        t.default = class {
          constructor(e) {
            (this.httpClient = e), (this.httpClient = e);
          }
          get() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get(n);
            });
          }
          add(e, t) {
            return o(this, void 0, void 0, function* () {
              const o = {
                name: e,
                config: t,
              };
              return yield this.httpClient.post(n, {
                payload: o,
              });
            });
          }
          edit(e, t, i) {
            return o(this, void 0, void 0, function* () {
              const o = {
                _id: e,
                name: t,
                config: i,
              };
              return yield this.httpClient.patch(n, {
                payload: o,
              });
            });
          }
          delete(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.delete(`/presets/${e}`);
            });
          }
        };
      },
      3870: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (i, a) {
              function r(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  a(e);
                }
              }
              function s(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  a(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(r, s);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.default = class {
            constructor(e) {
              (this.httpClient = e), (this.httpClient = e);
            }
            get() {
              return o(this, void 0, void 0, function* () {
                return yield this.httpClient.get("/psas");
              });
            }
          });
      },
      4253: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (i, a) {
              function r(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  a(e);
                }
              }
              function s(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  a(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(r, s);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.default = class {
            constructor(e) {
              (this.httpClient = e), (this.httpClient = e);
            }
            getSpeedHistogram(e) {
              return o(this, void 0, void 0, function* () {
                return yield this.httpClient.get("/public/speedHistogram", {
                  searchQuery: e,
                });
              });
            }
            getTypingStats() {
              return o(this, void 0, void 0, function* () {
                return yield this.httpClient.get("/public/typingStats");
              });
            }
          });
      },
      3082: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (i, a) {
              function r(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  a(e);
                }
              }
              function s(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  a(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(r, s);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const n = "/quotes";
        t.default = class {
          constructor(e) {
            (this.httpClient = e), (this.httpClient = e);
          }
          get() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get(n);
            });
          }
          isSubmissionEnabled() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get("/quotes/isSubmissionEnabled");
            });
          }
          submit(e, t, i, a) {
            return o(this, void 0, void 0, function* () {
              const o = {
                text: e,
                source: t,
                language: i,
                captcha: a,
              };
              return yield this.httpClient.post(n, {
                payload: o,
              });
            });
          }
          approveSubmission(e, t, n) {
            return o(this, void 0, void 0, function* () {
              const o = {
                quoteId: e,
                editText: t,
                editSource: n,
              };
              return yield this.httpClient.post("/quotes/approve", {
                payload: o,
              });
            });
          }
          rejectSubmission(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.post("/quotes/reject", {
                payload: {
                  quoteId: e,
                },
              });
            });
          }
          getRating(e) {
            return o(this, void 0, void 0, function* () {
              const t = {
                quoteId: e.id,
                language: e.language,
              };
              return yield this.httpClient.get("/quotes/rating", {
                searchQuery: t,
              });
            });
          }
          addRating(e, t) {
            return o(this, void 0, void 0, function* () {
              const o = {
                quoteId: e.id,
                rating: t,
                language: e.language,
              };
              return yield this.httpClient.post("/quotes/rating", {
                payload: o,
              });
            });
          }
          report(e, t, n, i, a) {
            return o(this, void 0, void 0, function* () {
              const o = {
                quoteId: e,
                quoteLanguage: t,
                reason: n,
                comment: i,
                captcha: a,
              };
              return yield this.httpClient.post("/quotes/report", {
                payload: o,
              });
            });
          }
        };
      },
      8413: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (i, a) {
              function r(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  a(e);
                }
              }
              function s(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  a(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(r, s);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const n = "/results";
        t.default = class {
          constructor(e) {
            (this.httpClient = e), (this.httpClient = e);
          }
          get(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get(n, {
                searchQuery: {
                  offset: e,
                },
              });
            });
          }
          save(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.post(n, {
                payload: {
                  result: e,
                },
              });
            });
          }
          updateTags(e, t) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.patch("/results/tags", {
                payload: {
                  resultId: e,
                  tagIds: t,
                },
              });
            });
          }
          deleteAll() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.delete(n);
            });
          }
        };
      },
      9303: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (i, a) {
              function r(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  a(e);
                }
              }
              function s(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  a(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(r, s);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const n = "/users";
        t.default = class {
          constructor(e) {
            (this.httpClient = e), (this.httpClient = e);
          }
          getData() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get(n);
            });
          }
          create(e, t, n, i) {
            return o(this, void 0, void 0, function* () {
              const o = {
                email: n,
                name: e,
                uid: i,
                captcha: t,
              };
              return yield this.httpClient.post("/users/signup", {
                payload: o,
              });
            });
          }
          getNameAvailability(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get(`/users/checkName/${e}`);
            });
          }
          delete() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.delete(n);
            });
          }
          reset() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.patch("/users/reset");
            });
          }
          optOutOfLeaderboards() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.post("/users/optOutOfLeaderboards");
            });
          }
          updateName(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.patch("/users/name", {
                payload: {
                  name: e,
                },
              });
            });
          }
          updateLeaderboardMemory(e, t, n, i) {
            return o(this, void 0, void 0, function* () {
              const o = {
                mode: e,
                mode2: t,
                language: n,
                rank: i,
              };
              return yield this.httpClient.patch("/users/leaderboardMemory", {
                payload: o,
              });
            });
          }
          updateEmail(e, t) {
            return o(this, void 0, void 0, function* () {
              const o = {
                newEmail: e,
                previousEmail: t,
              };
              return yield this.httpClient.patch("/users/email", {
                payload: o,
              });
            });
          }
          deletePersonalBests() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.delete("/users/personalBests");
            });
          }
          addResultFilterPreset(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.post("/users/resultFilterPresets", {
                payload: e,
              });
            });
          }
          removeResultFilterPreset(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.delete(
                `/users/resultFilterPresets/${e}`
              );
            });
          }
          createTag(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.post("/users/tags", {
                payload: {
                  tagName: e,
                },
              });
            });
          }
          editTag(e, t) {
            return o(this, void 0, void 0, function* () {
              const o = {
                tagId: e,
                newName: t,
              };
              return yield this.httpClient.patch("/users/tags", {
                payload: o,
              });
            });
          }
          deleteTag(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.delete(`/users/tags/${e}`);
            });
          }
          deleteTagPersonalBest(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.delete(
                `/users/tags/${e}/personalBest`
              );
            });
          }
          getCustomThemes() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get("/users/customThemes");
            });
          }
          editCustomTheme(e, t) {
            return o(this, void 0, void 0, function* () {
              const o = {
                themeId: e,
                theme: {
                  name: t.name,
                  colors: t.colors,
                },
              };
              return yield this.httpClient.patch("/users/customThemes", {
                payload: o,
              });
            });
          }
          deleteCustomTheme(e) {
            return o(this, void 0, void 0, function* () {
              const t = {
                themeId: e,
              };
              return yield this.httpClient.delete("/users/customThemes", {
                payload: t,
              });
            });
          }
          addCustomTheme(e) {
            return o(this, void 0, void 0, function* () {
              const t = {
                name: e.name,
                colors: e.colors,
              };
              return yield this.httpClient.post("/users/customThemes", {
                payload: t,
              });
            });
          }
          getOauthLink() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get("/users/discord/oauth");
            });
          }
          linkDiscord(e, t, n) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.post("/users/discord/link", {
                payload: {
                  tokenType: e,
                  accessToken: t,
                  state: n,
                },
              });
            });
          }
          unlinkDiscord() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.post("/users/discord/unlink");
            });
          }
          addQuoteToFavorites(e, t) {
            return o(this, void 0, void 0, function* () {
              const o = {
                language: e,
                quoteId: t,
              };
              return yield this.httpClient.post("/users/favoriteQuotes", {
                payload: o,
              });
            });
          }
          removeQuoteFromFavorites(e, t) {
            return o(this, void 0, void 0, function* () {
              const o = {
                language: e,
                quoteId: t,
              };
              return yield this.httpClient.delete("/users/favoriteQuotes", {
                payload: o,
              });
            });
          }
          getProfileByUid(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get(`/users/${e}/profile?isUid`);
            });
          }
          getProfileByName(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get(`/users/${e}/profile`);
            });
          }
          updateProfile(e, t) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.patch("/users/profile", {
                payload: Object.assign(Object.assign({}, e), {
                  selectedBadgeId: t,
                }),
              });
            });
          }
          getInbox() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get("/users/inbox");
            });
          }
          updateInbox(e) {
            return o(this, void 0, void 0, function* () {
              const t = {
                mailIdsToDelete: e.mailIdsToDelete,
                mailIdsToMarkRead: e.mailIdsToMarkRead,
              };
              return yield this.httpClient.patch("/users/inbox", {
                payload: t,
              });
            });
          }
          report(e, t, n, i) {
            return o(this, void 0, void 0, function* () {
              const o = {
                uid: e,
                reason: t,
                comment: n,
                captcha: i,
              };
              return yield this.httpClient.post("/users/report", {
                payload: o,
              });
            });
          }
          verificationEmail() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.get("/users/verificationEmail");
            });
          }
          forgotPasswordEmail(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.post("/users/forgotPasswordEmail", {
                payload: {
                  email: e,
                },
              });
            });
          }
          setStreakHourOffset(e) {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.post("/users/setStreakHourOffset", {
                payload: {
                  hourOffset: e,
                },
              });
            });
          }
          revokeAllTokens() {
            return o(this, void 0, void 0, function* () {
              return yield this.httpClient.post("/users/revokeAllTokens");
            });
          }
        };
      },
      7355: function (e, t, o) {
        var n =
          (this && this.__importDefault) ||
          function (e) {
            return e && e.__esModule
              ? e
              : {
                  default: e,
                };
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const i = n(o(1571)),
          a = o(3271),
          r = `${o(9438).envConfig.backendUrl}`,
          s = (0, a.buildHttpClient)(r, 1e4),
          u = {
            users: new i.default.Users(s),
            configs: new i.default.Configs(s),
            results: new i.default.Results(s),
            psas: new i.default.Psas(s),
            quotes: new i.default.Quotes(s),
            leaderboards: new i.default.Leaderboards(s),
            presets: new i.default.Presets(s),
            publicStats: new i.default.Public(s),
            apeKeys: new i.default.ApeKeys(s),
            configuration: new i.default.Configuration(s),
          };
        t.default = u;
      },
      2207: function (e, t, o) {
        var n =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          i =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.sync = t.get = void 0);
        const a = i(o(7355));
        let r;
        (t.get = function () {
          return r;
        }),
          (t.sync = function () {
            return n(this, void 0, void 0, function* () {
              const e = yield a.default.configuration.get();
              200 === e.status
                ? (r = e.data)
                : console.error("Could not fetch configuration", e.message);
            });
          });
      },
      9102: function (e, t, o) {
        var n,
          i,
          a,
          r,
          s,
          u,
          l,
          d,
          c,
          p,
          f,
          h,
          m,
          g,
          v,
          y,
          b,
          w,
          $,
          _,
          C,
          S =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          x =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          P =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    S(t, e, o);
              return x(t, e), t;
            },
          k =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          T =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.getCurrent =
            t.pushCurrent =
            t.setCurrent =
            t.current =
            t.getList =
            t.commands =
              void 0);
        const O = T(o(5724)),
          M = T(o(3045)),
          A = T(o(7589)),
          j = T(o(2050)),
          W = T(o(3635)),
          L = T(o(4475)),
          B = T(o(1386)),
          E = T(o(1453)),
          F = T(o(1489)),
          I = T(o(3750)),
          R = T(o(5828)),
          D = T(o(8489)),
          V = T(o(2291)),
          q = T(o(5989)),
          H = T(o(5900)),
          K = T(o(6528)),
          N = T(o(2132)),
          z = T(o(944)),
          U = T(o(3553)),
          Q = T(o(4267)),
          G = T(o(5504)),
          J = T(o(5547)),
          Y = T(o(1059)),
          Z = T(o(7087)),
          X = T(o(4770)),
          ee = T(o(7428)),
          te = T(o(8128)),
          oe = T(o(5943)),
          ne = T(o(4847)),
          ie = T(o(5979)),
          ae = T(o(6501)),
          re = T(o(7941)),
          se = T(o(8846)),
          ue = T(o(4730)),
          le = T(o(129)),
          de = T(o(3054)),
          ce = T(o(1531)),
          pe = T(o(9050)),
          fe = T(o(7357)),
          he = T(o(4981)),
          me = T(o(1404)),
          ge = T(o(6609)),
          ve = T(o(8520)),
          ye = T(o(5031)),
          be = T(o(2745)),
          we = T(o(9950)),
          $e = T(o(856)),
          _e = T(o(2815)),
          Ce = T(o(5264)),
          Se = T(o(554)),
          xe = T(o(5215)),
          Pe = T(o(6373)),
          ke = T(o(9651)),
          Te = T(o(6704)),
          Oe = T(o(4846)),
          Me = T(o(4580)),
          Ae = T(o(9937)),
          je = T(o(8137)),
          We = T(o(6880)),
          Le = T(o(3049)),
          Be = T(o(1276)),
          Ee = T(o(788)),
          Fe = T(o(5077)),
          Ie = T(o(2274)),
          Re = T(o(5093)),
          De = T(o(2546)),
          Ve = T(o(7898)),
          qe = T(o(2647)),
          He = T(o(68)),
          Ke = T(o(8633)),
          Ne = T(o(3487)),
          ze = T(o(6649)),
          Ue = T(o(7103)),
          Qe = P(o(2642)),
          Ge = P(o(6780)),
          Je = P(o(4766)),
          Ye = P(o(8351)),
          Ze = P(o(8638)),
          Xe = P(o(5064)),
          et = P(o(1178)),
          tt = P(o(6705)),
          ot = tt,
          nt = P(o(3388)),
          it = o(743),
          at = P(o(2786)),
          rt = P(o(8835)),
          st = P(o(3368)),
          ut = P(o(2864)),
          lt = P(o(4924)),
          dt = P(o(2474)),
          ct = P(o(2338)),
          pt = P(o(2560));
        nt
          .getLayoutsList()
          .then((e) => {
            (0, Qe.update)(e), (0, et.update)(e);
          })
          .catch((e) => {
            console.error(
              nt.createErrorMessage(e, "Failed to update layouts commands")
            );
          }),
          nt
            .getLanguageList()
            .then((e) => {
              (0, Xe.update)(e);
            })
            .catch((e) => {
              console.error(
                nt.createErrorMessage(e, "Failed to update language commands")
              );
            }),
          nt
            .getFunboxList()
            .then((e) => {
              var t;
              (0, Ge.update)(e),
                (null === (t = Ge.default[0]) || void 0 === t
                  ? void 0
                  : t.subgroup) &&
                  (Ge.default[0].subgroup.beforeList = () => {
                    (0, Ge.update)(e);
                  });
            })
            .catch((e) => {
              console.error(
                nt.createErrorMessage(e, "Failed to update funbox commands")
              );
            }),
          nt
            .getFontsList()
            .then((e) => {
              (0, Ze.update)(e);
            })
            .catch((e) => {
              console.error(
                nt.createErrorMessage(e, "Failed to update fonts commands")
              );
            }),
          nt
            .getThemesList()
            .then((e) => {
              (0, Je.update)(e);
            })
            .catch((e) => {
              console.error(
                nt.createErrorMessage(e, "Failed to update themes commands")
              );
            }),
          nt
            .getChallengeList()
            .then((e) => {
              (0, Ye.update)(e);
            })
            .catch((e) => {
              console.error(
                nt.createErrorMessage(e, "Failed to update challenges commands")
              );
            }),
          (t.commands = {
            title: "",
            list: [
              ...Ve.default,
              ...O.default,
              ...E.default,
              ...M.default,
              ...A.default,
              ...j.default,
              ...L.default,
              {
                id: "changeCustomModeText",
                display: "Change custom text",
                icon: "fa-align-left",
                exec: () => {
                  at.show();
                },
              },
              {
                id: "viewQuoteSearchPopup",
                display: "Search for quotes",
                icon: "fa-search",
                exec: () => {
                  ot.setMode("quote"), ct.show();
                },
                shouldFocusTestUI: !1,
              },
              ...Fe.default,
              {
                id: "shareTestSettings",
                display: "Share test settings",
                icon: "fa-share",
                exec: () =>
                  k(void 0, void 0, void 0, function* () {
                    lt.show();
                  }),
              },
              ...Ne.default,
              ...Ue.default,
              ...Ie.default,
              ...be.default,
              ...I.default,
              ...R.default,
              ...Q.default,
              ...G.default,
              ...ce.default,
              ...he.default,
              ...me.default,
              ...ge.default,
              ...Xe.default,
              ...Oe.default,
              ...Ge.default,
              {
                id: "changeCustomLayoutfluid",
                display: "Custom layoutfluid...",
                defaultValue: () => tt.default.customLayoutfluid,
                input: !0,
                icon: "fa-tint",
                exec: (e) => {
                  void 0 !== e && ot.setCustomLayoutfluid(e);
                },
              },
              ...z.default,
              ...U.default,
              ...X.default,
              ...B.default,
              ...W.default,
              ...Z.default,
              ...J.default,
              ...Y.default,
              ...se.default,
              ...Qe.default,
              ...te.default,
              ...fe.default,
              ...ee.default,
              ...F.default,
              ..._e.default,
              ...$e.default,
              ...Ce.default,
              ...we.default,
              ...Se.default,
              ...xe.default,
              ...Pe.default,
              ...ke.default,
              ...Te.default,
              ...ne.default,
              ...ue.default,
              ...ae.default,
              ...ie.default,
              ...re.default,
              ...De.default,
              ...Ze.default,
              ...Le.default,
              ...Me.default,
              ...Ae.default,
              ...je.default,
              ...et.default,
              ...We.default,
              ...Je.default,
              ...ve.default,
              ...ze.default,
              ...oe.default,
              ...le.default,
              ...Ke.default,
              {
                id: "changeCustomBackground",
                display: "Custom background...",
                icon: "fa-image",
                defaultValue: () => tt.default.customBackground,
                input: !0,
                exec: (e) => {
                  e || (e = ""), ot.setCustomBackground(e);
                },
              },
              ...qe.default,
              ...He.default,
              ...ye.default,
              {
                id: "randomizeTheme",
                display: "Next random theme",
                icon: "fa-random",
                exec: () =>
                  k(void 0, void 0, void 0, function* () {
                    return (0, it.randomizeTheme)();
                  }),
                available: () => "off" !== tt.default.randomTheme,
              },
              ...D.default,
              ...V.default,
              ...q.default,
              ...K.default,
              ...N.default,
              ...de.default,
              ...pe.default,
              ...H.default,
              ...Ee.default,
              {
                id: "toggleMonkey",
                display: "Toggle Monkey",
                icon: "fa-egg",
                visible: !1,
                exec: () => {
                  ot.setMonkey(!tt.default.monkey);
                },
              },
              ...Be.default,
              ...Ye.default,
              ...Re.default,
              {
                id: "watchVideoAd",
                display: "Watch video ad",
                alias: "support donate",
                icon: "fa-ad",
                exec: () => {
                  ut.show();
                },
              },
              {
                id: "importSettingsJSON",
                display: "Import settings JSON",
                icon: "fa-cog",
                alias: "import config",
                input: !0,
                exec: (e) => {
                  if (e)
                    try {
                      ot.apply(JSON.parse(e)),
                        ot.saveFullConfigToLocalStorage(),
                        rt.update(),
                        st.add("Done", 1);
                    } catch (e) {
                      st.add(
                        "An error occured while importing settings: " + e,
                        -1
                      );
                    }
                },
              },
              {
                id: "exportSettingsJSON",
                display: "Export settings JSON",
                icon: "fa-cog",
                alias: "export config",
                input: !0,
                defaultValue: () => JSON.stringify(tt.default),
              },
              {
                id: "clearNotifications",
                display: "Clear all notifications",
                icon: "fa-trash-alt",
                exec: () =>
                  k(void 0, void 0, void 0, function* () {
                    st.clearAllNotifications();
                  }),
              },
              {
                id: "clearSwCache",
                display: "Clear SW cache",
                icon: "fa-cog",
                exec: () =>
                  k(void 0, void 0, void 0, function* () {
                    const e = yield caches.keys();
                    for (const t of e) yield caches.delete(t);
                    window.location.reload();
                  }),
              },
              {
                id: "getSwCache",
                display: "Get SW cache",
                icon: "fa-cog",
                exec: () =>
                  k(void 0, void 0, void 0, function* () {
                    alert(yield caches.keys());
                  }),
              },
              {
                id: "copyResultStats",
                display: "Copy result stats",
                icon: "fa-cog",
                visible: !1,
                exec: () =>
                  k(void 0, void 0, void 0, function* () {
                    navigator.clipboard
                      .writeText(JSON.stringify(dt.getStats()))
                      .then(() => {
                        st.add("Copied to clipboard", 1);
                      })
                      .catch((e) => {
                        st.add("Failed to copy to clipboard: " + e, -1);
                      });
                  }),
              },
              {
                id: "fpsCounter",
                display: "FPS counter...",
                icon: "fa-cog",
                visible: !1,
                subgroup: {
                  title: "FPS counter...",
                  list: [
                    {
                      id: "startFpsCounter",
                      display: "show",
                      icon: "fa-cog",
                      exec: () => {
                        pt.start();
                      },
                    },
                    {
                      id: "stopFpsCounter",
                      display: "hide",
                      icon: "fa-cog",
                      exec: () => {
                        pt.stop();
                      },
                    },
                  ],
                },
              },
              {
                id: "joinDiscord",
                display: "Join the Discord server",
                icon: "fa-users",
                exec: () => {
                  window.open("https://discord.gg/monkeytype");
                },
              },
            ],
          });
        const ft = {
          keymapLayouts:
            null === (n = et.default[0]) || void 0 === n ? void 0 : n.subgroup,
          enableAds:
            null === (i = Be.default[0]) || void 0 === i ? void 0 : i.subgroup,
          customThemesList:
            null === (a = ze.default[0]) || void 0 === a ? void 0 : a.subgroup,
          themes:
            null === (r = Je.default[0]) || void 0 === r ? void 0 : r.subgroup,
          loadChallenge:
            null === (s = Ye.default[0]) || void 0 === s ? void 0 : s.subgroup,
          languages:
            null === (u = Xe.default[0]) || void 0 === u ? void 0 : u.subgroup,
          difficulty:
            null === (l = be.default[0]) || void 0 === l ? void 0 : l.subgroup,
          lazyMode:
            null === (d = se.default[0]) || void 0 === d ? void 0 : d.subgroup,
          paceCaretMode:
            null === (c = $e.default[0]) || void 0 === c ? void 0 : c.subgroup,
          showAverage:
            null === (p = H.default[0]) || void 0 === p ? void 0 : p.subgroup,
          minWpm:
            null === (f = he.default[0]) || void 0 === f ? void 0 : f.subgroup,
          minAcc:
            null === (h = me.default[0]) || void 0 === h ? void 0 : h.subgroup,
          minBurst:
            null === (m = ge.default[0]) || void 0 === m ? void 0 : m.subgroup,
          funbox:
            null === (g = Ge.default[0]) || void 0 === g ? void 0 : g.subgroup,
          confidenceMode:
            null === (v = W.default[0]) || void 0 === v ? void 0 : v.subgroup,
          stopOnError:
            null === (y = B.default[0]) || void 0 === y ? void 0 : y.subgroup,
          layouts:
            null === (b = Qe.default[0]) || void 0 === b ? void 0 : b.subgroup,
          oppositeShiftMode:
            null === (w = X.default[0]) || void 0 === w ? void 0 : w.subgroup,
          tags:
            null === ($ = Ne.default[0]) || void 0 === $ ? void 0 : $.subgroup,
          resultSaving:
            null === (_ = Ie.default[0]) || void 0 === _ ? void 0 : _.subgroup,
          blindMode:
            null === (C = Q.default[0]) || void 0 === C ? void 0 : C.subgroup,
        };
        (t.getList = function (e) {
          const t = ft[e];
          if (!t)
            throw (
              (st.add(`List not found: ${e}`, -1),
              new Error(`List ${e} not found`))
            );
          return t;
        }),
          (t.current = []),
          (t.current = [t.commands]),
          (t.setCurrent = function (e) {
            t.current = e;
          }),
          (t.pushCurrent = function (e) {
            t.current.push(e);
          }),
          (t.getCurrent = function () {
            return t.current[t.current.length - 1];
          });
      },
      4487: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(743)),
          s = a(o(6705)),
          u = s,
          l = a(o(8911)),
          d = a(o(9102)),
          c = a(o(8673)),
          p = a(o(6350)),
          f = a(o(3368)),
          h = a(o(3326)),
          m = a(o(5705)),
          g = a(o(9470)),
          v = a(o(7346)),
          y = o(6617),
          b = o(3388),
          w = o(6649),
          _ = a(o(590)),
          C = a(o(2203)),
          S = "commandLineWrapper";
        let x = !1,
          P = !1,
          k = 0;
        const T = {
          usingSingleList: !1,
        };
        function O() {
          return T.usingSingleList;
        }
        function M() {
          $("#commandLineWrapper").addClass("noBackground"),
            s.default.showOutOfFocusWarning &&
              $("#words").removeClass("blurred");
        }
        function A() {
          $("#commandLineWrapper").removeClass("noBackground"),
            s.default.showOutOfFocusWarning && $("#words").addClass("blurred");
        }
        function j() {
          $("#commandLine .suggestions").empty();
          let e = "";
          const t = d.getCurrent();
          let o = 0;
          if (
            ($.each(t.list, (n, i) => {
              var a;
              if (i.found && (void 0 === i.available || i.available())) {
                let n =
                  null !== (a = i.icon) && void 0 !== a
                    ? a
                    : "fa-chevron-right";
                (n = /^fa-/g.test(n)
                  ? `<i class="fas fa-fw ${n}"></i>`
                  : `<div class="textIcon">${n}</div>`),
                  t.configKey &&
                    (n =
                      (i.configValueMode &&
                        "include" === i.configValueMode &&
                        s.default[t.configKey].includes(i.configValue)) ||
                      s.default[t.configKey] === i.configValue
                        ? '<i class="fas fa-fw fa-check"></i>'
                        : '<i class="fas fa-fw"></i>');
                let r = `<div class="icon">${n}</div>`;
                i.noIcon && !O() && (r = "");
                let u = "";
                i.customStyle && (u = i.customStyle),
                  i.id.startsWith("changeTheme") && i.customData
                    ? (e += `<div class="entry withThemeBubbles" command="${i.id}" index="${o}" style="${u}">\n        ${r}<div>${i.display}</div>\n        <div class="themeBubbles" style="background: ${i.customData.bgColor};outline: 0.25rem solid ${i.customData.bgColor};">\n          <div class="themeBubble" style="background: ${i.customData.mainColor}"></div>\n          <div class="themeBubble" style="background: ${i.customData.subColor}"></div>\n          <div class="themeBubble" style="background: ${i.customData.textColor}"></div>\n        </div>\n        </div>`)
                    : (e += `<div class="entry" command="${i.id}" index="${o}" style="${u}">${r}<div>${i.display}</div></div>`),
                  o++;
              }
            }),
            $("#commandLine .suggestions").html(e),
            0 === $("#commandLine .suggestions .entry").length
              ? $("#commandLine .separator").css({
                  height: 0,
                  margin: 0,
                })
              : $("#commandLine .separator").css({
                  height: "1px",
                  "margin-bottom": ".5rem",
                }),
            $("#commandLine .suggestions .entry").length > 0)
          )
            try {
              $.each(
                t.list,
                (e, t) =>
                  !t.found ||
                  (/changeTheme.+/gi.test(t.id) ? M() : A(),
                  (/theme/gi.test(t.id) && "toggleCustomTheme" !== t.id) ||
                    r.randomTheme ||
                    r.clearPreview(),
                  /font/gi.test(t.id) ||
                    u.previewFontFamily(s.default.fontFamily),
                  t.hover && t.hover(),
                  !1)
              );
            } catch (e) {}
          $("#commandLine .listTitle").remove();
        }
        function W() {
          const e = $("#commandLine input")
              .val()
              .toLowerCase()
              .split(" ")
              .filter((e, t) => e || 0 === t),
            t = d.getCurrent();
          if (
            (t.beforeList && t.beforeList(),
            "" === e[0] &&
              "on" === s.default.singleListCommandLine &&
              1 === d.current.length)
          )
            return (
              $.each(t.list, (e, t) => {
                t.found = !1;
              }),
              void j()
            );
          e[0] && ">" === e[0][0] && (e[0] = e[0].replace(/^>+/, "")),
            "" === e[0] && 1 === e.length
              ? $.each(t.list, (e, t) => {
                  !1 !== t.visible && (t.found = !0);
                })
              : $.each(t.list, (t, o) => {
                  let n = 0;
                  $.each(e, (e, t) => {
                    if ("" === t) return;
                    const i = t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&"),
                      a = new RegExp("\\b" + i, "g"),
                      r = o.display.toLowerCase().match(a),
                      s =
                        void 0 !== o.alias
                          ? o.alias.toLowerCase().match(a)
                          : null;
                    (null != r && r.length > 0) || (null != s && s.length > 0)
                      ? n++
                      : n--;
                  }),
                    n > e.length - 1 ? (o.found = !0) : (o.found = !1);
                }),
            j();
          const o = $(".suggestions .entry .icon i.fa-check")
            .parent()
            .parent()
            .attr("index");
          (k = void 0 !== o ? parseInt(o) : 0), R(), D();
        }
        function L() {
          (P = !1),
            (k = 0),
            (x = !1),
            (0, b.isElementVisible)(".page.pageLoading") ||
              (l.set(!1),
              _.append(S),
              $("#commandLine").removeClass("hidden"),
              $("#commandInput").addClass("hidden"),
              T.usingSingleList && $("#commandLine").addClass("allCommands"),
              (0, b.isPopupVisible)(S) ||
                $("#commandLineWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: 1,
                    },
                    125
                  ),
              $("#commandLine input").val(""),
              W(),
              $("#commandLine input").trigger("focus"));
        }
        function B(e = !0) {
          u.previewFontFamily(s.default.fontFamily),
            r.randomTheme || r.clearPreview(),
            $("#commandLineWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  A(),
                    $("#commandLineWrapper").addClass("hidden"),
                    $("#commandLine").removeClass("allCommands"),
                    (T.usingSingleList = !1),
                    e && c.focusWords(),
                    _.remove(S);
                }
              ),
            e && c.focusWords();
        }
        function E(e) {
          let t = !1,
            o = !1,
            n = !0;
          const i = d.getCurrent();
          let a = !1;
          C.set(),
            $.each(i.list, (i, r) => {
              var s;
              if (r.id === e)
                if (
                  (void 0 !== r.shouldFocusTestUI && (n = r.shouldFocusTestUI),
                  r.input)
                ) {
                  o = !0;
                  const e =
                    null !== (s = r.display.split("</i>")[1]) && void 0 !== s
                      ? s
                      : r.display;
                  !(function (e, t, o = "") {
                    $("#commandLineWrapper").removeClass("hidden"),
                      $("#commandLine").addClass("hidden"),
                      $("#commandInput").removeClass("hidden"),
                      $("#commandInput input").attr("placeholder", t),
                      $("#commandInput input").val(o),
                      $("#commandInput input").trigger("focus"),
                      $("#commandInput input").attr("command", ""),
                      $("#commandInput input").attr("command", e),
                      "" != o && $("#commandInput input").trigger("select");
                  })(r.id, e, r.defaultValue ? r.defaultValue() : "");
                } else
                  r.subgroup
                    ? ((t = !0),
                      r.subgroup.beforeList && r.subgroup.beforeList(),
                      d.current.push(r.subgroup),
                      L())
                    : (r.exec && r.exec(), !0 === r.sticky && (a = !0));
            }),
            t ||
              o ||
              a ||
              (h.log("usedCommandLine", {
                command: e,
              }),
              B(n));
        }
        function F(e, t) {
          var o, n, i, a, r, u, l;
          const d = [];
          if (e.subgroup) {
            const t = Object.assign(Object.assign({}, e), {
              subgroup: Object.assign(Object.assign({}, e.subgroup), {
                list: [],
              }),
            });
            null === (n = (o = e.subgroup).beforeList) ||
              void 0 === n ||
              n.call(o);
            for (const o of e.subgroup.list) d.push(...F(o, t));
          } else if (t) {
            const o = t.display.replace(/\s?\.\.\.$/g, "");
            let n = "";
            const c =
                null === (i = t.subgroup) || void 0 === i
                  ? void 0
                  : i.configKey,
              p = e.configValue;
            void 0 !== c &&
              void 0 !== p &&
              (n =
                ("include" === e.configValueMode && s.default[c].includes(p)) ||
                s.default[c] === p
                  ? '<i class="fas fa-fw fa-check"></i>'
                  : '<i class="fas fa-fw"></i>');
            const f = o + " > " + (e.noIcon ? "" : n) + e.display,
              h = Object.assign(Object.assign({}, e), {
                display: f,
                icon: t.icon,
                alias:
                  (null !== (a = t.alias) && void 0 !== a ? a : "") +
                  " " +
                  (null !== (r = e.alias) && void 0 !== r ? r : ""),
                visible:
                  (null === (u = t.visible) || void 0 === u || u) &&
                  (null === (l = e.visible) || void 0 === l || l),
                available: () => {
                  var o, n, i, a;
                  return (
                    (null ===
                      (n =
                        null === (o = null == t ? void 0 : t.available) ||
                        void 0 === o
                          ? void 0
                          : o.call(t)) ||
                      void 0 === n ||
                      n) &&
                    (null ===
                      (a =
                        null === (i = null == e ? void 0 : e.available) ||
                        void 0 === i
                          ? void 0
                          : i.call(e)) ||
                      void 0 === a ||
                      a)
                  );
                },
              });
            d.push(h);
          } else d.push(e);
          return d;
        }
        function I(e = !0) {
          const t = (function () {
            const e = [];
            for (const t of d.commands.list) e.push(...F(t));
            return {
              title: "All Commands",
              list: e,
            };
          })();
          d.setCurrent([t]),
            "manual" != s.default.singleListCommandLine &&
              ((T.usingSingleList = !0),
              $("#commandLine").addClass("allCommands")),
            e && L();
        }
        function R() {
          $("#commandLineWrapper #commandLine .suggestions .entry").removeClass(
            "active"
          ),
            $(
              `#commandLineWrapper #commandLine .suggestions .entry[index=${k}]`
            ).addClass("active");
        }
        function D() {
          var e, t;
          try {
            const o =
              Math.abs(
                (null === (e = $(".suggestions").offset()) || void 0 === e
                  ? void 0
                  : e.top) -
                  (null === (t = $(".entry.active").offset()) || void 0 === t
                    ? void 0
                    : t.top) -
                  $(".suggestions").scrollTop()
              ) -
              $(".suggestions").outerHeight() / 2 +
              $($(".entry")[0]).outerHeight();
            $(".suggestions").scrollTop(o);
          } catch (e) {
            e instanceof Error &&
              console.log("could not scroll suggestions: " + e.message);
          }
        }
        $("#commandLineWrapper #commandLine input").on("input", () => {
          (x = !1), W();
        }),
          $(document).ready(() => {
            $(document).on("keydown", (e) => {
              var t;
              if (!m.get()) {
                if (
                  (("Escape" === e.key && "esc" !== s.default.quickRestart) ||
                    ("p" ===
                      (null === (t = e.key) || void 0 === t
                        ? void 0
                        : t.toLowerCase()) &&
                      (e.metaKey || e.ctrlKey) &&
                      e.shiftKey) ||
                    (("Tab" === e.key || "Escape" === e.key) &&
                      "esc" === s.default.quickRestart)) &&
                  (0, b.isPopupVisible)(S)
                )
                  return (
                    d.current.length > 1
                      ? (d.current.pop(),
                        (T.usingSingleList = !1),
                        $("#commandLine").removeClass("allCommands"),
                        L())
                      : B(),
                    void u.setFontFamily(s.default.fontFamily, !0)
                  );
                if (
                  ("Escape" === e.key && "esc" !== s.default.quickRestart) ||
                  ("Tab" === e.key &&
                    "esc" === s.default.quickRestart &&
                    !g.hasTab &&
                    !e.shiftKey) ||
                  ("Tab" === e.key &&
                    "esc" === s.default.quickRestart &&
                    g.hasTab &&
                    e.shiftKey) ||
                  (e.key &&
                    "p" === e.key.toLowerCase() &&
                    (e.metaKey || e.ctrlKey) &&
                    e.shiftKey)
                ) {
                  const t = (0, b.isAnyPopupVisible)(),
                    o = (0, b.isElementVisible)(
                      ".pageAccount .miniResultChartWrapper"
                    );
                  if (t || o) return;
                  if ("esc" === s.default.quickRestart && "login" === v.get())
                    return;
                  e.preventDefault(),
                    "on" === s.default.singleListCommandLine
                      ? I(!1)
                      : d.setCurrent([d.commands]),
                    L();
                }
              }
            });
          }),
          $("#commandInput input").on("keydown", (e) => {
            if ("Enter" === e.key) {
              e.preventDefault();
              const t = $("#commandInput input").attr("command"),
                o = $("#commandInput input").val(),
                n = d.getCurrent();
              $.each(n.list, (e, n) => {
                n.id === t && n.exec && n.exec(o);
              }),
                h.log("usedCommandLine", {
                  command: null != t ? t : "",
                }),
                B();
            }
          }),
          $(document).on("mousemove", () => {
            x || (x = !0);
          }),
          $("#commandLineWrapper #commandLine").on(
            "mouseenter",
            ".suggestions .entry",
            (e) => {
              var t;
              x &&
                ((k = parseInt(
                  null !== (t = $(e.target).attr("index")) && void 0 !== t
                    ? t
                    : "0"
                )),
                R());
            }
          ),
          $("#commandLineWrapper #commandLine").on(
            "mouseleave",
            ".suggestions .entry",
            (e) => {
              var t;
              x &&
                ((k = parseInt(
                  null !== (t = $(e.target).attr("index")) && void 0 !== t
                    ? t
                    : "0"
                )),
                R());
            }
          ),
          $("#commandLineWrapper #commandLine .suggestions").on(
            "mouseover",
            (e) => {
              if (!x) return;
              const t = $(e.target).attr("command");
              try {
                const e = d.getCurrent();
                $.each(e.list, (e, o) => {
                  o.id === t &&
                    (/changeTheme.+/gi.test(o.id) ? M() : A(),
                    (/theme/gi.test(o.id) && "toggleCustomTheme" !== o.id) ||
                      r.randomTheme ||
                      r.clearPreview(),
                    /font/gi.test(o.id) ||
                      u.previewFontFamily(s.default.fontFamily),
                    o.hover && !P && o.hover());
                });
              } catch (e) {}
            }
          ),
          $("#commandLineWrapper #commandLine").on(
            "click",
            ".suggestions .entry",
            (e) => {
              (P = !0), E($(e.currentTarget).attr("command"));
            }
          ),
          $("#commandLineWrapper").on("mousedown", (e) => {
            "commandLineWrapper" === $(e.target).attr("id") &&
              (B(), u.setFontFamily(s.default.fontFamily, !0));
          }),
          $(document).on("keydown", (e) => {
            if ((0, b.isPopupVisible)(S)) {
              if (
                ($("#commandLine input").trigger("focus"),
                (x = !1),
                ">" === e.key && "manual" === s.default.singleListCommandLine)
              ) {
                if (!O()) return (T.usingSingleList = !0), void I(!1);
                if (">" === $("#commandLine input").val())
                  return void e.preventDefault();
              }
              if (
                (("Backspace" !== e.key && "Delete" !== e.key) ||
                  setTimeout(() => {
                    const e = $("#commandLine input").val();
                    "manual" === s.default.singleListCommandLine &&
                      O() &&
                      ">" !== e[0] &&
                      ((function (e = !0) {
                        O() &&
                          ((T.usingSingleList = !1),
                          $("#commandLine").removeClass("allCommands"),
                          d.setCurrent(
                            d.current.filter((e) => "All Commands" != e.title)
                          ),
                          d.current.length < 1 && d.setCurrent([d.commands])),
                          e && L();
                      })(!1),
                      W());
                  }, 1),
                "Enter" === e.key)
              )
                return (
                  e.preventDefault(),
                  void E($(".suggestions .entry.active").attr("command"))
                );
              if (
                "ArrowUp" === e.key ||
                "ArrowDown" === e.key ||
                "Tab" === e.key ||
                (e.ctrlKey &&
                  ("p" === e.key ||
                    "n" === e.key ||
                    "j" === e.key ||
                    "k" === e.key))
              ) {
                e.preventDefault(),
                  $("#commandLineWrapper #commandLine .suggestions .entry").off(
                    "mouseenter mouseleave"
                  );
                const t = $(".suggestions .entry");
                ("ArrowUp" === e.key ||
                  ("Tab" === e.key &&
                    e.shiftKey &&
                    "esc" !== s.default.quickRestart) ||
                  "p" === e.key ||
                  "k" === e.key) &&
                  (0 === k ? (k = t.length - 1) : k--),
                  ("ArrowDown" === e.key ||
                    ("Tab" === e.key &&
                      !e.shiftKey &&
                      "esc" !== s.default.quickRestart) ||
                    "n" === e.key ||
                    "j" === e.key) &&
                    (k + 1 === t.length ? (k = 0) : k++),
                  R(),
                  D();
                try {
                  const e = d.getCurrent(),
                    t = $(
                      "#commandLineWrapper #commandLine .suggestions .entry.active"
                    ).attr("command");
                  $.each(e.list, (e, o) => {
                    o.id === t &&
                      (/changeTheme.+/gi.test(o.id) ? M() : A(),
                      (/theme/gi.test(o.id) && "toggleCustomTheme" !== o.id) ||
                        r.randomTheme ||
                        r.clearPreview(),
                      /font/gi.test(o.id) ||
                        u.previewFontFamily(s.default.fontFamily),
                      o.hover && o.hover());
                  });
                } catch (e) {}
                return !1;
              }
            }
          }),
          $("#commandLineMobileButton").on("click", () => {
            "on" === s.default.singleListCommandLine
              ? I(!1)
              : d.setCurrent([d.commands]),
              L();
          }),
          $("#keymap").on("click", ".r5 .keySpace", () => {
            d.setCurrent([d.getList("keymapLayouts")]), L();
          }),
          $(".pageTest").on("click", "#testModesNotice .textButton", (e) => {
            const t = $(e.currentTarget).attr("commands");
            if (void 0 === t) return;
            const o = d.getList(t);
            void 0 !== o && (d.pushCurrent(o), L());
          }),
          $("footer").on("click", ".leftright .right .current-theme", (e) => {
            var t, o;
            if (e.shiftKey)
              if (s.default.customTheme) u.setCustomTheme(!1);
              else {
                if (
                  (null === y.Auth || void 0 === y.Auth
                    ? void 0
                    : y.Auth.currentUser) &&
                  (null !==
                    (o =
                      null === (t = p.getSnapshot()) || void 0 === t
                        ? void 0
                        : t.customThemes.length) && void 0 !== o
                    ? o
                    : 0) < 1
                )
                  return (
                    f.add("No custom themes!", 0), void u.setCustomTheme(!1)
                  );
                u.setCustomTheme(!0);
              }
            else
              s.default.customTheme && (0, w.update)(),
                d.setCurrent([
                  s.default.customTheme
                    ? d.getList("customThemesList")
                    : d.getList("themes"),
                ]),
                L();
          }),
          $(".supportButtons button.ads").on("click", () => {
            d.pushCurrent(d.getList("enableAds")), L();
          }),
          $(document.body).on("click", "#supportMeWrapper button.ads", () => {
            d.pushCurrent(d.getList("enableAds")), L();
          }),
          _.save(S);
      },
      8633: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = r,
          u = [
            {
              id: "addThemeToFavorite",
              display: "Add current theme to favorite",
              icon: "fa-heart",
              available: () =>
                !r.default.customTheme &&
                !r.default.favThemes.includes(r.default.theme),
              exec: () => {
                const { theme: e, favThemes: t, customTheme: o } = r.default;
                o || t.includes(e) || s.setFavThemes([...t, e]);
              },
            },
            {
              id: "removeThemeFromFavorite",
              display: "Remove current theme from favorite",
              icon: "fa-heart-broken",
              available: () =>
                !r.default.customTheme &&
                r.default.favThemes.includes(r.default.theme),
              exec: () => {
                const { theme: e, favThemes: t, customTheme: o } = r.default;
                !o &&
                  t.includes(e) &&
                  s.setFavThemes([...t.filter((t) => t !== e)]);
              },
            },
          ];
        t.default = u;
      },
      5979: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeAlwaysShowDecimal",
              display: "Always show decimal places...",
              icon: "00",
              subgroup: {
                title: "Always show decimal places...",
                configKey: "alwaysShowDecimalPlaces",
                list: [
                  {
                    id: "setAlwaysShowDecimalPlacesOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setAlwaysShowDecimalPlaces(!1);
                    },
                  },
                  {
                    id: "setAlwaysShowDecimalPlacesOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setAlwaysShowDecimalPlaces(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      68: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = r,
          u = [
            {
              id: "setCustomBackgroundFilter",
              display: "Custom background filter...",
              icon: "fa-image",
              subgroup: {
                title: "Custom background filter...",
                configKey: "customBackgroundFilter",
                list: [
                  {
                    id: "setCustomBackgroundBlur",
                    display: "blur...",
                    icon: "fa-image",
                    input: !0,
                    defaultValue: () =>
                      r.default.customBackgroundFilter[0].toString(),
                    exec: (e) => {
                      if (!e) return;
                      const t = r.default.customBackgroundFilter;
                      (t[0] = parseFloat(e)), s.setCustomBackgroundFilter(t);
                    },
                  },
                  {
                    id: "setCustomBackgroundBrightness",
                    display: "brightness...",
                    icon: "fa-image",
                    input: !0,
                    defaultValue: () =>
                      r.default.customBackgroundFilter[1].toString(),
                    exec: (e) => {
                      if (!e) return;
                      const t = r.default.customBackgroundFilter;
                      (t[1] = parseFloat(e)), s.setCustomBackgroundFilter(t);
                    },
                  },
                  {
                    id: "setCustomBackgroundSaturation",
                    display: "saturation...",
                    icon: "fa-image",
                    input: !0,
                    defaultValue: () =>
                      r.default.customBackgroundFilter[2].toString(),
                    exec: (e) => {
                      if (!e) return;
                      const t = r.default.customBackgroundFilter;
                      (t[2] = parseFloat(e)), s.setCustomBackgroundFilter(t);
                    },
                  },
                  {
                    id: "setCustomBackgroundOpacity",
                    display: "opacity...",
                    icon: "fa-image",
                    input: !0,
                    defaultValue: () =>
                      r.default.customBackgroundFilter[3].toString(),
                    exec: (e) => {
                      if (!e) return;
                      const t = r.default.customBackgroundFilter;
                      (t[3] = parseFloat(e)), s.setCustomBackgroundFilter(t);
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      2647: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "setCustomBackgroundSize",
              display: "Custom background size...",
              icon: "fa-image",
              subgroup: {
                title: "Custom background size...",
                configKey: "customBackgroundSize",
                list: [
                  {
                    id: "setCustomBackgroundSizeCover",
                    display: "cover",
                    icon: "fa-image",
                    configValue: "cover",
                    exec: () => {
                      r.setCustomBackgroundSize("cover");
                    },
                  },
                  {
                    id: "setCustomBackgroundSizeContain",
                    display: "contain",
                    icon: "fa-image",
                    configValue: "contain",
                    exec: () => {
                      r.setCustomBackgroundSize("contain");
                    },
                  },
                  {
                    id: "setCustomBackgroundSizeMax",
                    display: "max",
                    icon: "fa-image",
                    configValue: "max",
                    exec: () => {
                      r.setCustomBackgroundSize("max");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      5077: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const s = r(o(6705)),
          u = a(o(8248)),
          l = a(o(3013)),
          d = a(o(1322)),
          c = a(o(7717));
        function p() {
          return (
            ("custom" === s.default.mode && !0 === c.isCustomTextLong()) ||
            ("custom" === s.default.mode &&
              u.isWordRandom &&
              (u.word >= 5e3 || 0 === u.word)) ||
            ("custom" === s.default.mode &&
              !u.isWordRandom &&
              !u.isTimeRandom &&
              u.text.length >= 5e3) ||
            ("custom" === s.default.mode &&
              u.isTimeRandom &&
              (u.time >= 3600 || 0 === u.time)) ||
            ("words" === s.default.mode && s.default.words >= 5e3) ||
            0 === s.default.words ||
            ("time" === s.default.mode &&
              (s.default.time >= 3600 || 0 === s.default.time)) ||
            "zen" === s.default.mode
          );
        }
        const f = [
          {
            id: "bailOut",
            display: "Bail out...",
            icon: "fa-running",
            subgroup: {
              title: "Are you sure...",
              list: [
                {
                  id: "bailOutNo",
                  display: "Nevermind",
                  available: () => p(),
                },
                {
                  id: "bailOutForSure",
                  display: "Yes, I am sure",
                  exec: () => {
                    d.setBailedOut(!0), l.finish();
                  },
                  available: () => p(),
                },
              ],
            },
            visible: !1,
            available: () => p(),
          },
        ];
        t.default = f;
      },
      4267: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeBlindMode",
              display: "Blind mode...",
              icon: "fa-eye-slash",
              subgroup: {
                title: "Blind mode...",
                configKey: "blindMode",
                list: [
                  {
                    id: "setBlindModeOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setBlindMode(!1);
                    },
                  },
                  {
                    id: "setBlindModeOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setBlindMode(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      4846: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = a(o(3013)),
          u = [
            {
              id: "changeBritishEnglish",
              display: "British english...",
              icon: "fa-language",
              subgroup: {
                title: "British english...",
                configKey: "britishEnglish",
                list: [
                  {
                    id: "setBritishEnglishOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setBritishEnglish(!1), s.restart();
                    },
                  },
                  {
                    id: "setBritishEnglishOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setBritishEnglish(!0), s.restart();
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      9050: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "capsLockWarning",
              display: "Caps lock warning...",
              icon: "fa-exclamation-triangle",
              subgroup: {
                title: "Caps lock warning...",
                configKey: "capsLockWarning",
                list: [
                  {
                    id: "capsLockWarningOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setCapsLockWarning(!0);
                    },
                  },
                  {
                    id: "capsLockWarningOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setCapsLockWarning(!1);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      2815: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeCaretStyle",
              display: "Caret style...",
              icon: "fa-i-cursor",
              subgroup: {
                title: "Caret style...",
                configKey: "caretStyle",
                list: [
                  {
                    id: "setCaretStyleOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      r.setCaretStyle("off");
                    },
                  },
                  {
                    id: "setCaretStyleDefault",
                    display: "line",
                    configValue: "default",
                    exec: () => {
                      r.setCaretStyle("default");
                    },
                  },
                  {
                    id: "setCaretStyleBlock",
                    display: "block",
                    configValue: "block",
                    exec: () => {
                      r.setCaretStyle("block");
                    },
                  },
                  {
                    id: "setCaretStyleOutline",
                    display: "outline-block",
                    configValue: "outline",
                    exec: () => {
                      r.setCaretStyle("outline");
                    },
                  },
                  {
                    id: "setCaretStyleUnderline",
                    display: "underline",
                    configValue: "underline",
                    exec: () => {
                      r.setCaretStyle("underline");
                    },
                  },
                  {
                    id: "setCaretStyleCarrot",
                    display: "carrot",
                    configValue: "carrot",
                    visible: !1,
                    exec: () => {
                      r.setCaretStyle("carrot");
                    },
                  },
                  {
                    id: "setCaretStyleBanana",
                    display: "banana",
                    configValue: "banana",
                    visible: !1,
                    exec: () => {
                      r.setCaretStyle("banana");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      129: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeColorfulMode",
              display: "Colorful mode...",
              icon: "fa-fill-drip",
              subgroup: {
                title: "Colorful mode...",
                configKey: "colorfulMode",
                list: [
                  {
                    id: "setColorfulModeOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setColorfulMode(!1);
                    },
                  },
                  {
                    id: "setColorfulModeOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setColorfulMode(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      3635: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeConfidenceMode",
              display: "Confidence mode...",
              icon: "fa-backspace",
              subgroup: {
                title: "Confidence mode...",
                configKey: "confidenceMode",
                list: [
                  {
                    id: "changeConfidenceModeOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      r.setConfidenceMode("off");
                    },
                  },
                  {
                    id: "changeConfidenceModeOn",
                    display: "on",
                    configValue: "on",
                    exec: () => {
                      r.setConfidenceMode("on");
                    },
                  },
                  {
                    id: "changeConfidenceModeMax",
                    display: "max",
                    configValue: "max",
                    exec: () => {
                      r.setConfidenceMode("max");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      8520: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "setCustomTheme",
              display: "Custom theme...",
              icon: "fa-palette",
              subgroup: {
                title: "Custom theme",
                configKey: "customTheme",
                list: [
                  {
                    id: "setCustomThemeOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setCustomTheme(!1);
                    },
                  },
                  {
                    id: "setCustomThemeOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setCustomTheme(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      6649: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.update = void 0);
        const r = a(o(6705)),
          s = o(6617),
          u = a(o(6350)),
          l = a(o(743)),
          d = {
            title: "Custom themes list...",
            beforeList: () => p(),
            list: [],
          },
          c = [
            {
              id: "setCustomThemeId",
              display: "Custom themes...",
              icon: "fa-palette",
              subgroup: d,
              available: () =>
                !!(null === s.Auth || void 0 === s.Auth
                  ? void 0
                  : s.Auth.currentUser),
            },
          ];
        function p() {
          if (
            !(null === s.Auth || void 0 === s.Auth
              ? void 0
              : s.Auth.currentUser)
          )
            return;
          d.list = [];
          const e = u.getSnapshot();
          e &&
            0 !== e.customThemes.length &&
            e.customThemes.forEach((e) => {
              d.list.push({
                id: "setCustomThemeId" + e._id,
                display: e.name.replace(/_/gi, " "),
                configValue: e._id,
                hover: () => {
                  l.preview("custom", e.colors);
                },
                exec: () => {
                  r.setCustomTheme(!0), r.setCustomThemeColors(e.colors);
                },
              });
            });
        }
        (t.update = p), (t.default = c);
      },
      2745: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeDifficulty",
              display: "Difficulty...",
              icon: "fa-star",
              subgroup: {
                title: "Difficulty...",
                configKey: "difficulty",
                list: [
                  {
                    id: "setDifficultyNormal",
                    display: "normal",
                    configValue: "normal",
                    exec: () => {
                      r.setDifficulty("normal");
                    },
                  },
                  {
                    id: "setDifficultyExpert",
                    display: "expert",
                    configValue: "expert",
                    exec: () => {
                      r.setDifficulty("expert");
                    },
                  },
                  {
                    id: "setDifficultyMaster",
                    display: "master",
                    configValue: "master",
                    exec: () => {
                      r.setDifficulty("master");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      1276: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "setEnableAds",
              display: "Enable ads...",
              icon: "fa-ad",
              subgroup: {
                title: "Set enable ads...",
                configKey: "ads",
                list: [
                  {
                    id: "setEnableAdsOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      r.setAds("off");
                    },
                  },
                  {
                    id: "setEnableAdsOn",
                    display: "result",
                    configValue: "result",
                    exec: () => {
                      r.setAds("result");
                    },
                  },
                  {
                    id: "setEnableOn",
                    display: "on",
                    configValue: "on",
                    exec: () => {
                      r.setAds("on");
                    },
                  },
                  {
                    id: "setEnableSellout",
                    display: "sellout",
                    configValue: "sellout",
                    exec: () => {
                      r.setAds("sellout");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      5943: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeFlipTestColors",
              display: "Flip test colors...",
              icon: "fa-adjust",
              subgroup: {
                title: "Flip test colors...",
                configKey: "flipTestColors",
                list: [
                  {
                    id: "setFlipTestColorsOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setFlipTestColors(!1);
                    },
                  },
                  {
                    id: "setFlipTestColorsOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setFlipTestColors(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      8638: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.update = void 0);
        const r = a(o(6705)),
          s = r,
          u = {
            title: "Font family...",
            configKey: "fontFamily",
            list: [],
          },
          l = [
            {
              id: "changeFontFamily",
              display: "Font family...",
              icon: "fa-font",
              subgroup: u,
            },
          ];
        (t.update = function (e) {
          e.forEach((e) => {
            const t = e.name.replace(/ /g, "_");
            u.list.push({
              id: "changeFont" + e.name.replace(/ /g, "_"),
              display: void 0 !== e.display ? e.display : e.name,
              configValue: t,
              customStyle: `font-family: ${e.name}`,
              hover: () => {
                s.previewFontFamily(e.name);
              },
              exec: () => {
                s.setFontFamily(e.name.replace(/ /g, "_"));
              },
            });
          }),
            u.list.push({
              id: "setFontFamilyCustom",
              display: "custom...",
              input: !0,
              hover: () => {
                s.previewFontFamily(r.default.fontFamily);
              },
              exec: (e) => {
                e && s.setFontFamily(e.replace(/\s/g, "_"));
              },
            });
        }),
          (t.default = l);
      },
      2546: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = r,
          u = [
            {
              id: "changeFontSize",
              display: "Font size...",
              icon: "fa-font",
              input: !0,
              defaultValue: () => r.default.fontSize.toString(),
              exec: (e) => {
                e && s.setFontSize(parseFloat(e));
              },
            },
          ];
        t.default = u;
      },
      944: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeFreedomMode",
              display: "Freedom mode...",
              icon: "fa-feather-alt",
              subgroup: {
                title: "Freedom mode...",
                configKey: "freedomMode",
                list: [
                  {
                    id: "setfreedomModeOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setFreedomMode(!1);
                    },
                  },
                  {
                    id: "setfreedomModeOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setFreedomMode(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      6780: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.update = void 0);
        const s = a(o(2591)),
          u = a(o(3013)),
          l = a(o(2203)),
          d = r(o(6705)),
          c = {
            title: "Funbox...",
            configKey: "funbox",
            list: [
              {
                id: "changeFunboxNone",
                display: "none",
                configValue: "none",
                alias: "off",
                exec: () => {
                  s.setFunbox("none") && u.restart();
                },
              },
            ],
          },
          p = [
            {
              id: "changeFunbox",
              display: "Funbox...",
              alias: "fun box",
              icon: "fa-gamepad",
              subgroup: c,
            },
          ];
        (t.update = function (e) {
          (c.list = []),
            c.list.push({
              id: "changeFunboxNone",
              display: "none",
              configValue: "none",
              alias: "off",
              exec: () => {
                l.set(), s.setFunbox("none") && u.restart();
              },
            }),
            e.forEach((t) => {
              let o;
              (o = d.default.funbox.includes(t.name)
                ? '<i class="fas fa-fw fa-check"></i>' +
                  t.name.replace(/_/g, " ")
                : '<i class="fas fa-fw"></i>' + t.name.replace(/_/g, " ")),
                c.list.push({
                  id: "changeFunbox" + t.name,
                  noIcon: !0,
                  display: o,
                  sticky: !0,
                  alias: t.alias,
                  configValue: t.name,
                  exec: () => {
                    s.toggleFunbox(t.name), l.set(), u.restart();
                    for (const t of e) {
                      let e = t.name.replace(/_/g, " ");
                      (e = d.default.funbox.includes(t.name)
                        ? '<i class="fas fa-fw fa-check"></i>' + e
                        : '<i class="fas fa-fw"></i>' + e),
                        $("#commandLine").hasClass("allCommands")
                          ? $(
                              `#commandLine .suggestions .entry[command='changeFunbox${t.name}']`
                            ).html(
                              '<div class="icon"><i class="fas fa-fw fa-gamepad"></i></div><div>Funbox  > ' +
                                e
                            )
                          : $(
                              `#commandLine .suggestions .entry[command='changeFunbox${t.name}']`
                            ).html(e);
                    }
                    if (e.length > 0) {
                      const e =
                        "none" === d.default.funbox
                          ? '<i class="fas fa-fw fa-check"></i>none'
                          : '<i class="fas fa-fw"></i>none';
                      $("#commandLine").hasClass("allCommands")
                        ? $(
                            "#commandLine .suggestions .entry[command='changeFunboxNone']"
                          ).html(
                            '<div class="icon"><i class="fas fa-fw fa-gamepad"></i></div><div>Funbox  > ' +
                              e
                          )
                        : $(
                            "#commandLine .suggestions .entry[command='changeFunboxNone']"
                          ).html(e);
                    }
                  },
                });
            });
        }),
          (t.default = p);
      },
      1059: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeHideExtraLetters",
              display: "Hide extra letters...",
              icon: "fa-eye-slash",
              subgroup: {
                title: "Hide extra letters...",
                configKey: "hideExtraLetters",
                list: [
                  {
                    id: "setHideExtraLettersOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setHideExtraLetters(!1);
                    },
                  },
                  {
                    id: "setHideExtraLettersOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setHideExtraLetters(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      9651: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeHighlightMode",
              display: "Highlight mode...",
              icon: "fa-highlighter",
              subgroup: {
                title: "Highlight mode...",
                configKey: "highlightMode",
                list: [
                  {
                    id: "setHighlightModeOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      r.setHighlightMode("off");
                    },
                  },
                  {
                    id: "setHighlightModeLetter",
                    display: "letter",
                    configValue: "letter",
                    exec: () => {
                      r.setHighlightMode("letter");
                    },
                  },
                  {
                    id: "setHighlightModeWord",
                    display: "word",
                    configValue: "word",
                    exec: () => {
                      r.setHighlightMode("word");
                    },
                  },
                  {
                    id: "setHighlightModeNextWord",
                    display: "next word",
                    configValue: "next_word",
                    exec: () => {
                      r.setHighlightMode("next_word");
                    },
                  },
                  {
                    id: "setHighlightModeNextTwoWords",
                    display: "next two words",
                    configValue: "next_two_words",
                    exec: () => {
                      r.setHighlightMode("next_two_words");
                    },
                  },
                  {
                    id: "setHighlightModeNextThreeWords",
                    display: "next three words",
                    configValue: "next_three_words",
                    exec: () => {
                      r.setHighlightMode("next_three_words");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      5547: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeIndicateTypos",
              display: "Indicate typos...",
              icon: "fa-exclamation",
              subgroup: {
                title: "Indicate typos...",
                configKey: "indicateTypos",
                list: [
                  {
                    id: "setIndicateTyposOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      r.setIndicateTypos("off");
                    },
                  },
                  {
                    id: "setIndicateTyposBelow",
                    display: "below",
                    configValue: "below",
                    exec: () => {
                      r.setIndicateTypos("below");
                    },
                  },
                  {
                    id: "setIndicateTyposReplace",
                    display: "replace",
                    configValue: "replace",
                    exec: () => {
                      r.setIndicateTypos("replace");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      2132: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeKeyTips",
              display: "Key tips...",
              icon: "fa-question",
              subgroup: {
                title: "Key tips...",
                configKey: "showKeyTips",
                list: [
                  {
                    id: "setKeyTipsOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setKeyTips(!1);
                    },
                  },
                  {
                    id: "setKeyTipsOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setKeyTips(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      1178: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.update = void 0);
        const r = a(o(6705)),
          s = a(o(3013)),
          u = o(3388),
          l = {
            title: "Change keymap layout...",
            configKey: "keymapLayout",
            list: [
              {
                id: "couldnotload",
                display: "Could not load the layouts list :(",
              },
            ],
          },
          d = [
            {
              id: "changeKeymapLayout",
              display: "Keymap layout...",
              alias: "keyboard",
              icon: "fa-keyboard",
              subgroup: l,
            },
          ];
        (t.update = function (e) {
          (l.list = []),
            l.list.push({
              id: "changeKeymapLayoutOverrideSync",
              display: "emulator sync",
              configValue: "overrideSync",
              alias: "default",
              exec: () => {
                r.setKeymapLayout("overrideSync"), s.restart();
              },
            }),
            Object.keys(e).forEach((e) => {
              "default" != e.toString() &&
                l.list.push({
                  id:
                    "changeKeymapLayout" +
                    (0, u.capitalizeFirstLetterOfEachWord)(e),
                  display: e.replace(/_/g, " "),
                  configValue: e,
                  exec: () => {
                    r.setKeymapLayout(e), s.restart();
                  },
                });
            });
        }),
          (t.default = d);
      },
      8137: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeKeymapLegendStyle",
              display: "Keymap legend style...",
              alias: "keyboard",
              icon: "fa-keyboard",
              subgroup: {
                title: "Keymap legend style...",
                configKey: "keymapLegendStyle",
                list: [
                  {
                    id: "setKeymapLegendStyleLowercase",
                    display: "lowercase",
                    configValue: "lowercase",
                    exec: () => {
                      r.setKeymapLegendStyle("lowercase");
                    },
                  },
                  {
                    id: "setKeymapLegendStyleUppercase",
                    display: "uppercase",
                    configValue: "uppercase",
                    exec: () => {
                      r.setKeymapLegendStyle("uppercase");
                    },
                  },
                  {
                    id: "setKeymapLegendStyleBlank",
                    display: "blank",
                    configValue: "blank",
                    exec: () => {
                      r.setKeymapLegendStyle("blank");
                    },
                  },
                  {
                    id: "setKeymapLegendStyleDynamic",
                    display: "dynamic",
                    configValue: "dynamic",
                    exec: () => {
                      r.setKeymapLegendStyle("dynamic");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      4580: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "toggleKeymap",
              display: "Keymap mode...",
              icon: "fa-keyboard",
              alias: "keyboard",
              subgroup: {
                title: "Keymap mode...",
                configKey: "keymapMode",
                list: [
                  {
                    id: "setKeymapModeOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      r.setKeymapMode("off");
                    },
                  },
                  {
                    id: "setKeymapModeStatic",
                    display: "static",
                    configValue: "static",
                    exec: () => {
                      r.setKeymapMode("static");
                    },
                  },
                  {
                    id: "setKeymapModeNext",
                    display: "next",
                    configValue: "next",
                    exec: () => {
                      r.setKeymapMode("next");
                    },
                  },
                  {
                    id: "setKeymapModeReact",
                    display: "react",
                    alias: "flash",
                    configValue: "react",
                    exec: () => {
                      r.setKeymapMode("react");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      6880: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeKeymapShowTopRow",
              display: "Keymap show top row...",
              alias: "keyboard",
              icon: "fa-keyboard",
              subgroup: {
                title: "Keymap show top row...",
                configKey: "keymapShowTopRow",
                list: [
                  {
                    id: "keymapShowTopRowAlways",
                    display: "always",
                    configValue: "always",
                    exec: () => {
                      r.setKeymapShowTopRow("always");
                    },
                  },
                  {
                    id: "keymapShowTopRowLayout",
                    display: "layout dependent",
                    configValue: "layout",
                    exec: () => {
                      r.setKeymapShowTopRow("layout");
                    },
                  },
                  {
                    id: "keymapShowTopRowNever",
                    display: "never",
                    configValue: "never",
                    exec: () => {
                      r.setKeymapShowTopRow("never");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      9937: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeKeymapStyle",
              display: "Keymap style...",
              alias: "keyboard",
              icon: "fa-keyboard",
              subgroup: {
                title: "Keymap style...",
                configKey: "keymapStyle",
                list: [
                  {
                    id: "setKeymapStyleStaggered",
                    display: "staggered",
                    configValue: "staggered",
                    exec: () => {
                      r.setKeymapStyle("staggered");
                    },
                  },
                  {
                    id: "setKeymapStyleAlice",
                    display: "alice",
                    configValue: "alice",
                    exec: () => {
                      r.setKeymapStyle("alice");
                    },
                  },
                  {
                    id: "setKeymapStyleMatrix",
                    display: "matrix",
                    configValue: "matrix",
                    exec: () => {
                      r.setKeymapStyle("matrix");
                    },
                  },
                  {
                    id: "setKeymapStyleSplit",
                    display: "split",
                    configValue: "split",
                    exec: () => {
                      r.setKeymapStyle("split");
                    },
                  },
                  {
                    id: "setKeymapStyleSplitMatrix",
                    display: "split matrix",
                    configValue: "split_matrix",
                    exec: () => {
                      r.setKeymapStyle("split_matrix");
                    },
                  },
                  {
                    id: "setKeymapStyleSteno",
                    display: "steno",
                    configValue: "steno",
                    exec: () => {
                      r.setKeymapStyle("steno");
                    },
                  },
                  {
                    id: "setKeymapStyleStenoMatrix",
                    display: "steno matrix",
                    configValue: "steno_matrix",
                    exec: () => {
                      r.setKeymapStyle("steno_matrix");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      5064: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.update = void 0);
        const r = a(o(6705)),
          s = o(3388),
          u = {
            title: "Language...",
            configKey: "language",
            list: [
              {
                id: "couldnotload",
                display: "Could not load the languages list :(",
              },
            ],
          },
          l = [
            {
              id: "changeLanguage",
              display: "Language...",
              icon: "fa-language",
              subgroup: u,
            },
          ];
        (t.update = function (e) {
          (u.list = []),
            e.forEach((e) => {
              u.list.push({
                id:
                  "changeLanguage" + (0, s.capitalizeFirstLetterOfEachWord)(e),
                display: e.replace(/_/g, " "),
                configValue: e,
                exec: () => {
                  r.setLanguage(e);
                },
              });
            });
        }),
          (t.default = l);
      },
      2642: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.update = void 0);
        const r = a(o(6705)),
          s = a(o(3013)),
          u = o(3388),
          l = {
            title: "Layout emulator...",
            configKey: "layout",
            list: [
              {
                id: "couldnotload",
                display: "Could not load the layouts list :(",
              },
            ],
          },
          d = [
            {
              id: "changeLayout",
              display: "Layout emulator...",
              icon: "fa-keyboard",
              subgroup: l,
            },
          ];
        (t.update = function (e) {
          (l.list = []),
            l.list.push({
              id: "changeLayoutDefault",
              display: "off",
              configValue: "default",
              exec: () => {
                r.setLayout("default"), s.restart();
              },
            }),
            Object.keys(e).forEach((e) => {
              l.list.push({
                id: "changeLayout" + (0, u.capitalizeFirstLetterOfEachWord)(e),
                display: "default" === e ? "off" : e.replace(/_/g, " "),
                configValue: e,
                exec: () => {
                  r.setLayout(e), s.restart();
                },
              });
            });
        }),
          (t.default = d);
      },
      8846: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = a(o(3013)),
          u = [
            {
              id: "changeLazyMode",
              display: "Lazy mode...",
              icon: "fa-couch",
              subgroup: {
                title: "Lazy mode...",
                configKey: "lazyMode",
                list: [
                  {
                    id: "setLazyModeOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setLazyMode(!1), s.restart();
                    },
                  },
                  {
                    id: "setLazyModeOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setLazyMode(!0), s.restart();
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      2291: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeLiveAcc",
              display: "Live accuracy...",
              icon: "fa-percentage",
              subgroup: {
                title: "Live accuracy...",
                configKey: "showLiveAcc",
                list: [
                  {
                    id: "setLiveAccOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setShowLiveAcc(!1);
                    },
                  },
                  {
                    id: "setLiveAccOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setShowLiveAcc(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      5989: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeLiveBurst",
              display: "Live burst...",
              icon: "fa-fire-alt",
              subgroup: {
                title: "Live burst...",
                configKey: "showLiveBurst",
                list: [
                  {
                    id: "setLiveBurstOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setShowLiveBurst(!1);
                    },
                  },
                  {
                    id: "setLiveBurstOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setShowLiveBurst(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      8489: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeLiveWpm",
              display: "Live speed...",
              icon: "fa-tachometer-alt",
              subgroup: {
                title: "Live speed...",
                configKey: "showLiveWpm",
                list: [
                  {
                    id: "setLiveWpmOff",
                    display: "off",
                    configValue: !1,
                    alias: "live wpm",
                    exec: () => {
                      r.setShowLiveWpm(!1);
                    },
                  },
                  {
                    id: "setLiveWpmOn",
                    display: "on",
                    configValue: !0,
                    alias: "live wpm",
                    exec: () => {
                      r.setShowLiveWpm(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      8351: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.update = void 0);
        const s = o(7193),
          u = a(o(7567)),
          l = a(o(3013)),
          d = o(3388),
          c = {
            title: "Load challenge...",
            list: [],
          },
          p = [
            {
              id: "loadChallenge",
              display: "Load challenge...",
              icon: "fa-award",
              subgroup: c,
            },
          ];
        (t.update = function (e) {
          e.forEach((e) => {
            c.list.push({
              id:
                "loadChallenge" +
                (0, d.capitalizeFirstLetterOfEachWord)(e.name),
              noIcon: !0,
              display: e.display,
              exec: () =>
                r(this, void 0, void 0, function* () {
                  (0, s.navigate)("/"),
                    yield u.setup(e.name),
                    l.restart({
                      nosave: !0,
                    });
                }),
            });
          });
        }),
          (t.default = p);
      },
      1404: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeMinAcc",
              display: "Minimum accuracy...",
              alias: "minimum",
              icon: "fa-bomb",
              subgroup: {
                title: "Change min accuracy mode...",
                configKey: "minAcc",
                list: [
                  {
                    id: "setMinAccOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      r.setMinAcc("off");
                    },
                  },
                  {
                    id: "setMinAccCustom",
                    display: "custom...",
                    configValue: "custom",
                    input: !0,
                    exec: (e) => {
                      e &&
                        (r.setMinAccCustom(parseInt(e)), r.setMinAcc("custom"));
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      6609: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = r,
          u = o(8628),
          l = [
            {
              id: "changeMinBurst",
              display: "Minimum burst...",
              alias: "minimum",
              icon: "fa-bomb",
              subgroup: {
                title: "Change min burst mode...",
                configKey: "minBurst",
                list: [
                  {
                    id: "setMinBurstOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setMinBurst("off");
                    },
                  },
                  {
                    id: "setMinBurstFixed",
                    display: "fixed...",
                    configValue: "fixed",
                    input: !0,
                    exec: (e) => {
                      if (!e) return;
                      s.setMinBurst("fixed");
                      const t = (0, u.get)(r.default.typingSpeedUnit).toWpm(
                        parseInt(e)
                      );
                      s.setMinBurstCustomSpeed(t);
                    },
                  },
                  {
                    id: "setMinBurstFlex",
                    display: "flex...",
                    configValue: "flex",
                    input: !0,
                    exec: (e) => {
                      if (!e) return;
                      s.setMinBurst("flex");
                      const t = (0, u.get)(r.default.typingSpeedUnit).toWpm(
                        parseInt(e)
                      );
                      s.setMinBurstCustomSpeed(t);
                    },
                  },
                ],
              },
            },
          ];
        t.default = l;
      },
      4981: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = r,
          u = o(8628),
          l = [
            {
              id: "changeMinWpm",
              display: "Minimum speed...",
              alias: "minimum",
              icon: "fa-bomb",
              subgroup: {
                title: "Change min speed mode...",
                configKey: "minWpm",
                list: [
                  {
                    id: "setMinWpmOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setMinWpm("off");
                    },
                  },
                  {
                    id: "setMinWpmCustom",
                    display: "custom...",
                    configValue: "custom",
                    input: !0,
                    exec: (e) => {
                      if (!e) return;
                      const t = (0, u.get)(r.default.typingSpeedUnit).toWpm(
                        parseInt(e)
                      );
                      s.setMinWpmCustomSpeed(t), s.setMinWpm("custom");
                    },
                  },
                ],
              },
            },
          ];
        t.default = l;
      },
      3045: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = a(o(3013)),
          u = a(o(2203)),
          l = [
            {
              id: "changeMode",
              display: "Mode...",
              icon: "fa-bars",
              subgroup: {
                title: "Change mode...",
                configKey: "mode",
                list: [
                  {
                    id: "changeModeTime",
                    display: "time",
                    configValue: "time",
                    exec: () => {
                      r.setMode("time"), s.restart();
                    },
                  },
                  {
                    id: "changeModeWords",
                    display: "words",
                    configValue: "words",
                    exec: () => {
                      r.setMode("words"), s.restart();
                    },
                  },
                  {
                    id: "changeModeQuote",
                    display: "quote",
                    configValue: "quote",
                    exec: () => {
                      r.setMode("quote"), s.restart();
                    },
                  },
                  {
                    id: "changeModeCustom",
                    display: "custom",
                    configValue: "custom",
                    exec: () => {
                      r.setMode("custom"), s.restart();
                    },
                  },
                  {
                    id: "changeModeZen",
                    display: "zen",
                    configValue: "zen",
                    exec: () => {
                      r.setMode("zen"), u.set(), s.restart();
                    },
                  },
                ],
              },
            },
          ];
        t.default = l;
      },
      788: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "monkeyPower",
              display: "Power mode...",
              alias: "powermode",
              icon: "fa-egg",
              visible: !1,
              subgroup: {
                title: "Power mode...",
                configKey: "monkeyPowerLevel",
                list: [
                  {
                    id: "monkeyPowerLevelOff",
                    display: "off",
                    configValue: "off",
                    exec: () => r.setMonkeyPowerLevel("off"),
                  },
                  {
                    id: "monkeyPowerLevel1",
                    display: "mellow",
                    configValue: "1",
                    exec: () => r.setMonkeyPowerLevel("1"),
                  },
                  {
                    id: "monkeyPowerLevel2",
                    display: "high",
                    configValue: "2",
                    exec: () => r.setMonkeyPowerLevel("2"),
                  },
                  {
                    id: "monkeyPowerLevel3",
                    display: "ultra",
                    configValue: "3",
                    exec: () => r.setMonkeyPowerLevel("3"),
                  },
                  {
                    id: "monkeyPowerLevel4",
                    display: "over 9000",
                    configValue: "4",
                    exec: () => r.setMonkeyPowerLevel("4"),
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      5093: function (e, t, o) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const n = o(7193),
          i = o(3388),
          a = [
            {
              id: "viewTypingPage",
              display: "View Typing Page",
              alias: "start begin type test",
              icon: "fa-keyboard",
              exec: () => {
                (0, n.navigate)("/");
              },
            },
            {
              id: "viewLeaderboards",
              display: "View Leaderboards",
              icon: "fa-crown",
              exec: () => {
                $("header nav .textButton.view-leaderboards").trigger("click");
              },
            },
            {
              id: "viewAbout",
              display: "View About Page",
              icon: "fa-info",
              exec: () => {
                (0, n.navigate)("/about");
              },
            },
            {
              id: "viewSettings",
              display: "View Settings Page",
              icon: "fa-cog",
              exec: () => {
                (0, n.navigate)("/settings");
              },
            },
            {
              id: "viewAccount",
              display: "View Account Page",
              icon: "fa-user",
              alias: "stats",
              exec: () => {
                $("header nav .textButton.view-account").hasClass("hidden")
                  ? (0, n.navigate)("/login")
                  : (0, n.navigate)("/account");
              },
            },
            {
              id: "toggleFullscreen",
              display: "Toggle Fullscreen",
              icon: "fa-expand",
              exec: () => {
                (0, i.toggleFullscreen)();
              },
            },
          ];
        t.default = a;
      },
      1453: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = a(o(3013)),
          u = [
            {
              id: "changeNumbers",
              display: "Numbers...",
              icon: "fa-hashtag",
              subgroup: {
                title: "Numbers...",
                configKey: "numbers",
                list: [
                  {
                    id: "changeNumbersOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setNumbers(!0), s.restart();
                    },
                  },
                  {
                    id: "changeNumbersOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setNumbers(!1), s.restart();
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      4770: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = a(o(2453)),
          u = [
            {
              id: "changeOppositeShiftMode",
              display: "Change opposite shift mode...",
              icon: "fa-exchange-alt",
              subgroup: {
                title: "Change opposite shift mode...",
                configKey: "oppositeShiftMode",
                list: [
                  {
                    id: "setOppositeShiftModeOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      r.setOppositeShiftMode("off"), s.update();
                    },
                  },
                  {
                    id: "setOppositeShiftModeOn",
                    display: "on",
                    configValue: "on",
                    exec: () => {
                      r.setOppositeShiftMode("on"), s.update();
                    },
                  },
                  {
                    id: "setOppositeShiftModeKeymap",
                    display: "keymap",
                    configValue: "keymap",
                    exec: () => {
                      r.setOppositeShiftMode("keymap"), s.update();
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      3054: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeOutOfFocusWarning",
              display: "Out of focus warning...",
              icon: "fa-exclamation",
              subgroup: {
                title: "Colorful mode...",
                configKey: "showOutOfFocusWarning",
                list: [
                  {
                    id: "setShowOutOfFocusWarningOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setShowOutOfFocusWarning(!1);
                    },
                  },
                  {
                    id: "setShowOutOfFocusWarningOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setShowOutOfFocusWarning(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      9950: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changePaceCaretStyle",
              display: "Pace caret style...",
              icon: "fa-i-cursor",
              subgroup: {
                title: "Change pace caret style...",
                configKey: "paceCaretStyle",
                list: [
                  {
                    id: "setPaceCaretStyleOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      r.setPaceCaretStyle("off");
                    },
                  },
                  {
                    id: "setPaceCaretStyleDefault",
                    display: "line",
                    configValue: "default",
                    exec: () => {
                      r.setPaceCaretStyle("default");
                    },
                  },
                  {
                    id: "setPaceCaretStyleBlock",
                    display: "block",
                    configValue: "block",
                    exec: () => {
                      r.setPaceCaretStyle("block");
                    },
                  },
                  {
                    id: "setPaceCaretStyleOutline",
                    display: "outline-block",
                    configValue: "outline",
                    exec: () => {
                      r.setPaceCaretStyle("outline");
                    },
                  },
                  {
                    id: "setPaceCaretStyleUnderline",
                    display: "underline",
                    configValue: "underline",
                    exec: () => {
                      r.setPaceCaretStyle("underline");
                    },
                  },
                  {
                    id: "setPaceCaretStyleCarrot",
                    display: "carrot",
                    configValue: "carrot",
                    visible: !1,
                    exec: () => {
                      r.setPaceCaretStyle("carrot");
                    },
                  },
                  {
                    id: "setPaceCaretStyleBanana",
                    display: "banana",
                    configValue: "banana",
                    visible: !1,
                    exec: () => {
                      r.setPaceCaretStyle("banana");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      856: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = r,
          u = a(o(3013)),
          l = o(8628),
          d = [
            {
              id: "changePaceCaret",
              display: "Pace caret mode...",
              icon: "fa-i-cursor",
              subgroup: {
                title: "Pace caret mode...",
                configKey: "paceCaret",
                list: [
                  {
                    id: "setPaceCaretOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      s.setPaceCaret("off"), u.restart();
                    },
                  },
                  {
                    id: "setPaceCaretPb",
                    display: "pb",
                    configValue: "pb",
                    exec: () => {
                      s.setPaceCaret("pb"), u.restart();
                    },
                  },
                  {
                    id: "setPaceCaretLast",
                    display: "last",
                    configValue: "last",
                    exec: () => {
                      s.setPaceCaret("last"), u.restart();
                    },
                  },
                  {
                    id: "setPaceCaretAverage",
                    display: "average",
                    configValue: "average",
                    exec: () => {
                      s.setPaceCaret("average"), u.restart();
                    },
                  },
                  {
                    id: "setPaceCaretDaily",
                    display: "daily",
                    configValue: "daily",
                    exec: () => {
                      s.setPaceCaret("daily"), u.restart();
                    },
                  },
                  {
                    id: "setPaceCaretCustom",
                    display: "custom...",
                    configValue: "custom",
                    input: !0,
                    exec: (e) => {
                      if (!e) return;
                      const t = (0, l.get)(r.default.typingSpeedUnit).toWpm(
                        parseInt(e)
                      );
                      s.setPaceCaretCustomSpeed(t),
                        s.setPaceCaret("custom"),
                        u.restart();
                    },
                  },
                ],
              },
            },
          ];
        t.default = d;
      },
      3049: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changePageWidth",
              display: "Page width...",
              icon: "fa-arrows-alt-h",
              subgroup: {
                title: "Page width...",
                configKey: "pageWidth",
                list: [
                  {
                    id: "setPageWidth100",
                    display: "100",
                    configValue: "100",
                    exec: () => {
                      r.setPageWidth("100");
                    },
                  },
                  {
                    id: "setPageWidth125",
                    display: "125",
                    configValue: "125",
                    exec: () => {
                      r.setPageWidth("125");
                    },
                  },
                  {
                    id: "setPageWidth150",
                    display: "150",
                    configValue: "150",
                    exec: () => {
                      r.setPageWidth("150");
                    },
                  },
                  {
                    id: "setPageWidth200",
                    display: "200",
                    configValue: "200",
                    exec: () => {
                      r.setPageWidth("200");
                    },
                  },
                  {
                    id: "setPageWidthMax",
                    display: "max",
                    configValue: "max",
                    exec: () => {
                      r.setPageWidth("max");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      7103: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6350)),
          s = a(o(2453)),
          u = a(o(8835)),
          l = a(o(4984)),
          d = a(o(2845)),
          c = o(6617),
          p = {
            title: "Presets...",
            list: [],
            beforeList: () => {
              !(function () {
                const e = r.getSnapshot();
                (p.list = []),
                  e &&
                    e.presets &&
                    0 !== e.presets.length &&
                    (e.presets.forEach((e) => {
                      const t = e.display;
                      p.list.push({
                        id: "applyPreset" + e._id,
                        display: t,
                        exec: () => {
                          u.setEventDisabled(!0),
                            l.apply(e._id),
                            u.setEventDisabled(!1),
                            u.update(),
                            s.update();
                        },
                      });
                    }),
                    p.list.push({
                      id: "createPreset",
                      display: "Create preset",
                      icon: "fa-plus",
                      exec: () => {
                        d.show("add");
                      },
                    }));
              })();
            },
          },
          f = [
            {
              visible: !1,
              id: "applyPreset",
              display: "Presets...",
              icon: "fa-sliders-h",
              subgroup: p,
              available: () =>
                !!(null === c.Auth || void 0 === c.Auth
                  ? void 0
                  : c.Auth.currentUser),
            },
          ];
        t.default = f;
      },
      5724: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = a(o(3013)),
          u = [
            {
              id: "changePunctuation",
              display: "Punctuation...",
              icon: "fa-at",
              subgroup: {
                title: "Change punctuation...",
                configKey: "punctuation",
                list: [
                  {
                    id: "changePunctuationOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setPunctuation(!0), s.restart();
                    },
                  },
                  {
                    id: "changePunctuationOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setPunctuation(!1), s.restart();
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      7087: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeQuickEnd",
              display: "Quick end...",
              icon: "fa-step-forward",
              subgroup: {
                title: "Quick end...",
                configKey: "quickEnd",
                list: [
                  {
                    id: "setQuickEndOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setQuickEnd(!1);
                    },
                  },
                  {
                    id: "setQuickEndOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setQuickEnd(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      3750: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeQuickRestart",
              display: "Quick restart...",
              icon: "fa-redo-alt",
              subgroup: {
                title: "Quick restart...",
                configKey: "quickRestart",
                list: [
                  {
                    id: "changeQuickRestartEnter",
                    display: "enter",
                    configValue: "enter",
                    exec: () => {
                      r.setQuickRestartMode("enter");
                    },
                  },
                  {
                    id: "changeQuickRestartTab",
                    display: "tab",
                    configValue: "tab",
                    exec: () => {
                      r.setQuickRestartMode("tab");
                    },
                  },
                  {
                    id: "changeQuickRestartEsc",
                    display: "esc",
                    configValue: "esc",
                    exec: () => {
                      r.setQuickRestartMode("esc");
                    },
                  },
                  {
                    id: "changeQuickRestartOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      r.setQuickRestartMode("off");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      4475: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = a(o(3013)),
          u = o(6617),
          l = [
            {
              id: "changeQuoteLength",
              display: "Quote length...",
              icon: "fa-quote-right",
              alias: "quotes",
              subgroup: {
                title: "Change quote length...",
                configKey: "quoteLength",
                list: [
                  {
                    id: "changeQuoteLengthAll",
                    display: "all",
                    configValue: [0, 1, 2, 3],
                    exec: () => {
                      r.setMode("quote"),
                        r.setQuoteLength([0, 1, 2, 3]),
                        s.restart();
                    },
                  },
                  {
                    id: "changeQuoteLengthShort",
                    display: "short",
                    configValue: 0,
                    configValueMode: "include",
                    exec: () => {
                      r.setMode("quote"), r.setQuoteLength(0), s.restart();
                    },
                  },
                  {
                    id: "changeQuoteLengthMedium",
                    display: "medium",
                    configValue: 1,
                    configValueMode: "include",
                    exec: () => {
                      r.setMode("quote"), r.setQuoteLength(1), s.restart();
                    },
                  },
                  {
                    id: "changeQuoteLengthLong",
                    display: "long",
                    configValue: 2,
                    configValueMode: "include",
                    exec: () => {
                      r.setMode("quote"), r.setQuoteLength(2), s.restart();
                    },
                  },
                  {
                    id: "changeQuoteLengthThicc",
                    display: "thicc",
                    configValue: 3,
                    configValueMode: "include",
                    exec: () => {
                      r.setMode("quote"), r.setQuoteLength(3), s.restart();
                    },
                  },
                  {
                    id: "changeQuoteLengthFavorite",
                    display: "favorite",
                    configValue: -3,
                    configValueMode: "include",
                    available: () =>
                      !!(null === u.Auth || void 0 === u.Auth
                        ? void 0
                        : u.Auth.currentUser),
                    exec: () => {
                      r.setMode("quote"), r.setQuoteLength(-3), s.restart();
                    },
                  },
                ],
              },
            },
          ];
        t.default = l;
      },
      5031: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = o(6617),
          u = a(o(3368)),
          l = [
            {
              id: "changeRandomTheme",
              display: "Random theme...",
              icon: "fa-random",
              subgroup: {
                title: "Random theme...",
                configKey: "randomTheme",
                list: [
                  {
                    id: "setRandomOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      r.setRandomTheme("off");
                    },
                  },
                  {
                    id: "setRandomOn",
                    display: "on",
                    configValue: "on",
                    exec: () => {
                      r.setRandomTheme("on");
                    },
                  },
                  {
                    id: "setRandomFav",
                    display: "fav",
                    configValue: "fav",
                    exec: () => {
                      r.setRandomTheme("fav");
                    },
                  },
                  {
                    id: "setRandomLight",
                    display: "light",
                    configValue: "light",
                    exec: () => {
                      r.setRandomTheme("light");
                    },
                  },
                  {
                    id: "setRandomDark",
                    display: "dark",
                    configValue: "dark",
                    exec: () => {
                      r.setRandomTheme("dark");
                    },
                  },
                  {
                    id: "setRandomCustom",
                    display: "custom",
                    configValue: "custom",
                    exec: () => {
                      (
                        null === s.Auth || void 0 === s.Auth
                          ? void 0
                          : s.Auth.currentUser
                      )
                        ? r.setRandomTheme("custom")
                        : u.add(
                            "Multiple custom themes are available to logged in users only",
                            0
                          );
                    },
                  },
                ],
              },
            },
          ];
        t.default = l;
      },
      5828: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeRepeatQuotes",
              display: "Repeat quotes...",
              icon: "fa-sync-alt",
              subgroup: {
                title: "Repeat quotes...",
                configKey: "repeatQuotes",
                list: [
                  {
                    id: "setRepeatQuotesOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      r.setRepeatQuotes("off");
                    },
                  },
                  {
                    id: "setRepeatQuotesTyping",
                    display: "typing",
                    configValue: "typing",
                    exec: () => {
                      r.setRepeatQuotes("typing");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      5264: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeRepeatedPace",
              display: "Repeated pace...",
              icon: "fa-i-cursor",
              subgroup: {
                title: "Repeated pace...",
                configKey: "repeatedPace",
                list: [
                  {
                    id: "setRepeatedPaceOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setRepeatedPace(!1);
                    },
                  },
                  {
                    id: "setRepeatedPaceOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setRepeatedPace(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      2274: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(1322)),
          s = a(o(2453)),
          u = [
            {
              id: "setResultSaving",
              display: "Result saving...",
              icon: "fa-save",
              alias: "results",
              subgroup: {
                title: "Result saving...",
                list: [
                  {
                    id: "setResultSavingOff",
                    display: "off",
                    alias: "disabled incognito",
                    exec: () => {
                      r.setSaving(!1), s.update();
                    },
                  },
                  {
                    id: "setResultSavingOn",
                    display: "on",
                    alias: "enabled incognito",
                    exec: () => {
                      r.setSaving(!0), s.update();
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      7898: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(3013)),
          s = a(o(8673)),
          u = a(o(9196)),
          l = a(o(3388)),
          d = a(o(3368)),
          c = [
            {
              id: "nextTest",
              display: "Next test",
              alias: "restart start begin type test typing",
              icon: "fa-chevron-right",
              available: () => s.resultVisible,
              exec: () => {
                r.restart();
              },
            },
            {
              id: "repeatTest",
              display: "Repeat test",
              icon: "fa-sync-alt",
              exec: () => {
                r.restart({
                  withSameWordset: !0,
                });
              },
              available: () => s.resultVisible,
            },
            {
              id: "practiseWords",
              display: "Practice words...",
              icon: "fa-exclamation-triangle",
              subgroup: {
                title: "Practice words...",
                list: [
                  {
                    id: "practiseWordsMissed",
                    display: "missed",
                    exec: () => {
                      u.init(!0, !1),
                        r.restart({
                          practiseMissed: !0,
                        });
                    },
                  },
                  {
                    id: "practiseWordsSlow",
                    display: "slow",
                    exec: () => {
                      u.init(!1, !0),
                        r.restart({
                          practiseMissed: !0,
                        });
                    },
                  },
                  {
                    id: "practiseWordsBoth",
                    display: "both",
                    exec: () => {
                      u.init(!0, !0),
                        r.restart({
                          practiseMissed: !0,
                        });
                    },
                  },
                ],
              },
              available: () => s.resultVisible,
            },
            {
              id: "toggleWordHistory",
              display: "Toggle word history",
              icon: "fa-align-left",
              exec: () => {
                s.toggleResultWords();
              },
              available: () => s.resultVisible,
            },
            {
              id: "saveScreenshot",
              display: "Copy screenshot to clipboard",
              icon: "fa-image",
              alias: "save",
              exec: () => {
                setTimeout(() => {
                  s.screenshot();
                }, 500);
              },
              available: () => s.resultVisible,
            },
            {
              id: "copyWordsToClipboard",
              display: "Copy words to clipboard",
              icon: "fa-copy",
              subgroup: {
                title: "Are you sure...",
                list: [
                  {
                    id: "copyNo",
                    display: "Nevermind",
                  },
                  {
                    id: "copyYes",
                    display: "Yes, I am sure",
                    exec: () => {
                      const e = l.getWords();
                      navigator.clipboard.writeText(e).then(
                        () => {
                          d.add("Copied to clipboard", 1);
                        },
                        () => {
                          d.add("Failed to copy!", -1);
                        }
                      );
                    },
                  },
                ],
              },
              available: () => s.resultVisible,
            },
          ];
        t.default = c;
      },
      4730: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeShowAllLines",
              display: "Show all lines...",
              icon: "fa-align-left",
              subgroup: {
                title: "Show all lines...",
                configKey: "showAllLines",
                list: [
                  {
                    id: "setShowAllLinesOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setShowAllLines(!1);
                    },
                  },
                  {
                    id: "setShowAllLinesOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setShowAllLines(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      5900: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeShowAverage",
              display: "Show average...",
              icon: "fa-chart-bar",
              subgroup: {
                title: "Show average...",
                configKey: "showAverage",
                list: [
                  {
                    id: "setShowAverageOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      r.setShowAverage("off");
                    },
                  },
                  {
                    id: "setShowAverageSpeed",
                    display: "speed",
                    configValue: "speed",
                    exec: () => {
                      r.setShowAverage("speed");
                    },
                  },
                  {
                    id: "setShowAverageAcc",
                    display: "accuracy",
                    configValue: "acc",
                    exec: () => {
                      r.setShowAverage("acc");
                    },
                  },
                  {
                    id: "setShowAverageBoth",
                    display: "both",
                    configValue: "both",
                    exec: () => {
                      r.setShowAverage("both");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      6528: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeShowTimer",
              display: "Live progress...",
              icon: "fa-chart-pie",
              subgroup: {
                title: "Live progress...",
                configKey: "showTimerProgress",
                list: [
                  {
                    id: "setTimerProgressOff",
                    display: "off",
                    configValue: !1,
                    alias: "timer",
                    exec: () => {
                      r.setShowTimerProgress(!1);
                    },
                  },
                  {
                    id: "setTimerProgressOn",
                    display: "on",
                    configValue: !0,
                    alias: "timer",
                    exec: () => {
                      r.setShowTimerProgress(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      5504: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeShowWordsHistory",
              display: "Always show words history...",
              icon: "fa-align-left",
              subgroup: {
                title: "Always show words history...",
                configKey: "alwaysShowWordsHistory",
                list: [
                  {
                    id: "setAlwaysShowWordsHistoryOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setAlwaysShowWordsHistory(!1);
                    },
                  },
                  {
                    id: "setAlwaysShowWordsHistoryOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setAlwaysShowWordsHistory(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      1531: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "singleListCommandLine",
              display: "Single list command line...",
              icon: "fa-list",
              subgroup: {
                title: "Single list command line...",
                configKey: "singleListCommandLine",
                list: [
                  {
                    id: "singleListCommandLineManual",
                    display: "manual",
                    configValue: "manual",
                    exec: () => {
                      r.setSingleListCommandLine("manual");
                    },
                  },
                  {
                    id: "singleListCommandLineOn",
                    display: "on",
                    configValue: "on",
                    exec: () => {
                      r.setSingleListCommandLine("on");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      1489: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeSmoothCaret",
              display: "Smooth caret...",
              icon: "fa-i-cursor",
              subgroup: {
                title: "Smooth caret...",
                configKey: "smoothCaret",
                list: [
                  {
                    id: "changeSmoothCaretoff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      r.setSmoothCaret("off");
                    },
                  },
                  {
                    id: "changeSmoothCaretSlow",
                    display: "slow",
                    configValue: "slow",
                    exec: () => {
                      r.setSmoothCaret("slow");
                    },
                  },
                  {
                    id: "changeSmoothCaretMedium",
                    display: "medium",
                    configValue: "medium",
                    exec: () => {
                      r.setSmoothCaret("medium");
                    },
                  },
                  {
                    id: "changeSmoothCaretFast",
                    display: "fast",
                    configValue: "fast",
                    exec: () => {
                      r.setSmoothCaret("fast");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      4847: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeSmoothLineScroll",
              display: "Smooth line scroll...",
              icon: "fa-align-left",
              subgroup: {
                title: "Smooth line scroll...",
                configKey: "smoothLineScroll",
                list: [
                  {
                    id: "setSmoothLineScrollOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setSmoothLineScroll(!1);
                    },
                  },
                  {
                    id: "setSmoothLineScrollOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setSmoothLineScroll(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      7357: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = a(o(5929)),
          u = [
            {
              id: "changeSoundOnClick",
              display: "Sound on click...",
              icon: "fa-volume-up",
              subgroup: {
                title: "Sound on click...",
                configKey: "playSoundOnClick",
                list: [
                  {
                    id: "setSoundOnClickOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      r.setPlaySoundOnClick("off");
                    },
                  },
                  {
                    id: "setSoundOnClick1",
                    display: "click",
                    configValue: "1",
                    hover: () => {
                      s.previewClick("1");
                    },
                    exec: () => {
                      r.setPlaySoundOnClick("1"), s.playClick();
                    },
                  },
                  {
                    id: "setSoundOnClick2",
                    display: "beep",
                    configValue: "2",
                    hover: () => {
                      s.previewClick("2");
                    },
                    exec: () => {
                      r.setPlaySoundOnClick("2"), s.playClick();
                    },
                  },
                  {
                    id: "setSoundOnClick3",
                    display: "pop",
                    configValue: "3",
                    hover: () => {
                      s.previewClick("3");
                    },
                    exec: () => {
                      r.setPlaySoundOnClick("3"), s.playClick();
                    },
                  },
                  {
                    id: "setSoundOnClick4",
                    display: "nk creams",
                    configValue: "4",
                    hover: () => {
                      s.previewClick("4");
                    },
                    exec: () => {
                      r.setPlaySoundOnClick("4"), s.playClick();
                    },
                  },
                  {
                    id: "setSoundOnClick5",
                    display: "typewriter",
                    configValue: "5",
                    hover: () => {
                      s.previewClick("5");
                    },
                    exec: () => {
                      r.setPlaySoundOnClick("5"), s.playClick();
                    },
                  },
                  {
                    id: "setSoundOnClick6",
                    display: "osu",
                    configValue: "6",
                    hover: () => {
                      s.previewClick("6");
                    },
                    exec: () => {
                      r.setPlaySoundOnClick("6"), s.playClick();
                    },
                  },
                  {
                    id: "setSoundOnClick7",
                    display: "hitmarker",
                    configValue: "7",
                    hover: () => {
                      s.previewClick("7");
                    },
                    exec: () => {
                      r.setPlaySoundOnClick("7"), s.playClick();
                    },
                  },
                  {
                    id: "setSoundOnClick8",
                    display: "sine",
                    configValue: "8",
                    hover: () => {
                      s.playNote("KeyQ", "sine");
                    },
                    exec: () => {
                      r.setPlaySoundOnClick("8"), s.playNote("KeyQ", "sine");
                    },
                  },
                  {
                    id: "setSoundOnClick9",
                    display: "sawtooth",
                    configValue: "9",
                    hover: () => {
                      s.playNote("KeyQ", "sawtooth");
                    },
                    exec: () => {
                      r.setPlaySoundOnClick("9"),
                        s.playNote("KeyQ", "sawtooth");
                    },
                  },
                  {
                    id: "setSoundOnClick10",
                    display: "square",
                    configValue: "10",
                    hover: () => {
                      s.playNote("KeyQ", "square");
                    },
                    exec: () => {
                      r.setPlaySoundOnClick("10"), s.playNote("KeyQ", "square");
                    },
                  },
                  {
                    id: "setSoundOnClick11",
                    display: "triangle",
                    configValue: "11",
                    hover: () => {
                      s.playNote("KeyQ", "triangle");
                    },
                    exec: () => {
                      r.setPlaySoundOnClick("11"),
                        s.playNote("KeyQ", "triangle");
                    },
                  },
                  {
                    id: "setSoundOnClick12",
                    display: "pentatonic",
                    configValue: "12",
                    hover: () => {
                      s.scaleConfigurations[12].preview();
                    },
                    exec: () => {
                      r.setPlaySoundOnClick("12"),
                        s.scaleConfigurations[12].preview();
                    },
                  },
                  {
                    id: "setSoundOnClick13",
                    display: "wholetone",
                    configValue: "13",
                    hover: () => {
                      s.scaleConfigurations[13].preview();
                    },
                    exec: () => {
                      r.setPlaySoundOnClick("13"),
                        s.scaleConfigurations[13].preview();
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      7428: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = a(o(5929)),
          u = [
            {
              id: "changeSoundOnError",
              display: "Sound on error...",
              icon: "fa-volume-mute",
              subgroup: {
                title: "Sound on error...",
                configKey: "playSoundOnError",
                list: [
                  {
                    id: "setPlaySoundOnErrorOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      r.setPlaySoundOnError("off");
                    },
                  },
                  {
                    id: "setPlaySoundOnError1",
                    display: "damage",
                    configValue: "1",
                    exec: () => {
                      r.setPlaySoundOnError("1"), s.playError();
                    },
                  },
                  {
                    id: "setPlaySoundOnError2",
                    display: "triangle",
                    configValue: "2",
                    exec: () => {
                      r.setPlaySoundOnError("2"), s.playError();
                    },
                  },
                  {
                    id: "setPlaySoundOnError3",
                    display: "square",
                    configValue: "3",
                    exec: () => {
                      r.setPlaySoundOnError("3"), s.playError();
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      8128: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = a(o(5929)),
          u = [
            {
              id: "changeSoundVolume",
              display: "Sound volume...",
              icon: "fa-volume-down",
              subgroup: {
                title: "Sound volume...",
                configKey: "soundVolume",
                list: [
                  {
                    id: "setSoundVolume0.1",
                    display: "quiet",
                    configValue: "0.1",
                    exec: () => {
                      r.setSoundVolume("0.1"), s.playClick();
                    },
                  },
                  {
                    id: "setSoundVolume0.5",
                    display: "medium",
                    configValue: "0.5",
                    exec: () => {
                      r.setSoundVolume("0.5"), s.playClick();
                    },
                  },
                  {
                    id: "setSoundVolume1.0",
                    display: "loud",
                    configValue: "1.0",
                    exec: () => {
                      r.setSoundVolume("1.0"), s.playClick();
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      7941: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeStartGraphsAtZero",
              display: "Start graphs at zero...",
              icon: "fa-chart-line",
              subgroup: {
                title: "Start graphs at zero...",
                configKey: "startGraphsAtZero",
                list: [
                  {
                    id: "setStartGraphsAtZeroOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setStartGraphsAtZero(!1);
                    },
                  },
                  {
                    id: "setStartGraphsAtZeroOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setStartGraphsAtZero(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      1386: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeStopOnError",
              display: "Stop on error...",
              icon: "fa-hand-paper",
              subgroup: {
                title: "Stop on error...",
                configKey: "stopOnError",
                list: [
                  {
                    id: "changeStopOnErrorOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      r.setStopOnError("off");
                    },
                  },
                  {
                    id: "changeStopOnErrorLetter",
                    display: "letter",
                    configValue: "letter",
                    exec: () => {
                      r.setStopOnError("letter");
                    },
                  },
                  {
                    id: "changeStopOnErrorWord",
                    display: "word",
                    configValue: "word",
                    exec: () => {
                      r.setStopOnError("word");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      3553: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeStrictSpace",
              display: "Strict space...",
              icon: "fa-minus",
              subgroup: {
                title: "Strict space...",
                configKey: "strictSpace",
                list: [
                  {
                    id: "setStrictSpaceOff",
                    display: "off",
                    configValue: !1,
                    exec: () => {
                      r.setStrictSpace(!1);
                    },
                  },
                  {
                    id: "setStrictSpaceOn",
                    display: "on",
                    configValue: !0,
                    exec: () => {
                      r.setStrictSpace(!0);
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      3487: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const s = a(o(6350)),
          u = a(o(7841)),
          l = a(o(2453)),
          d = a(o(9343)),
          c = r(o(6705)),
          p = a(o(5886)),
          f = o(6617),
          h = {
            title: "Change tags...",
            list: [],
            beforeList: () => {
              !(function () {
                var e, t;
                const o = s.getSnapshot();
                (h.list = []),
                  o && o.tags && 0 !== o.tags.length
                    ? (h.list.push({
                        id: "clearTags",
                        display: "Clear tags",
                        icon: "fa-times",
                        exec: () => {
                          var e;
                          const t = s.getSnapshot();
                          t &&
                            ((t.tags =
                              null === (e = t.tags) || void 0 === e
                                ? void 0
                                : e.map((e) => ((e.active = !1), e))),
                            s.setSnapshot(t),
                            l.update(),
                            d.saveActiveToLocalStorage());
                        },
                      }),
                      null ===
                        (t =
                          null === (e = s.getSnapshot()) || void 0 === e
                            ? void 0
                            : e.tags) ||
                        void 0 === t ||
                        t.forEach((e) => {
                          let t = e.display;
                          (t =
                            !0 === e.active
                              ? '<i class="fas fa-fw fa-check"></i>' + t
                              : '<i class="fas fa-fw"></i>' + t),
                            h.list.push({
                              id: "toggleTag" + e._id,
                              noIcon: !0,
                              display: t,
                              sticky: !0,
                              exec: () => {
                                d.toggle(e._id),
                                  l.update(),
                                  "average" === c.default.paceCaret &&
                                    (p.init(), l.update());
                                let t = e.display;
                                (t =
                                  !0 === e.active
                                    ? '<i class="fas fa-fw fa-check"></i>' + t
                                    : '<i class="fas fa-fw"></i>' + t),
                                  $("#commandLine").hasClass("allCommands")
                                    ? $(
                                        `#commandLine .suggestions .entry[command='toggleTag${e._id}']`
                                      ).html(
                                        '<div class="icon"><i class="fas fa-fw fa-tag"></i></div><div>Tags  > ' +
                                          t
                                      )
                                    : $(
                                        `#commandLine .suggestions .entry[command='toggleTag${e._id}']`
                                      ).html(t);
                              },
                            });
                        }),
                      h.list.push({
                        id: "createTag",
                        display: "Create tag",
                        icon: "fa-plus",
                        shouldFocusTestUI: !1,
                        exec: () => {
                          u.show("add");
                        },
                      }))
                    : h.list.push({
                        id: "createTag",
                        display: "Create tag",
                        icon: "fa-plus",
                        shouldFocusTestUI: !1,
                        exec: () => {
                          u.show("add");
                        },
                      });
              })();
            },
          },
          m = [
            {
              visible: !1,
              id: "changeTags",
              display: "Tags...",
              icon: "fa-tag",
              subgroup: h,
              available: () =>
                !!(null === f.Auth || void 0 === f.Auth
                  ? void 0
                  : f.Auth.currentUser),
            },
          ];
        t.default = m;
      },
      6704: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeTapeMode",
              display: "Tape mode...",
              icon: "fa-tape",
              subgroup: {
                title: "Tape mode...",
                configKey: "tapeMode",
                list: [
                  {
                    id: "setTapeModeOff",
                    display: "off",
                    configValue: "off",
                    exec: () => {
                      r.setTapeMode("off");
                    },
                  },
                  {
                    id: "setTapeModeLetter",
                    display: "letter",
                    configValue: "letter",
                    exec: () => {
                      r.setTapeMode("letter");
                    },
                  },
                  {
                    id: "setTapeModeWord",
                    display: "word",
                    configValue: "word",
                    exec: () => {
                      r.setTapeMode("word");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      4766: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.update = void 0);
        const r = a(o(6705)),
          s = r,
          u = o(3388),
          l = a(o(743)),
          d = {
            title: "Theme...",
            configKey: "theme",
            list: [],
          },
          c = [
            {
              id: "changeTheme",
              display: "Theme...",
              icon: "fa-palette",
              subgroup: d,
            },
          ];
        (t.update = function (e) {
          d.list = [];
          const t = [];
          e.forEach((e) => {
            r.default.favThemes.includes(e.name)
              ? t.push({
                  id:
                    "changeTheme" +
                    (0, u.capitalizeFirstLetterOfEachWord)(e.name),
                  display: e.name.replace(/_/g, " "),
                  configValue: e.name,
                  customData: {
                    mainColor: e.mainColor,
                    bgColor: e.bgColor,
                    subColor: e.subColor,
                    textColor: e.textColor,
                  },
                  hover: () => {
                    l.preview(e.name);
                  },
                  exec: () => {
                    s.setTheme(e.name);
                  },
                })
              : d.list.push({
                  id:
                    "changeTheme" +
                    (0, u.capitalizeFirstLetterOfEachWord)(e.name),
                  display: e.name.replace(/_/g, " "),
                  configValue: e.name,
                  customData: {
                    mainColor: e.mainColor,
                    bgColor: e.bgColor,
                    subColor: e.subColor,
                    textColor: e.textColor,
                  },
                  hover: () => {
                    l.preview(e.name);
                  },
                  exec: () => {
                    s.setTheme(e.name);
                  },
                });
          }),
            (d.list = [...t, ...d.list]);
        }),
          (t.default = c);
      },
      7589: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = a(o(3013)),
          u = [
            {
              id: "changeTimeConfig",
              display: "Time...",
              icon: "fa-clock",
              subgroup: {
                title: "Change time config...",
                configKey: "time",
                list: [
                  {
                    id: "changeTimeConfig15",
                    display: "15",
                    configValue: 15,
                    exec: () => {
                      r.setMode("time"), r.setTimeConfig(15), s.restart();
                    },
                  },
                  {
                    id: "changeTimeConfig30",
                    display: "30",
                    configValue: 30,
                    exec: () => {
                      r.setMode("time"), r.setTimeConfig(30), s.restart();
                    },
                  },
                  {
                    id: "changeTimeConfig60",
                    display: "60",
                    configValue: 60,
                    exec: () => {
                      r.setMode("time"), r.setTimeConfig(60), s.restart();
                    },
                  },
                  {
                    id: "changeTimeConfig120",
                    display: "120",
                    configValue: 120,
                    exec: () => {
                      r.setMode("time"), r.setTimeConfig(120), s.restart();
                    },
                  },
                  {
                    id: "changeTimeConfigCustom",
                    display: "custom...",
                    input: !0,
                    exec: (e) => {
                      e &&
                        (r.setMode("time"),
                        r.setTimeConfig(parseInt(e)),
                        s.restart());
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      5215: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeTimerColor",
              display: "Live progress color...",
              icon: "fa-chart-pie",
              subgroup: {
                title: "Live progress color...",
                configKey: "timerColor",
                list: [
                  {
                    id: "setTimerColorBlack",
                    display: "black",
                    configValue: "black",
                    alias: "timer",
                    exec: () => {
                      r.setTimerColor("black");
                    },
                  },
                  {
                    id: "setTimerColorSub",
                    display: "sub",
                    configValue: "sub",
                    alias: "timer",
                    exec: () => {
                      r.setTimerColor("sub");
                    },
                  },
                  {
                    id: "setTimerColorText",
                    display: "text",
                    configValue: "text",
                    alias: "timer",
                    exec: () => {
                      r.setTimerColor("text");
                    },
                  },
                  {
                    id: "setTimerColorMain",
                    display: "main",
                    configValue: "main",
                    alias: "timer",
                    exec: () => {
                      r.setTimerColor("main");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      6373: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeTimerOpacity",
              display: "Live progress opacity...",
              icon: "fa-chart-pie",
              subgroup: {
                title: "Live progress opacity...",
                configKey: "timerOpacity",
                list: [
                  {
                    id: "setTimerOpacity.25",
                    display: ".25",
                    configValue: 0.25,
                    alias: "timer",
                    exec: () => {
                      r.setTimerOpacity("0.25");
                    },
                  },
                  {
                    id: "setTimerOpacity.5",
                    display: ".5",
                    configValue: 0.5,
                    alias: "timer",
                    exec: () => {
                      r.setTimerOpacity("0.5");
                    },
                  },
                  {
                    id: "setTimerOpacity.75",
                    display: ".75",
                    configValue: 0.75,
                    alias: "timer",
                    exec: () => {
                      r.setTimerOpacity("0.75");
                    },
                  },
                  {
                    id: "setTimerOpacity1",
                    display: "1",
                    configValue: 1,
                    alias: "timer",
                    exec: () => {
                      r.setTimerOpacity("1");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      554: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeTimerStyle",
              display: "Live progress style...",
              icon: "fa-chart-pie",
              subgroup: {
                title: "Live progress style...",
                configKey: "timerStyle",
                list: [
                  {
                    id: "setTimerStyleBar",
                    display: "bar",
                    configValue: "bar",
                    alias: "timer",
                    exec: () => {
                      r.setTimerStyle("bar");
                    },
                  },
                  {
                    id: "setTimerStyleText",
                    display: "text",
                    configValue: "text",
                    alias: "timer",
                    exec: () => {
                      r.setTimerStyle("text");
                    },
                  },
                  {
                    id: "setTimerStyleMini",
                    display: "mini",
                    configValue: "mini",
                    alias: "timer",
                    exec: () => {
                      r.setTimerStyle("mini");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      6501: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = [
            {
              id: "changeTypingSpeedUnit",
              display: "Typing speed unit...",
              icon: "fa-tachometer-alt",
              subgroup: {
                title: "Typing speed unit...",
                configKey: "typingSpeedUnit",
                list: [
                  {
                    id: "setTypingSpeedUnitWpm",
                    display: "wpm",
                    configValue: "wpm",
                    exec: () => {
                      r.setTypingSpeedUnit("wpm");
                    },
                  },
                  {
                    id: "setTypingSpeedUnitCpm",
                    display: "cpm",
                    configValue: "cpm",
                    exec: () => {
                      r.setTypingSpeedUnit("cpm");
                    },
                  },
                  {
                    id: "setTypingSpeedUnitWps",
                    display: "wps",
                    configValue: "wps",
                    exec: () => {
                      r.setTypingSpeedUnit("wps");
                    },
                  },
                  {
                    id: "setTypingSpeedUnitCps",
                    display: "cps",
                    configValue: "cps",
                    exec: () => {
                      r.setTypingSpeedUnit("cps");
                    },
                  },
                  {
                    id: "setTypingSpeedUnitWph",
                    display: "wph",
                    configValue: "wph",
                    visible: !1,
                    exec: () => {
                      r.setTypingSpeedUnit("wph");
                    },
                  },
                ],
              },
            },
          ];
        t.default = s;
      },
      2050: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(6705)),
          s = a(o(3013)),
          u = [
            {
              id: "changeWordCount",
              display: "Words...",
              alias: "words",
              icon: "fa-font",
              subgroup: {
                title: "Change word count...",
                configKey: "words",
                list: [
                  {
                    id: "changeWordCount10",
                    display: "10",
                    configValue: 10,
                    exec: () => {
                      r.setMode("words"), r.setWordCount(10), s.restart();
                    },
                  },
                  {
                    id: "changeWordCount25",
                    display: "25",
                    configValue: 25,
                    exec: () => {
                      r.setMode("words"), r.setWordCount(25), s.restart();
                    },
                  },
                  {
                    id: "changeWordCount50",
                    display: "50",
                    configValue: 50,
                    exec: () => {
                      r.setMode("words"), r.setWordCount(50), s.restart();
                    },
                  },
                  {
                    id: "changeWordCount100",
                    display: "100",
                    configValue: 100,
                    exec: () => {
                      r.setMode("words"), r.setWordCount(100), s.restart();
                    },
                  },
                  {
                    id: "changeWordCount200",
                    display: "200",
                    configValue: 200,
                    exec: () => {
                      r.setMode("words"), r.setWordCount(200), s.restart();
                    },
                  },
                  {
                    id: "changeWordCountCustom",
                    display: "custom...",
                    input: !0,
                    exec: (e) => {
                      e &&
                        (r.setMode("words"),
                        r.setWordCount(parseInt(e)),
                        s.restart());
                    },
                  },
                ],
              },
            },
          ];
        t.default = u;
      },
      4332: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.isConfigValueValidAsync = t.isConfigValueValid = void 0);
        const s = a(o(3388)),
          u = a(o(3368));
        function l(e, t, o) {
          void 0 === o
            ? u.add(
                `Invalid value for ${e} (${t}). Please try to change this setting again.`,
                -1
              )
            : u.add(`Invalid value for ${e} (${t}). ${o}`, -1),
            console.error(`Invalid value key ${e} value ${t} type ${typeof t}`);
        }
        function d(e) {
          return e instanceof Array;
        }
        (t.isConfigValueValid = function (e, t, o) {
          let n = !1;
          for (const e of o)
            switch (e) {
              case "boolean":
                "boolean" == typeof t && (n = !0);
                break;
              case "null":
                null === t && (n = !0);
                break;
              case "number":
                "number" != typeof t || isNaN(t) || (n = !0);
                break;
              case "numberArray":
                d(t) &&
                  t.every((e) => "number" == typeof e && !isNaN(e)) &&
                  (n = !0);
                break;
              case "string":
                "string" == typeof t && (n = !0);
                break;
              case "stringArray":
                d(t) && t.every((e) => "string" == typeof e) && (n = !0);
                break;
              case "undefined":
                (void 0 !== t && void 0 !== t) || (n = !0);
                break;
              default:
                d(e) && e.includes(t) && (n = !0);
            }
          return n || l(e, t, undefined), n;
        }),
          (t.isConfigValueValidAsync = function (e, t, o) {
            return r(this, void 0, void 0, function* () {
              let n,
                i = !1;
              for (const e of o)
                switch (e) {
                  case "layoutfluid": {
                    if ("string" != typeof t) break;
                    const e = t.split(/[# ]+/);
                    if (e.length < 2 || e.length > 5) break;
                    try {
                      yield s.getLayoutsList();
                    } catch (e) {
                      n = s.createErrorMessage(
                        e,
                        "Failed to validate layoutfluid value"
                      );
                      break;
                    }
                    const o = yield Promise.all(
                      e.map((e) =>
                        r(this, void 0, void 0, function* () {
                          return s.getLayout(e);
                        })
                      )
                    );
                    if (!o.every((e) => void 0 !== e)) {
                      n = `The following inputted layouts do not exist: ${e
                        .map((e, t) => [e, o[t]])
                        .filter(([e, t]) => void 0 === t)
                        .map(([e]) => e)
                        .join(", ")}`;
                      break;
                    }
                    i = !0;
                    break;
                  }
                }
              return i || l(e, t, n), i;
            });
          });
      },
      6705: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.setHighlightMode =
            t.setShowAverage =
            t.setShowLiveBurst =
            t.setShowLiveAcc =
            t.setShowLiveWpm =
            t.setShowTimerProgress =
            t.setPaceCaretStyle =
            t.setCaretStyle =
            t.setPageWidth =
            t.setOppositeShiftMode =
            t.setStrictSpace =
            t.setColorfulMode =
            t.setFlipTestColors =
            t.setRepeatQuotes =
            t.setAds =
            t.setQuickEnd =
            t.setShowAllLines =
            t.setCapsLockWarning =
            t.setSingleListCommandLine =
            t.setAlwaysShowWordsHistory =
            t.setMinBurstCustomSpeed =
            t.setMinBurst =
            t.setMinAccCustom =
            t.setMinAcc =
            t.setMinWpmCustomSpeed =
            t.setMinWpm =
            t.setRepeatedPace =
            t.setPaceCaretCustomSpeed =
            t.setPaceCaret =
            t.setShowOutOfFocusWarning =
            t.setTypingSpeedUnit =
            t.setAlwaysShowDecimalPlaces =
            t.setStopOnError =
            t.setAccountChartAvg100 =
            t.setAccountChartAvg10 =
            t.setAccountChartAccuracy =
            t.setAccountChartResults =
            t.setBlindMode =
            t.toggleFunbox =
            t.setFunbox =
            t.setFavThemes =
            t.setDifficulty =
            t.setSoundVolume =
            t.setPlaySoundOnClick =
            t.setPlaySoundOnError =
            t.setMode =
            t.setPunctuation =
            t.setNumbers =
            t.saveFullConfigToLocalStorage =
            t.localStorageConfig =
              void 0),
          (t.loadPromise =
            t.getConfigChanges =
            t.loadFromLocalStorage =
            t.reset =
            t.apply =
            t.setBurstHeatmap =
            t.setMonkeyPowerLevel =
            t.setCustomBackgroundFilter =
            t.setCustomBackgroundSize =
            t.setCustomLayoutfluid =
            t.setCustomBackground =
            t.setFontSize =
            t.setLayout =
            t.setKeymapShowTopRow =
            t.setKeymapLayout =
            t.setKeymapStyle =
            t.setKeymapLegendStyle =
            t.setKeymapMode =
            t.setMonkey =
            t.setLanguage =
            t.setCustomThemeColors =
            t.setLazyMode =
            t.setBritishEnglish =
            t.setRandomTheme =
            t.setThemeDark =
            t.setThemeLight =
            t.setTheme =
            t.setCustomTheme =
            t.setAutoSwitchTheme =
            t.setIndicateTypos =
            t.setConfidenceMode =
            t.setFreedomMode =
            t.setFontFamily =
            t.previewFontFamily =
            t.setQuickRestartMode =
            t.setSmoothLineScroll =
            t.setStartGraphsAtZero =
            t.setSmoothCaret =
            t.setWordCount =
            t.setQuoteLength =
            t.setTimeConfig =
            t.setKeyTips =
            t.setTimerOpacity =
            t.setTimerColor =
            t.setTimerStyle =
            t.setHideExtraLetters =
            t.setTapeMode =
              void 0);
        const u = a(o(6350)),
          l = a(o(1333)),
          d = a(o(3368)),
          c = o(4332),
          p = a(o(1446)),
          f = s(o(2191)),
          h = o(6617),
          m = a(o(3326)),
          g = a(o(5344)),
          v = o(2189),
          y = o(8789),
          b = o(3388);
        let w;
        const _ = Object.assign({}, f.default);
        let C = {};
        const S = (0, v.debounce)(1e3, () => {
          Object.keys(C).length > 0 &&
            (g.loading(!0),
            u.saveConfig(C).then(() => {
              g.loading(!1);
            })),
            (C = {});
        });
        function x(e, t = !1, o = !1) {
          return r(this, void 0, void 0, function* () {
            if (t) return;
            const n = _,
              i = JSON.stringify(n);
            window.localStorage.setItem("config", i),
              o || ((C[e] = _[e]), yield S()),
              p.dispatch("saveToLocalStorage", i);
          });
        }
        function P(e = !1) {
          return r(this, void 0, void 0, function* () {
            console.log("saving full config to localStorage");
            const t = _,
              o = JSON.stringify(t);
            window.localStorage.setItem("config", o),
              e || (g.loading(!0), yield u.saveConfig(t), g.loading(!1)),
              p.dispatch("saveToLocalStorage", o);
          });
        }
        function k(e, t) {
          return (
            !!(0, c.isConfigValueValid)("numbers", e, ["boolean"]) &&
            !!(0, y.canSetConfigWithCurrentFunboxes)("numbers", e, _.funbox) &&
            ("quote" === _.mode && (e = !1),
            (_.numbers = e),
            x("numbers", t),
            p.dispatch("numbers", _.numbers),
            !0)
          );
        }
        function T(e, t) {
          return (
            !!(0, c.isConfigValueValid)("punctuation", e, ["boolean"]) &&
            !!(0, y.canSetConfigWithCurrentFunboxes)(
              "punctuation",
              e,
              _.funbox
            ) &&
            ("quote" === _.mode && (e = !1),
            (_.punctuation = e),
            x("punctuation", t),
            p.dispatch("punctuation", _.punctuation),
            !0)
          );
        }
        function O(e, t) {
          if (
            !(0, c.isConfigValueValid)("mode", e, [
              ["time", "words", "quote", "zen", "custom"],
            ])
          )
            return !1;
          if (!(0, y.canSetConfigWithCurrentFunboxes)("mode", e, _.funbox))
            return !1;
          const o = _.mode;
          return (
            (_.mode = e),
            "custom" === _.mode || "quote" === _.mode
              ? (T(!1, !0), k(!1, !0))
              : "zen" === _.mode &&
                "off" !== _.paceCaret &&
                d.add("Pace caret will not work with zen mode.", 0),
            x("mode", t),
            p.dispatch("mode", _.mode, t, o),
            !0
          );
        }
        function M(e, t) {
          return (
            !!(0, c.isConfigValueValid)("play sound on error", e, [
              ["off", "1", "2", "3"],
            ]) &&
            ((_.playSoundOnError = e),
            x("playSoundOnError", t),
            p.dispatch("playSoundOnError", _.playSoundOnError),
            !0)
          );
        }
        function A(e, t) {
          return (
            !!(0, c.isConfigValueValid)("play sound on click", e, [
              [
                "off",
                "1",
                "2",
                "3",
                "4",
                "5",
                "6",
                "7",
                "8",
                "9",
                "10",
                "11",
                "12",
                "13",
              ],
            ]) &&
            ((_.playSoundOnClick = e),
            x("playSoundOnClick", t),
            p.dispatch("playSoundOnClick", _.playSoundOnClick),
            !0)
          );
        }
        function j(e, t) {
          return (
            !!(0, c.isConfigValueValid)("sound volume", e, [
              ["0.1", "0.5", "1.0"],
            ]) &&
            ((_.soundVolume = e),
            x("soundVolume", t),
            p.dispatch("soundVolume", _.soundVolume),
            !0)
          );
        }
        function W(e, t) {
          return (
            !!(0, c.isConfigValueValid)("difficulty", e, [
              ["normal", "expert", "master"],
            ]) &&
            ((_.difficulty = e),
            x("difficulty", t),
            p.dispatch("difficulty", _.difficulty, t),
            !0)
          );
        }
        function L(e, t) {
          return (
            !!(0, c.isConfigValueValid)("favorite themes", e, [
              "stringArray",
            ]) &&
            ((_.favThemes = e),
            x("favThemes", t),
            p.dispatch("favThemes", _.favThemes),
            !0)
          );
        }
        function B(e, t) {
          if (!(0, c.isConfigValueValid)("funbox", e, ["string"])) return !1;
          for (const e of _.funbox.split("#"))
            if (!(0, y.canSetFunboxWithConfig)(e, _)) return !1;
          const o = e || "none";
          return (
            (_.funbox = o), x("funbox", t), p.dispatch("funbox", _.funbox), !0
          );
        }
        function E(e, t) {
          return (
            !!(0, c.isConfigValueValid)("blind mode", e, ["boolean"]) &&
            ((_.blindMode = e),
            x("blindMode", t),
            p.dispatch("blindMode", _.blindMode, t),
            !0)
          );
        }
        function F(e, t) {
          return (
            !!(0, c.isConfigValueValid)("stop on error", e, [
              ["off", "word", "letter"],
            ]) &&
            ((_.stopOnError = e),
            "off" !== _.stopOnError &&
              ((_.confidenceMode = "off"), x("confidenceMode", t)),
            x("stopOnError", t),
            p.dispatch("stopOnError", _.stopOnError, t),
            !0)
          );
        }
        function I(e, t) {
          return (
            !!(0, c.isConfigValueValid)("always show decimal places", e, [
              "boolean",
            ]) &&
            ((_.alwaysShowDecimalPlaces = e),
            x("alwaysShowDecimalPlaces", t),
            p.dispatch("alwaysShowDecimalPlaces", _.alwaysShowDecimalPlaces),
            !0)
          );
        }
        function R(e, t) {
          return (
            !!(0, c.isConfigValueValid)("typing speed unit", e, [
              ["wpm", "cpm", "wps", "cps", "wph"],
            ]) &&
            ((_.typingSpeedUnit = e),
            x("typingSpeedUnit", t),
            p.dispatch("typingSpeedUnit", _.typingSpeedUnit, t),
            !0)
          );
        }
        function D(e, t) {
          return (
            !!(0, c.isConfigValueValid)("show out of focus warning", e, [
              "boolean",
            ]) &&
            ((_.showOutOfFocusWarning = e),
            _.showOutOfFocusWarning || l.hide(),
            x("showOutOfFocusWarning", t),
            p.dispatch("showOutOfFocusWarning", _.showOutOfFocusWarning),
            !0)
          );
        }
        function V(e, t) {
          return (
            !!(0, c.isConfigValueValid)("pace caret", e, [
              ["custom", "off", "average", "pb", "last", "daily"],
            ]) &&
            ("complete" !== document.readyState ||
            "pb" !== e ||
            (null === h.Auth || void 0 === h.Auth ? void 0 : h.Auth.currentUser)
              ? ((_.paceCaret = e),
                x("paceCaret", t),
                p.dispatch("paceCaret", _.paceCaret, t),
                !0)
              : (d.add("PB pace caret is unavailable without an account", 0),
                !1))
          );
        }
        function q(e, t) {
          return (
            !!(0, c.isConfigValueValid)("pace caret custom speed", e, [
              "number",
            ]) &&
            ((_.paceCaretCustomSpeed = e),
            x("paceCaretCustomSpeed", t),
            p.dispatch("paceCaretCustomSpeed", _.paceCaretCustomSpeed),
            !0)
          );
        }
        function H(e, t) {
          return (
            !!(0, c.isConfigValueValid)("repeated pace", e, ["boolean"]) &&
            ((_.repeatedPace = e),
            x("repeatedPace", t),
            p.dispatch("repeatedPace", _.repeatedPace),
            !0)
          );
        }
        function K(e, t) {
          return (
            !!(0, c.isConfigValueValid)("min speed", e, [["off", "custom"]]) &&
            ((_.minWpm = e),
            x("minWpm", t),
            p.dispatch("minWpm", _.minWpm, t),
            !0)
          );
        }
        function N(e, t) {
          return (
            !!(0, c.isConfigValueValid)("min speed custom", e, ["number"]) &&
            ((_.minWpmCustomSpeed = e),
            x("minWpmCustomSpeed", t),
            p.dispatch("minWpmCustomSpeed", _.minWpmCustomSpeed),
            !0)
          );
        }
        function z(e, t) {
          return (
            !!(0, c.isConfigValueValid)("min acc", e, [["off", "custom"]]) &&
            ((_.minAcc = e),
            x("minAcc", t),
            p.dispatch("minAcc", _.minAcc, t),
            !0)
          );
        }
        function U(e, t) {
          return (
            !!(0, c.isConfigValueValid)("min acc custom", e, ["number"]) &&
            (e > 100 && (e = 100),
            (_.minAccCustom = e),
            x("minAccCustom", t),
            p.dispatch("minAccCustom", _.minAccCustom),
            !0)
          );
        }
        function Q(e, t) {
          return (
            !!(0, c.isConfigValueValid)("min burst", e, [
              ["off", "fixed", "flex"],
            ]) &&
            ((_.minBurst = e),
            x("minBurst", t),
            p.dispatch("minBurst", _.minBurst, t),
            !0)
          );
        }
        function G(e, t) {
          return (
            !!(0, c.isConfigValueValid)("min burst custom speed", e, [
              "number",
            ]) &&
            ((_.minBurstCustomSpeed = e),
            x("minBurstCustomSpeed", t),
            p.dispatch("minBurstCustomSpeed", _.minBurstCustomSpeed),
            !0)
          );
        }
        function J(e, t) {
          return (
            !!(0, c.isConfigValueValid)("always show words history", e, [
              "boolean",
            ]) &&
            ((_.alwaysShowWordsHistory = e),
            x("alwaysShowWordsHistory", t),
            p.dispatch("alwaysShowWordsHistory", _.alwaysShowWordsHistory),
            !0)
          );
        }
        function Y(e, t) {
          return (
            !!(0, c.isConfigValueValid)("single list command line", e, [
              ["manual", "on"],
            ]) &&
            ((_.singleListCommandLine = e),
            x("singleListCommandLine", t),
            p.dispatch("singleListCommandLine", _.singleListCommandLine),
            !0)
          );
        }
        function Z(e, t) {
          return (
            !!(0, c.isConfigValueValid)("caps lock warning", e, ["boolean"]) &&
            ((_.capsLockWarning = e),
            x("capsLockWarning", t),
            p.dispatch("capsLockWarning", _.capsLockWarning),
            !0)
          );
        }
        function X(e, t) {
          return (
            !!(0, c.isConfigValueValid)("show all lines", e, ["boolean"]) &&
            (e && "off" !== _.tapeMode
              ? (d.add("Show all lines doesn't support tape mode", 0), !1)
              : ((_.showAllLines = e),
                x("showAllLines", t),
                p.dispatch("showAllLines", _.showAllLines, t),
                !0))
          );
        }
        function ee(e, t) {
          return (
            !!(0, c.isConfigValueValid)("quick end", e, ["boolean"]) &&
            ((_.quickEnd = e),
            x("quickEnd", t),
            p.dispatch("quickEnd", _.quickEnd),
            !0)
          );
        }
        function te(e, t) {
          return (
            !!(0, c.isConfigValueValid)("ads", e, [
              ["off", "result", "on", "sellout"],
            ]) &&
            ((_.ads = e),
            x("ads", t),
            t ||
              ((0, b.reloadAfter)(3),
              d.add("Ad settings changed. Refreshing...", 0)),
            p.dispatch("ads", _.ads),
            !0)
          );
        }
        function oe(e, t) {
          return (
            !!(0, c.isConfigValueValid)("repeat quotes", e, [
              ["off", "typing"],
            ]) &&
            ((_.repeatQuotes = e),
            x("repeatQuotes", t),
            p.dispatch("repeatQuotes", _.repeatQuotes),
            !0)
          );
        }
        function ne(e, t) {
          return (
            !!(0, c.isConfigValueValid)("flip test colors", e, ["boolean"]) &&
            ((_.flipTestColors = e),
            x("flipTestColors", t),
            p.dispatch("flipTestColors", _.flipTestColors),
            !0)
          );
        }
        function ie(e, t) {
          return (
            !!(0, c.isConfigValueValid)("colorful mode", e, ["boolean"]) &&
            ((_.colorfulMode = e),
            x("colorfulMode", t),
            p.dispatch("colorfulMode", _.colorfulMode),
            !0)
          );
        }
        function ae(e, t) {
          return (
            !!(0, c.isConfigValueValid)("strict space", e, ["boolean"]) &&
            ((_.strictSpace = e),
            x("strictSpace", t),
            p.dispatch("strictSpace", _.strictSpace),
            !0)
          );
        }
        function re(e, t) {
          return (
            !!(0, c.isConfigValueValid)("opposite shift mode", e, [
              ["off", "on", "keymap"],
            ]) &&
            ((_.oppositeShiftMode = e),
            x("oppositeShiftMode", t),
            p.dispatch("oppositeShiftMode", _.oppositeShiftMode),
            !0)
          );
        }
        function se(e, t) {
          return (
            !!(0, c.isConfigValueValid)("page width", e, [
              ["max", "100", "125", "150", "200"],
            ]) &&
            ((_.pageWidth = e),
            $("#contentWrapper").removeClass("wide125"),
            $("#contentWrapper").removeClass("wide150"),
            $("#contentWrapper").removeClass("wide200"),
            $("#contentWrapper").removeClass("widemax"),
            $("#app").removeClass("wide125"),
            $("#app").removeClass("wide150"),
            $("#app").removeClass("wide200"),
            $("#app").removeClass("widemax"),
            "100" !== e &&
              ($("#contentWrapper").addClass("wide" + e),
              $("#app").addClass("wide" + e)),
            x("pageWidth", t),
            p.dispatch("pageWidth", _.pageWidth),
            !0)
          );
        }
        function ue(e, t) {
          return (
            !!(0, c.isConfigValueValid)("caret style", e, [
              [
                "off",
                "default",
                "block",
                "outline",
                "underline",
                "carrot",
                "banana",
              ],
            ]) &&
            ((_.caretStyle = e),
            $("#caret").removeClass("off"),
            $("#caret").removeClass("default"),
            $("#caret").removeClass("underline"),
            $("#caret").removeClass("outline"),
            $("#caret").removeClass("block"),
            $("#caret").removeClass("carrot"),
            $("#caret").removeClass("banana"),
            "off" === e
              ? $("#caret").addClass("off")
              : "default" === e
              ? $("#caret").addClass("default")
              : "block" === e
              ? $("#caret").addClass("block")
              : "outline" === e
              ? $("#caret").addClass("outline")
              : "underline" === e
              ? $("#caret").addClass("underline")
              : "carrot" === e
              ? $("#caret").addClass("carrot")
              : "banana" === e && $("#caret").addClass("banana"),
            x("caretStyle", t),
            p.dispatch("caretStyle", _.caretStyle),
            !0)
          );
        }
        function le(e, t) {
          return (
            !!(0, c.isConfigValueValid)("pace caret style", e, [
              [
                "off",
                "default",
                "block",
                "outline",
                "underline",
                "carrot",
                "banana",
              ],
            ]) &&
            ((_.paceCaretStyle = e),
            $("#paceCaret").removeClass("off"),
            $("#paceCaret").removeClass("default"),
            $("#paceCaret").removeClass("underline"),
            $("#paceCaret").removeClass("outline"),
            $("#paceCaret").removeClass("block"),
            $("#paceCaret").removeClass("carrot"),
            $("#paceCaret").removeClass("banana"),
            "default" === e
              ? $("#paceCaret").addClass("default")
              : "block" === e
              ? $("#paceCaret").addClass("block")
              : "outline" === e
              ? $("#paceCaret").addClass("outline")
              : "underline" === e
              ? $("#paceCaret").addClass("underline")
              : "carrot" === e
              ? $("#paceCaret").addClass("carrot")
              : "banana" === e && $("#paceCaret").addClass("banana"),
            x("paceCaretStyle", t),
            p.dispatch("paceCaretStyle", _.paceCaretStyle),
            !0)
          );
        }
        function de(e, t) {
          return (
            !!(0, c.isConfigValueValid)("show timer progress", e, [
              "boolean",
            ]) &&
            ((_.showTimerProgress = e),
            x("showTimerProgress", t),
            p.dispatch("showTimerProgress", _.showTimerProgress),
            !0)
          );
        }
        function ce(e, t) {
          return (
            !!(0, c.isConfigValueValid)("show live speed", e, ["boolean"]) &&
            ((_.showLiveWpm = e),
            x("showLiveWpm", t),
            p.dispatch("showLiveWpm", _.showLiveWpm),
            !0)
          );
        }
        function pe(e, t) {
          return (
            !!(0, c.isConfigValueValid)("show live acc", e, ["boolean"]) &&
            ((_.showLiveAcc = e),
            x("showLiveAcc", t),
            p.dispatch("showLiveAcc", _.showLiveAcc),
            !0)
          );
        }
        function fe(e, t) {
          return (
            !!(0, c.isConfigValueValid)("show live burst", e, ["boolean"]) &&
            ((_.showLiveBurst = e),
            x("showLiveBurst", t),
            p.dispatch("showLiveBurst", _.showLiveBurst),
            !0)
          );
        }
        function he(e, t) {
          return (
            !!(0, c.isConfigValueValid)("show average", e, [
              ["off", "speed", "acc", "both"],
            ]) &&
            ((_.showAverage = e),
            x("showAverage", t),
            p.dispatch("showAverage", _.showAverage, t),
            !0)
          );
        }
        function me(e, t) {
          return (
            !!(0, c.isConfigValueValid)("highlight mode", e, [
              [
                "off",
                "letter",
                "word",
                "next_word",
                "next_two_words",
                "next_three_words",
              ],
            ]) &&
            !!(0, y.canSetConfigWithCurrentFunboxes)(
              "highlightMode",
              e,
              _.funbox
            ) &&
            ((_.highlightMode = e),
            x("highlightMode", t),
            p.dispatch("highlightMode", _.highlightMode),
            !0)
          );
        }
        function ge(e, t) {
          return (
            !!(0, c.isConfigValueValid)("tape mode", e, [
              ["off", "letter", "word"],
            ]) &&
            ("off" !== e && !0 === _.showAllLines && X(!1, !0),
            (_.tapeMode = e),
            x("tapeMode", t),
            p.dispatch("tapeMode", _.tapeMode),
            !0)
          );
        }
        function ve(e, t) {
          return (
            !!(0, c.isConfigValueValid)("hide extra letters", e, ["boolean"]) &&
            ((_.hideExtraLetters = e),
            x("hideExtraLetters", t),
            p.dispatch("hideExtraLetters", _.hideExtraLetters),
            !0)
          );
        }
        function ye(e, t) {
          return (
            !!(0, c.isConfigValueValid)("timer style", e, [
              ["bar", "text", "mini"],
            ]) &&
            ((_.timerStyle = e),
            x("timerStyle", t),
            p.dispatch("timerStyle", _.timerStyle),
            !0)
          );
        }
        function be(e, t) {
          return (
            !!(0, c.isConfigValueValid)("timer color", e, [
              ["black", "sub", "text", "main"],
            ]) &&
            ((_.timerColor = e),
            $("#timer").removeClass("timerSub"),
            $("#timer").removeClass("timerText"),
            $("#timer").removeClass("timerMain"),
            $("#timerNumber").removeClass("timerSub"),
            $("#timerNumber").removeClass("timerText"),
            $("#timerNumber").removeClass("timerMain"),
            $("#largeLiveWpmAndAcc").removeClass("timerSub"),
            $("#largeLiveWpmAndAcc").removeClass("timerText"),
            $("#largeLiveWpmAndAcc").removeClass("timerMain"),
            $("#miniTimerAndLiveWpm").removeClass("timerSub"),
            $("#miniTimerAndLiveWpm").removeClass("timerText"),
            $("#miniTimerAndLiveWpm").removeClass("timerMain"),
            "main" === e
              ? ($("#timer").addClass("timerMain"),
                $("#timerNumber").addClass("timerMain"),
                $("#largeLiveWpmAndAcc").addClass("timerMain"),
                $("#miniTimerAndLiveWpm").addClass("timerMain"))
              : "sub" === e
              ? ($("#timer").addClass("timerSub"),
                $("#timerNumber").addClass("timerSub"),
                $("#largeLiveWpmAndAcc").addClass("timerSub"),
                $("#miniTimerAndLiveWpm").addClass("timerSub"))
              : "text" === e &&
                ($("#timer").addClass("timerText"),
                $("#timerNumber").addClass("timerText"),
                $("#largeLiveWpmAndAcc").addClass("timerText"),
                $("#miniTimerAndLiveWpm").addClass("timerText")),
            x("timerColor", t),
            p.dispatch("timerColor", _.timerColor),
            !0)
          );
        }
        function we(e, t) {
          return (
            !!(0, c.isConfigValueValid)("timer opacity", e, [
              ["0.25", "0.5", "0.75", "1"],
            ]) &&
            ((_.timerOpacity = e),
            x("timerOpacity", t),
            p.dispatch("timerOpacity", _.timerOpacity),
            !0)
          );
        }
        function $e(e, t) {
          return (
            !!(0, c.isConfigValueValid)("key tips", e, ["boolean"]) &&
            ((_.showKeyTips = e),
            _.showKeyTips
              ? $("footer .keyTips").removeClass("hidden")
              : $("footer .keyTips").addClass("hidden"),
            x("showKeyTips", t),
            p.dispatch("showKeyTips", _.showKeyTips),
            !0)
          );
        }
        function _e(e, t) {
          if (!(0, c.isConfigValueValid)("time", e, ["number"])) return !1;
          if (!(0, y.canSetConfigWithCurrentFunboxes)("words", e, _.funbox))
            return !1;
          const o = isNaN(e) || e < 0 ? f.default.time : e;
          return (_.time = o), x("time", t), p.dispatch("time", _.time), !0;
        }
        function Ce(e, t, o) {
          return (
            !!(0, c.isConfigValueValid)("quote length", e, [
              [-3, -2, -1, 0, 1, 2, 3],
              "numberArray",
            ]) &&
            (Array.isArray(e)
              ? (1 === e.length && -1 === e[0] && (e = [1]),
                (_.quoteLength = e))
              : (Array.isArray(_.quoteLength) || (_.quoteLength = []),
                (null === e || isNaN(e) || e < -3 || e > 3) && (e = 1),
                -1 === (e = parseInt(e.toString()))
                  ? (_.quoteLength = [0, 1, 2, 3])
                  : o && e >= 0
                  ? _.quoteLength.includes(e)
                    ? _.quoteLength.length > 1 &&
                      (_.quoteLength = _.quoteLength.filter((t) => t !== e))
                    : _.quoteLength.push(e)
                  : (_.quoteLength = [e])),
            x("quoteLength", t),
            p.dispatch("quoteLength", _.quoteLength),
            !0)
          );
        }
        function Se(e, t) {
          if (!(0, c.isConfigValueValid)("words", e, ["number"])) return !1;
          if (!(0, y.canSetConfigWithCurrentFunboxes)("words", e, _.funbox))
            return !1;
          const o = e < 0 || e > 1e5 ? f.default.words : e;
          return (_.words = o), x("words", t), p.dispatch("words", _.words), !0;
        }
        function xe(e, t) {
          return (
            !!(0, c.isConfigValueValid)("smooth caret", e, [
              ["off", "slow", "medium", "fast"],
            ]) &&
            ((_.smoothCaret = e),
            "off" === e
              ? $("#caret").css("animation-name", "caretFlashHard")
              : $("#caret").css("animation-name", "caretFlashSmooth"),
            x("smoothCaret", t),
            p.dispatch("smoothCaret", _.smoothCaret),
            !0)
          );
        }
        function Pe(e, t) {
          return (
            !!(0, c.isConfigValueValid)("start graphs at zero", e, [
              "boolean",
            ]) &&
            ((_.startGraphsAtZero = e),
            x("startGraphsAtZero", t),
            p.dispatch("startGraphsAtZero", _.startGraphsAtZero),
            !0)
          );
        }
        function ke(e, t) {
          return (
            !!(0, c.isConfigValueValid)("smooth line scroll", e, ["boolean"]) &&
            ((_.smoothLineScroll = e),
            x("smoothLineScroll", t),
            p.dispatch("smoothLineScroll", _.smoothLineScroll),
            !0)
          );
        }
        function Te(e, t) {
          return (
            !!(0, c.isConfigValueValid)("quick restart mode", e, [
              ["off", "esc", "tab", "enter"],
            ]) &&
            ((_.quickRestart = e),
            x("quickRestart", t),
            p.dispatch("quickRestart", _.quickRestart),
            !0)
          );
        }
        function Oe(e, t) {
          return (
            !!(0, c.isConfigValueValid)("font family", e, ["string"]) &&
            ("" === e &&
              ((e = "roboto_mono"),
              d.add("Empty input received, reverted to the default font.", 0, {
                customTitle: "Custom font",
              })),
            e && /^[0-9a-zA-Z_.\-#+()]+$/.test(e)
              ? ((_.fontFamily = e),
                document.documentElement.style.setProperty(
                  "--font",
                  `"${e.replace(
                    /_/g,
                    " "
                  )}", "Roboto Mono", "Vazirmatn", monospace`
                ),
                x("fontFamily", t),
                p.dispatch("fontFamily", _.fontFamily),
                !0)
              : (d.add(`Invalid font name value: "${e}".`, -1, {
                  customTitle: "Custom font",
                  duration: 3,
                }),
                !1))
          );
        }
        function Me(e, t) {
          return (
            !!(0, c.isConfigValueValid)("freedom mode", e, ["boolean"]) &&
            (null == e && (e = !1),
            (_.freedomMode = e),
            _.freedomMode &&
              "off" !== _.confidenceMode &&
              (_.confidenceMode = "off"),
            x("freedomMode", t),
            p.dispatch("freedomMode", _.freedomMode),
            !0)
          );
        }
        function Ae(e, t) {
          return (
            !!(0, c.isConfigValueValid)("confidence mode", e, [
              ["off", "on", "max"],
            ]) &&
            ((_.confidenceMode = e),
            "off" !== _.confidenceMode &&
              ((_.freedomMode = !1),
              (_.stopOnError = "off"),
              x("freedomMode", t),
              x("stopOnError", t)),
            x("confidenceMode", t),
            p.dispatch("confidenceMode", _.confidenceMode, t),
            !0)
          );
        }
        function je(e, t) {
          return (
            !!(0, c.isConfigValueValid)("indicate typos", e, [
              ["off", "below", "replace"],
            ]) &&
            ((_.indicateTypos = e),
            x("indicateTypos", t),
            p.dispatch("indicateTypos", _.indicateTypos),
            !0)
          );
        }
        function We(e, t) {
          return (
            !!(0, c.isConfigValueValid)("custom theme", e, ["boolean"]) &&
            ((_.customTheme = e),
            x("customTheme", t),
            p.dispatch("customTheme", _.customTheme),
            !0)
          );
        }
        function Le(e, t) {
          return (
            !!(0, c.isConfigValueValid)("theme light", e, ["string"]) &&
            ((_.themeLight = e),
            x("themeLight", t),
            p.dispatch("themeLight", _.themeLight, t),
            !0)
          );
        }
        function Be(e, t) {
          return (
            !!(0, c.isConfigValueValid)("theme dark", e, ["string"]) &&
            ((_.themeDark = e),
            x("themeDark", t),
            p.dispatch("themeDark", _.themeDark, t),
            !0)
          );
        }
        function Ee(e, t) {
          var o;
          if (
            !(0, c.isConfigValueValid)("random theme", e, [
              ["off", "on", "fav", "light", "dark", "custom"],
            ])
          )
            return !1;
          if ("custom" === e) {
            if (
              !(null === h.Auth || void 0 === h.Auth
                ? void 0
                : h.Auth.currentUser)
            )
              return (_.randomTheme = e), !1;
            if (!u.getSnapshot()) return !0;
            if (
              0 ===
              (null === (o = u.getSnapshot()) || void 0 === o
                ? void 0
                : o.customThemes.length)
            )
              return (
                d.add("You need to create a custom theme first", 0),
                (_.randomTheme = "off"),
                !1
              );
          }
          return (
            (_.randomTheme = e),
            x("randomTheme", t),
            p.dispatch("randomTheme", _.randomTheme),
            !0
          );
        }
        function Fe(e, t) {
          return (
            !!(0, c.isConfigValueValid)("british english", e, ["boolean"]) &&
            (e || (e = !1),
            (_.britishEnglish = e),
            x("britishEnglish", t),
            p.dispatch("britishEnglish", _.britishEnglish),
            !0)
          );
        }
        function Ie(e, t) {
          return (
            !!(0, c.isConfigValueValid)("lazy mode", e, ["boolean"]) &&
            (e || (e = !1),
            (_.lazyMode = e),
            x("lazyMode", t),
            p.dispatch("lazyMode", _.lazyMode, t),
            !0)
          );
        }
        function Re(e, t) {
          return (
            !!(0, c.isConfigValueValid)("language", e, ["string"]) &&
            ((_.language = e),
            m.log("changedLanguage", {
              language: e,
            }),
            x("language", t),
            p.dispatch("language", _.language),
            !0)
          );
        }
        function De(e, t) {
          return (
            !!(0, c.isConfigValueValid)("monkey", e, ["boolean"]) &&
            ((_.monkey = e), x("monkey", t), p.dispatch("monkey", _.monkey), !0)
          );
        }
        function Ve(e, t) {
          return (
            !!(0, c.isConfigValueValid)("keymap mode", e, [
              ["off", "static", "react", "next"],
            ]) &&
            ($(".activeKey").removeClass("activeKey"),
            $(".keymapKey").attr("style", ""),
            (_.keymapMode = e),
            x("keymapMode", t),
            p.dispatch("keymapMode", _.keymapMode, t),
            !0)
          );
        }
        function qe(e, t) {
          return (
            !!(0, c.isConfigValueValid)("keymap legend style", e, [
              ["lowercase", "uppercase", "blank", "dynamic"],
            ]) &&
            (["lowercase", "uppercase", "blank", "dynamic"].forEach((e) => {
              $(".keymapLegendStyle").removeClass(e);
            }),
            (e = e || "lowercase"),
            $(".keymapKey > .letter").css("display", ""),
            $(".keymapKey > .letter").css("text-transform", ""),
            "uppercase" === e &&
              $(".keymapKey > .letter").css("text-transform", "capitalize"),
            "blank" === e && $(".keymapKey > .letter").css("display", "none"),
            $(".keymapLegendStyle").addClass(e),
            (_.keymapLegendStyle = e),
            x("keymapLegendStyle", t),
            p.dispatch("keymapLegendStyle", _.keymapLegendStyle),
            !0)
          );
        }
        function He(e, t) {
          return (
            !!(0, c.isConfigValueValid)("keymap style", e, [
              [
                "staggered",
                "alice",
                "matrix",
                "split",
                "split_matrix",
                "steno",
                "steno_matrix",
              ],
            ]) &&
            ((e = e || "staggered"),
            (_.keymapStyle = e),
            x("keymapStyle", t),
            p.dispatch("keymapStyle", _.keymapStyle),
            !0)
          );
        }
        function Ke(e, t) {
          return (
            !!(0, c.isConfigValueValid)("keymap layout", e, ["string"]) &&
            ((_.keymapLayout = e),
            x("keymapLayout", t),
            p.dispatch("keymapLayout", _.keymapLayout),
            !0)
          );
        }
        function Ne(e, t) {
          return (
            !!(0, c.isConfigValueValid)("keymapShowTopRow", e, [
              ["always", "layout", "never"],
            ]) &&
            ((_.keymapShowTopRow = e),
            x("keymapShowTopRow", t),
            p.dispatch("keymapShowTopRow", _.keymapShowTopRow),
            !0)
          );
        }
        function ze(e, t) {
          return (
            !!(0, c.isConfigValueValid)("layout", e, ["string"]) &&
            ((_.layout = e),
            x("layout", t),
            p.dispatch("layout", _.layout, t),
            !0)
          );
        }
        function Ue(e, t) {
          return (
            "string" == typeof e &&
              ["1", "125", "15", "2", "3", "4"].includes(e) &&
              (e = "125" === e ? 1.25 : "15" === e ? 1.5 : parseInt(e)),
            !!(0, c.isConfigValueValid)("font size", e, ["number"]) &&
              (e < 0 && (e = 1),
              15 === e && (e = 1.5),
              (_.fontSize = e),
              $("#words, #caret, #paceCaret, #miniTimerAndLiveWpm").css(
                "fontSize",
                e + "rem"
              ),
              x("fontSize", t),
              p.dispatch("fontSize", _.fontSize, t),
              $(window).trigger("resize"),
              !0)
          );
        }
        function Qe(e, t) {
          return (
            !!(0, c.isConfigValueValid)("custom background", e, ["string"]) &&
            ((e = e.trim()),
            (/(https|http):\/\/(www\.|).+\..+\/.+(\.png|\.gif|\.jpeg|\.jpg)/gi.test(
              e
            ) &&
              !/[<> "]/.test(e)) ||
            "" === e
              ? ((_.customBackground = e),
                x("customBackground", t),
                p.dispatch("customBackground", _.customBackground))
              : d.add("Invalid custom background URL", 0),
            !0)
          );
        }
        function Ge(e, t) {
          return r(this, void 0, void 0, function* () {
            const o = e.trim();
            if (
              !(yield (0, c.isConfigValueValidAsync)("layoutfluid", o, [
                "layoutfluid",
              ]))
            )
              return !1;
            const n = o.replace(/ /g, "#");
            return (
              (_.customLayoutfluid = n),
              x("customLayoutfluid", t),
              p.dispatch("customLayoutFluid", _.customLayoutfluid),
              !0
            );
          });
        }
        function Je(e, t) {
          return (
            !!(0, c.isConfigValueValid)("custom background size", e, [
              ["max", "cover", "contain"],
            ]) &&
            ((_.customBackgroundSize = e),
            x("customBackgroundSize", t),
            p.dispatch("customBackgroundSize", _.customBackgroundSize),
            !0)
          );
        }
        function Ye(e, t) {
          return (
            !!(0, c.isConfigValueValid)("custom background filter", e, [
              "numberArray",
            ]) &&
            ((_.customBackgroundFilter = e),
            x("customBackgroundFilter", t),
            p.dispatch("customBackgroundFilter", _.customBackgroundFilter),
            !0)
          );
        }
        function Ze(e, t) {
          return (
            !!(0, c.isConfigValueValid)("monkey power level", e, [
              ["off", "1", "2", "3", "4"],
            ]) &&
            (["off", "1", "2", "3", "4"].includes(e) || (e = "off"),
            (_.monkeyPowerLevel = e),
            x("monkeyPowerLevel", t),
            p.dispatch("monkeyPowerLevel", _.monkeyPowerLevel),
            !0)
          );
        }
        function Xe(e, t) {
          return (
            !!(0, c.isConfigValueValid)("burst heatmap", e, ["boolean"]) &&
            (e || (e = !1),
            (_.burstHeatmap = e),
            x("burstHeatmap", t),
            p.dispatch("burstHeatmap", _.burstHeatmap),
            !0)
          );
        }
        function et(e) {
          if (!e) return;
          e = (function (e) {
            const t = e;
            return (
              !0 === t.quickTab && (t.quickRestart = "tab"),
              "boolean" == typeof t.smoothCaret &&
                (t.smoothCaret = t.smoothCaret ? "medium" : "off"),
              !0 === t.swapEscAndTab && (t.quickRestart = "esc"),
              !0 === t.alwaysShowCPM && (t.typingSpeedUnit = "cpm"),
              "wpm" === t.showAverage && (t.showAverage = "speed"),
              "boolean" == typeof t.playSoundOnError &&
                (t.playSoundOnError = t.playSoundOnError ? "1" : "off"),
              t
            );
          })(e);
          const t = e;
          var o, n, i, a, r;
          Object.keys(f.default).forEach((e) => {
            if (void 0 === t[e]) {
              const o = f.default[e];
              t[e] = o;
            }
          }),
            null != t &&
              (Le(t.themeLight, !0),
              Be(t.themeDark, !0),
              (o = t.theme),
              (n = t.customTheme),
              (i = t.customThemeColors),
              (a = t.autoSwitchTheme),
              !0,
              (0, c.isConfigValueValid)("themes", o, ["string"]) &&
                (9 === i.length &&
                  (n &&
                    d.add(
                      "Missing sub alt color. Please edit it in the custom theme settings and save your changes.",
                      0,
                      {
                        duration: 7,
                      }
                    ),
                  i.splice(4, 0, "#000000")),
                (_.customThemeColors = i),
                (_.theme = o),
                (_.customTheme = n),
                (_.autoSwitchTheme = a),
                x("theme", true),
                p.dispatch("setThemes", n)),
              Ge(t.customLayoutfluid, !0),
              Qe(t.customBackground, !0),
              Je(t.customBackgroundSize, !0),
              Ye(t.customBackgroundFilter, !0),
              Te(t.quickRestart, !0),
              $e(t.showKeyTips, !0),
              _e(t.time, !0),
              Ce(t.quoteLength, !0),
              Se(t.words, !0),
              Re(t.language, !0),
              ze(t.layout, !0),
              Ue(t.fontSize, !0),
              Me(t.freedomMode, !0),
              ue(t.caretStyle, !0),
              le(t.paceCaretStyle, !0),
              W(t.difficulty, !0),
              E(t.blindMode, !0),
              ee(t.quickEnd, !0),
              ne(t.flipTestColors, !0),
              ie(t.colorfulMode, !0),
              Ae(t.confidenceMode, !0),
              je(t.indicateTypos, !0),
              ye(t.timerStyle, !0),
              be(t.timerColor, !0),
              we(t.timerOpacity, !0),
              Ve(t.keymapMode, !0),
              He(t.keymapStyle, !0),
              qe(t.keymapLegendStyle, !0),
              Ke(t.keymapLayout, !0),
              Ne(t.keymapShowTopRow, !0),
              Oe(t.fontFamily, !0),
              xe(t.smoothCaret, !0),
              ke(t.smoothLineScroll, !0),
              ce(t.showLiveWpm, !0),
              pe(t.showLiveAcc, !0),
              fe(t.showLiveBurst, !0),
              de(t.showTimerProgress, !0),
              I(t.alwaysShowDecimalPlaces, !0),
              J(t.alwaysShowWordsHistory, !0),
              Y(t.singleListCommandLine, !0),
              Z(t.capsLockWarning, !0),
              M(t.playSoundOnError, !0),
              A(t.playSoundOnClick, !0),
              j(t.soundVolume, !0),
              F(t.stopOnError, !0),
              L(t.favThemes, !0),
              B(t.funbox, !0),
              Ee(t.randomTheme, !0),
              X(t.showAllLines, !0),
              D(t.showOutOfFocusWarning, !0),
              V(t.paceCaret, !0),
              q(t.paceCaretCustomSpeed, !0),
              H(t.repeatedPace, !0),
              se(t.pageWidth, !0),
              (r = t.accountChart),
              (0, c.isConfigValueValid)("account chart", r, [
                ["on", "off"],
                "stringArray",
              ]) &&
                (4 !== r.length && (r = ["on", "on", "on", "on"]),
                (_.accountChart = r),
                x("accountChart", !0),
                p.dispatch("accountChart", _.accountChart)),
              Q(t.minBurst, !0),
              G(t.minBurstCustomSpeed, !0),
              K(t.minWpm, !0),
              N(t.minWpmCustomSpeed, !0),
              z(t.minAcc, !0),
              U(t.minAccCustom, !0),
              k(t.numbers, !0),
              T(t.punctuation, !0),
              me(t.highlightMode, !0),
              R(t.typingSpeedUnit, !0),
              ve(t.hideExtraLetters, !0),
              Pe(t.startGraphsAtZero, !0),
              ae(t.strictSpace, !0),
              re(t.oppositeShiftMode, !0),
              O(t.mode, !0),
              De(t.monkey, !0),
              oe(t.repeatQuotes, !0),
              Ze(t.monkeyPowerLevel, !0),
              Xe(t.burstHeatmap, !0),
              Fe(t.britishEnglish, !0),
              Ie(t.lazyMode, !0),
              he(t.showAverage, !0),
              ge(t.tapeMode, !0),
              te(t.ads, !0),
              p.dispatch("configApplied", void 0, void 0, void 0, _));
        }
        function tt() {
          p.dispatch("fullConfigChange"), et(f.default), P();
        }
        (t.saveFullConfigToLocalStorage = P),
          (t.setNumbers = k),
          (t.setPunctuation = T),
          (t.setMode = O),
          (t.setPlaySoundOnError = M),
          (t.setPlaySoundOnClick = A),
          (t.setSoundVolume = j),
          (t.setDifficulty = W),
          (t.setFavThemes = L),
          (t.setFunbox = B),
          (t.toggleFunbox = function (e, t) {
            if (!(0, c.isConfigValueValid)("funbox", e, ["string"])) return !1;
            let o;
            const n = _.funbox.split("#");
            if (("none" === n[0] && n.splice(0, 1), n.includes(e)))
              (o = n.indexOf(e)),
                n.splice(o, 1),
                0 === n.length ? (_.funbox = "none") : (_.funbox = n.join("#")),
                (o = -o - 1);
            else {
              if (!(0, y.canSetFunboxWithConfig)(e, _)) return !1;
              n.push(e), (_.funbox = n.sort().join("#")), (o = n.indexOf(e));
            }
            return x("funbox", t), p.dispatch("funbox", _.funbox), o;
          }),
          (t.setBlindMode = E),
          (t.setAccountChartResults = function (e, t) {
            return (
              !!(0, c.isConfigValueValid)("account chart results", e, [
                "boolean",
              ]) &&
              ((_.accountChart[0] = e ? "on" : "off"),
              x("accountChart", t),
              p.dispatch("accountChart", _.accountChart),
              !0)
            );
          }),
          (t.setAccountChartAccuracy = function (e, t) {
            return (
              !!(0, c.isConfigValueValid)("account chart accuracy", e, [
                "boolean",
              ]) &&
              ((_.accountChart[1] = e ? "on" : "off"),
              x("accountChart", t),
              p.dispatch("accountChart", _.accountChart),
              !0)
            );
          }),
          (t.setAccountChartAvg10 = function (e, t) {
            return (
              !!(0, c.isConfigValueValid)("account chart avg 10", e, [
                "boolean",
              ]) &&
              ((_.accountChart[2] = e ? "on" : "off"),
              x("accountChart", t),
              p.dispatch("accountChart", _.accountChart),
              !0)
            );
          }),
          (t.setAccountChartAvg100 = function (e, t) {
            return (
              !!(0, c.isConfigValueValid)("account chart avg 100", e, [
                "boolean",
              ]) &&
              ((_.accountChart[3] = e ? "on" : "off"),
              x("accountChart", t),
              p.dispatch("accountChart", _.accountChart),
              !0)
            );
          }),
          (t.setStopOnError = F),
          (t.setAlwaysShowDecimalPlaces = I),
          (t.setTypingSpeedUnit = R),
          (t.setShowOutOfFocusWarning = D),
          (t.setPaceCaret = V),
          (t.setPaceCaretCustomSpeed = q),
          (t.setRepeatedPace = H),
          (t.setMinWpm = K),
          (t.setMinWpmCustomSpeed = N),
          (t.setMinAcc = z),
          (t.setMinAccCustom = U),
          (t.setMinBurst = Q),
          (t.setMinBurstCustomSpeed = G),
          (t.setAlwaysShowWordsHistory = J),
          (t.setSingleListCommandLine = Y),
          (t.setCapsLockWarning = Z),
          (t.setShowAllLines = X),
          (t.setQuickEnd = ee),
          (t.setAds = te),
          (t.setRepeatQuotes = oe),
          (t.setFlipTestColors = ne),
          (t.setColorfulMode = ie),
          (t.setStrictSpace = ae),
          (t.setOppositeShiftMode = re),
          (t.setPageWidth = se),
          (t.setCaretStyle = ue),
          (t.setPaceCaretStyle = le),
          (t.setShowTimerProgress = de),
          (t.setShowLiveWpm = ce),
          (t.setShowLiveAcc = pe),
          (t.setShowLiveBurst = fe),
          (t.setShowAverage = he),
          (t.setHighlightMode = me),
          (t.setTapeMode = ge),
          (t.setHideExtraLetters = ve),
          (t.setTimerStyle = ye),
          (t.setTimerColor = be),
          (t.setTimerOpacity = we),
          (t.setKeyTips = $e),
          (t.setTimeConfig = _e),
          (t.setQuoteLength = Ce),
          (t.setWordCount = Se),
          (t.setSmoothCaret = xe),
          (t.setStartGraphsAtZero = Pe),
          (t.setSmoothLineScroll = ke),
          (t.setQuickRestartMode = Te),
          (t.previewFontFamily = function (e) {
            return (
              !!(0, c.isConfigValueValid)("preview font family", e, [
                "string",
              ]) &&
              (document.documentElement.style.setProperty(
                "--font",
                '"' + e.replace(/_/g, " ") + '", "Roboto Mono", "Vazirmatn"'
              ),
              !0)
            );
          }),
          (t.setFontFamily = Oe),
          (t.setFreedomMode = Me),
          (t.setConfidenceMode = Ae),
          (t.setIndicateTypos = je),
          (t.setAutoSwitchTheme = function (e, t) {
            return (
              !!(0, c.isConfigValueValid)("auto switch theme", e, [
                "boolean",
              ]) &&
              ((e = null != e ? e : f.default.autoSwitchTheme),
              (_.autoSwitchTheme = e),
              x("autoSwitchTheme", t),
              p.dispatch("autoSwitchTheme", _.autoSwitchTheme),
              !0)
            );
          }),
          (t.setCustomTheme = We),
          (t.setTheme = function (e, t) {
            return (
              !!(0, c.isConfigValueValid)("theme", e, ["string"]) &&
              ((_.theme = e),
              !0 === _.customTheme && We(!1),
              x("theme", t),
              p.dispatch("theme", _.theme),
              !0)
            );
          }),
          (t.setThemeLight = Le),
          (t.setThemeDark = Be),
          (t.setRandomTheme = Ee),
          (t.setBritishEnglish = Fe),
          (t.setLazyMode = Ie),
          (t.setCustomThemeColors = function (e, t) {
            return (
              !!(0, c.isConfigValueValid)("custom theme colors", e, [
                "stringArray",
              ]) &&
              (9 === e.length &&
                (d.add(
                  "Missing sub alt color. Please edit it in the custom theme settings and save your changes.",
                  0,
                  {
                    duration: 7,
                  }
                ),
                e.splice(4, 0, "#000000")),
              void 0 !== e && (_.customThemeColors = e),
              x("customThemeColors", t),
              p.dispatch("customThemeColors", _.customThemeColors, t),
              !0)
            );
          }),
          (t.setLanguage = Re),
          (t.setMonkey = De),
          (t.setKeymapMode = Ve),
          (t.setKeymapLegendStyle = qe),
          (t.setKeymapStyle = He),
          (t.setKeymapLayout = Ke),
          (t.setKeymapShowTopRow = Ne),
          (t.setLayout = ze),
          (t.setFontSize = Ue),
          (t.setCustomBackground = Qe),
          (t.setCustomLayoutfluid = Ge),
          (t.setCustomBackgroundSize = Je),
          (t.setCustomBackgroundFilter = Ye),
          (t.setMonkeyPowerLevel = Ze),
          (t.setBurstHeatmap = Xe),
          (t.apply = et),
          (t.reset = tt),
          (t.loadFromLocalStorage = function () {
            console.log("loading localStorage config");
            const e = window.localStorage.getItem("config");
            let o;
            if (null != e && "" !== e) {
              try {
                o = JSON.parse(e);
              } catch (e) {
                o = {};
              }
              et(o), (t.localStorageConfig = o), P(!0);
            } else tt();
            w();
          }),
          (t.getConfigChanges = function () {
            const e = {};
            return (
              Object.keys(_)
                .filter((e) => _[e] !== f.default[e])
                .forEach((t) => {
                  e[t] = _[t];
                }),
              e
            );
          }),
          (t.loadPromise = new Promise((e) => {
            w = e;
          })),
          (t.default = _);
      },
      2191: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.default = {
            theme: "serika_dark",
            themeLight: "serika",
            themeDark: "serika_dark",
            autoSwitchTheme: !1,
            customTheme: !1,
            customThemeColors: [
              "#323437",
              "#e2b714",
              "#e2b714",
              "#646669",
              "#2c2e31",
              "#d1d0c5",
              "#ca4754",
              "#7e2a33",
              "#ca4754",
              "#7e2a33",
            ],
            favThemes: [],
            showKeyTips: !0,
            showLiveWpm: !1,
            showTimerProgress: !0,
            smoothCaret: "medium",
            quickRestart: "off",
            punctuation: !1,
            numbers: !1,
            words: 50,
            time: 30,
            mode: "time",
            quoteLength: [1],
            language: "english",
            fontSize: 1.5,
            freedomMode: !1,
            difficulty: "normal",
            blindMode: !1,
            quickEnd: !1,
            caretStyle: "default",
            paceCaretStyle: "default",
            flipTestColors: !1,
            layout: "default",
            funbox: "none",
            confidenceMode: "off",
            indicateTypos: "off",
            timerStyle: "mini",
            colorfulMode: !1,
            randomTheme: "off",
            timerColor: "main",
            timerOpacity: "1",
            stopOnError: "off",
            showAllLines: !1,
            keymapMode: "off",
            keymapStyle: "staggered",
            keymapLegendStyle: "lowercase",
            keymapLayout: "overrideSync",
            keymapShowTopRow: "layout",
            fontFamily: "Roboto_Mono",
            smoothLineScroll: !1,
            alwaysShowDecimalPlaces: !1,
            alwaysShowWordsHistory: !1,
            singleListCommandLine: "manual",
            capsLockWarning: !0,
            playSoundOnError: "off",
            playSoundOnClick: "off",
            soundVolume: "0.5",
            startGraphsAtZero: !0,
            showOutOfFocusWarning: !0,
            paceCaret: "off",
            paceCaretCustomSpeed: 100,
            repeatedPace: !0,
            pageWidth: "125",
            accountChart: ["on", "on", "on", "on"],
            minWpm: "off",
            minWpmCustomSpeed: 100,
            highlightMode: "letter",
            typingSpeedUnit: "wpm",
            ads: "result",
            hideExtraLetters: !1,
            strictSpace: !1,
            minAcc: "off",
            minAccCustom: 90,
            showLiveAcc: !1,
            showLiveBurst: !1,
            monkey: !1,
            repeatQuotes: "off",
            oppositeShiftMode: "off",
            customBackground: "",
            customBackgroundSize: "cover",
            customBackgroundFilter: [0, 1, 1, 1, 1],
            customLayoutfluid: "qwerty#dvorak#colemak",
            monkeyPowerLevel: "off",
            minBurst: "off",
            minBurstCustomSpeed: 100,
            burstHeatmap: !1,
            britishEnglish: !1,
            lazyMode: !1,
            showAverage: "off",
            tapeMode: "off",
          });
      },
      8361: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.defaultSnap = void 0),
          (t.defaultSnap = {
            results: void 0,
            personalBests: {
              time: {},
              words: {},
              quote: {},
              zen: {},
              custom: {},
            },
            name: "",
            customThemes: [],
            presets: [],
            tags: [],
            favouriteThemes: [],
            banned: void 0,
            verified: void 0,
            emailVerified: void 0,
            lbMemory: {
              time: {
                15: {
                  english: 0,
                },
                60: {
                  english: 0,
                },
              },
            },
            typingStats: {
              timeTyping: 0,
              startedTests: 0,
              completedTests: 0,
            },
            quoteRatings: void 0,
            quoteMod: !1,
            favoriteQuotes: {},
            addedAt: 0,
            filterPresets: [],
            xp: 0,
            inboxUnreadSize: 0,
            streak: 0,
            maxStreak: 0,
            streakHourOffset: void 0,
          });
      },
      9438: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.envConfig = void 0),
          (t.envConfig = {
            backendUrl: "https://api.monkeytype.com",
            isDevelopment: !1,
          });
      },
      3660: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.firebaseConfig = void 0),
          (t.firebaseConfig = {
            apiKey: "AIzaSyB5m_AnO575kvWriahcF1SFIWp8Fj3gQno",
            authDomain: "monkey-type.firebaseapp.com",
            databaseURL: "https://monkey-type.firebaseio.com",
            projectId: "monkey-type",
            storageBucket: "monkey-type.appspot.com",
            messagingSenderId: "789788471140",
            appId: "1:789788471140:web:7e31b15959d68ac0a51471",
            measurementId: "G-PFV65WPEWF",
          });
      },
      6643: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.IgnoredKeys = void 0),
          (t.IgnoredKeys = [
            "MediaTrackNext",
            "MediaTrackPrevious",
            "MediaPlayPause",
            "AudioVolumeUp",
            "AudioVolumeDown",
            "AudioVolumeMute",
          ]);
      },
      73: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.ModifierKeys = void 0),
          (t.ModifierKeys = [
            "Alt",
            "AltGraph",
            "CapsLock",
            "Control",
            "Fn",
            "FnLock",
            "Hyper",
            "Meta",
            "OS",
            "NumLock",
            "ScrollLock",
            "Scroll",
            "Shift",
            "Super",
            "Symbol",
            "SymbolLock",
          ]);
      },
      4674: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.signOut = t.loadUser = t.gmailProvider = void 0);
        const u = s(o(7355)),
          l = a(o(3368)),
          d = a(o(6705)),
          c = d,
          p = a(o(5344)),
          f = a(o(3388)),
          h = a(o(8835)),
          m = a(o(2681)),
          g = a(o(6350)),
          v = a(o(3013)),
          y = a(o(9817)),
          b = a(o(5705)),
          w = a(o(7346)),
          _ = a(o(4335)),
          C = a(o(2588)),
          S = a(o(1329)),
          x = a(o(9343)),
          P = a(o(7058)),
          k = a(o(9608)),
          T = a(o(7520)),
          O = a(o(6001)),
          M = o(513),
          A = o(6617),
          j = o(2100),
          W = o(5513),
          L = a(o(3285)),
          B = o(7193);
        let E,
          F = !1;
        function I() {
          return r(this, void 0, void 0, function* () {
            if (void 0 === A.Auth)
              return void l.add("Authentication uninitialized", -1, {
                duration: 3,
              });
            y.show(), $(".sendVerificationEmail").prop("disabled", !0);
            const e = yield u.default.users.verificationEmail();
            $(".sendVerificationEmail").prop("disabled", !1),
              200 !== e.status
                ? (y.hide(),
                  l.add(
                    "Failed to request verification email: " + e.message,
                    -1
                  ))
                : (y.hide(), l.add("Verification email sent", 1));
          });
        }
        function R(e) {
          return r(this, void 0, void 0, function* () {
            b.set(!1),
              p.loading(!0),
              !1 ===
                (yield (function () {
                  return r(this, void 0, void 0, function* () {
                    try {
                      console.log("getting account data"),
                        "/account" !== window.location.pathname
                          ? _.updateBar(90)
                          : _.updateBar(45),
                        _.updateText("Downloading user data..."),
                        yield _.showBar(),
                        yield g.initSnapshot();
                    } catch (e) {
                      const t = e;
                      p.loading(!1),
                        429 === t.responseCode &&
                          (l.add(
                            "Doing so will save you bandwidth, make the next test be ready faster and will not sign you out (which could mean your new personal best would not save to your account).",
                            0,
                            {
                              duration: 0,
                            }
                          ),
                          l.add(
                            "You will run into this error if you refresh the website to restart the test. It is NOT recommended to do that. Instead, use tab + enter or just tab (with quick tab mode enabled) to restart the test.",
                            0,
                            {
                              duration: 0,
                            }
                          ));
                      const o = t.message || t;
                      return (
                        l.add("Failed to get user data: " + o, -1),
                        $("header nav .account").css("opacity", 1),
                        !1
                      );
                    }
                    "loading" === w.get() ? _.updateBar(100) : _.updateBar(45),
                      _.updateText("Applying settings...");
                    const e = g.getSnapshot();
                    $("nav .textButton.account > .text").text(e.name),
                      (0, W.showFavoriteQuoteLength)(),
                      S.loadTags(e.tags),
                      Promise.all([f.getLanguageList(), f.getFunboxList()])
                        .then((e) => {
                          const [t, o] = e;
                          t.forEach((e) => {
                            S.defaultResultFilters.language[e] = !0;
                          }),
                            o.forEach((e) => {
                              S.defaultResultFilters.funbox[e.name] = !0;
                            }),
                            S.load();
                        })
                        .catch((e) => {
                          console.log(
                            f.createErrorMessage(
                              e,
                              "Something went wrong while loading the filters"
                            )
                          );
                        }),
                      e.needsToChangeName &&
                        l.addBanner(
                          "You need to update your account name. <a class='openNameChange'>Click here</a> to change it and learn more about why.",
                          -1,
                          void 0,
                          !0,
                          void 0,
                          !0
                        );
                    const t =
                      JSON.stringify(d.default) === JSON.stringify(e.config);
                    return (
                      !e.config ||
                        (c.localStorageConfig && t) ||
                        (console.log(
                          "no local config or local and db configs are different - applying db"
                        ),
                        c.apply(e.config),
                        c.saveFullConfigToLocalStorage(!0)),
                      p.loading(!1),
                      x.loadActiveFromLocalStorage(),
                      "/account" === window.location.pathname &&
                        (_.updateBar(90), yield T.downloadResults()),
                      "/login" === window.location.pathname
                        ? (0, B.navigate)("/account")
                        : (0, B.navigate)(),
                      !0
                    );
                  });
                })()) && D();
            const {
              discordId: t,
              discordAvatar: o,
              xp: n,
              inboxUnreadSize: i,
            } = g.getSnapshot();
            if (
              (p.update(n, t, o),
              O.setNotificationBubbleVisible(i > 0),
              C.hidePreloader(),
              $("header .signInOut .icon").html(
                '<i class="fas fa-fw fa-sign-out-alt"></i>'
              ),
              null !== v.notSignedInLastResult && !F)
            ) {
              v.setNotSignedInUid(e.uid);
              const t = yield u.default.results.save(v.notSignedInLastResult);
              if (200 !== t.status)
                return l.add("Failed to save last result: " + t.message, -1);
              v.clearNotSignedInResult(), l.add("Last test result saved", 1);
            }
          });
        }
        function D() {
          void 0 !== A.Auth
            ? A.Auth.currentUser &&
              A.Auth.signOut()
                .then(function () {
                  l.add("Signed out", 0, {
                    duration: 2,
                  }),
                    m.clear(),
                    h.hideAccountSection(),
                    p.update(),
                    (0, B.navigate)("/login"),
                    g.setSnapshot(void 0),
                    C.enableSignUpButton(),
                    C.enableInputs(),
                    $("header .signInOut .icon").html(
                      '<i class="far fa-fw fa-user"></i>'
                    ),
                    setTimeout(() => {
                      (0, W.hideFavoriteQuoteLength)();
                    }, 125);
                })
                .catch(function (e) {
                  l.add(e.message, -1);
                })
            : l.add("Authentication uninitialized", -1, {
                duration: 3,
              });
        }
        (t.gmailProvider = new M.GoogleAuthProvider()),
          (t.loadUser = R),
          A.Auth && L.get()
            ? (E =
                null === A.Auth || void 0 === A.Auth
                  ? void 0
                  : A.Auth.onAuthStateChanged(function (e) {
                      return r(this, void 0, void 0, function* () {
                        const t = window.location.search,
                          o = window.location.hash;
                        console.log(`auth state changed, user ${!!e}`),
                          console.debug(e),
                          e
                            ? ($("header .signInOut .icon").html(
                                '<i class="fas fa-fw fa-sign-out-alt"></i>'
                              ),
                              yield R(e))
                            : ($("header .signInOut .icon").html(
                                '<i class="far fa-fw fa-user"></i>'
                              ),
                              "/account" === window.location.pathname &&
                                window.history.replaceState("", "", "/login"),
                              b.set(!1)),
                          e || (0, B.navigate)(),
                          k.loadCustomThemeFromUrl(t),
                          k.loadTestSettingsFromUrl(t),
                          k.linkDiscord(o),
                          /challenge_.+/g.test(window.location.pathname) &&
                            l.add(
                              "Challenge links temporarily disabled. Please use the command line to load the challenge manually",
                              0,
                              {
                                duration: 7,
                              }
                            );
                      });
                    }))
            : ($("nav .signInOut").addClass("hidden"),
              $("document").ready(() =>
                r(void 0, void 0, void 0, function* () {
                  const e = window.location.search,
                    t = window.location.hash;
                  $("header .signInOut .icon").html(
                    '<i class="far fa-fw fa-user"></i>'
                  ),
                    "/account" === window.location.pathname &&
                      window.history.replaceState("", "", "/login"),
                    b.set(!1),
                    (0, B.navigate)(),
                    k.loadCustomThemeFromUrl(e),
                    k.loadTestSettingsFromUrl(e),
                    k.linkDiscord(t),
                    /challenge_.+/g.test(window.location.pathname) &&
                      l.add(
                        "Challenge links temporarily disabled. Please use the command line to load the challenge manually",
                        0,
                        {
                          duration: 7,
                        }
                      );
                })
              )),
          (t.signOut = D),
          $(".pageLogin .login form").on("submit", (e) => {
            e.preventDefault(),
              (function () {
                r(this, void 0, void 0, function* () {
                  if (void 0 === A.Auth)
                    return void l.add("Authentication uninitialized", -1);
                  if (!L.get())
                    return void l.add("You are offline", 0, {
                      duration: 2,
                    });
                  E(),
                    C.showPreloader(),
                    C.disableInputs(),
                    C.disableSignUpButton();
                  const e = $(".pageLogin .login input")[0].value,
                    t = $(".pageLogin .login input")[1].value;
                  if ("" === e || "" === t)
                    return (
                      l.add("Please fill in all fields", 0),
                      C.hidePreloader(),
                      C.enableInputs(),
                      void C.enableSignUpButton()
                    );
                  const o = $(".pageLogin .login #rememberMe input").prop(
                    "checked"
                  )
                    ? M.browserLocalPersistence
                    : M.browserSessionPersistence;
                  return (
                    yield (0, M.setPersistence)(A.Auth, o),
                    (0, M.signInWithEmailAndPassword)(A.Auth, e, t)
                      .then((e) =>
                        r(this, void 0, void 0, function* () {
                          yield R(e.user);
                        })
                      )
                      .catch(function (e) {
                        let t = e.message;
                        "auth/wrong-password" === e.code
                          ? (t = "Incorrect password")
                          : "auth/user-not-found" === e.code
                          ? (t = "User not found")
                          : "auth/invalid-email" === e.code &&
                            (t =
                              "Invalid email format (make sure you are using your email to login - not your username)"),
                          l.add(t, -1),
                          C.hidePreloader(),
                          C.enableInputs(),
                          C.updateSignupButton();
                      })
                  );
                });
              })();
          }),
          $(".pageLogin .login button.signInWithGoogle").on("click", () => {
            !(function () {
              r(this, void 0, void 0, function* () {
                if (void 0 === A.Auth)
                  return void l.add("Authentication uninitialized", -1, {
                    duration: 3,
                  });
                if (!L.get())
                  return void l.add("You are offline", 0, {
                    duration: 2,
                  });
                C.showPreloader(),
                  C.disableInputs(),
                  C.disableSignUpButton(),
                  E();
                const e = $(".pageLogin .login #rememberMe input").prop(
                  "checked"
                )
                  ? M.browserLocalPersistence
                  : M.browserSessionPersistence;
                yield (0, M.setPersistence)(A.Auth, e),
                  (0, M.signInWithPopup)(A.Auth, t.gmailProvider)
                    .then((e) =>
                      r(this, void 0, void 0, function* () {
                        var t;
                        (
                          null === (t = (0, M.getAdditionalUserInfo)(e)) ||
                          void 0 === t
                            ? void 0
                            : t.isNewUser
                        )
                          ? (0, j.dispatch)(e, !0)
                          : yield R(e.user);
                      })
                    )
                    .catch((e) => {
                      let t = e.message;
                      "auth/wrong-password" === e.code
                        ? (t = "Incorrect password")
                        : "auth/user-not-found" === e.code
                        ? (t = "User not found")
                        : "auth/invalid-email" === e.code
                        ? (t =
                            "Invalid email format (make sure you are using your email to login - not your username)")
                        : "auth/popup-closed-by-user" === e.code &&
                          (t = "Popup closed by user"),
                        l.add(t, -1),
                        C.hidePreloader(),
                        C.enableInputs(),
                        C.updateSignupButton();
                    });
              });
            })();
          }),
          $("header .signInOut").on("click", () => {
            void 0 !== A.Auth
              ? A.Auth.currentUser
                ? (D(), (F = !0))
                : (0, B.navigate)("/login")
              : l.add("Authentication uninitialized", -1, {
                  duration: 3,
                });
          }),
          $(".pageLogin .register form").on("submit", (e) => {
            e.preventDefault(),
              (function () {
                r(this, void 0, void 0, function* () {
                  if (void 0 === A.Auth)
                    return void l.add("Authentication uninitialized", -1, {
                      duration: 3,
                    });
                  if (!L.get())
                    return void l.add("You are offline", 0, {
                      duration: 2,
                    });
                  P.show();
                  const e = yield P.promise;
                  if (!e) return void l.add("Please complete the captcha", -1);
                  C.disableInputs(), C.disableSignUpButton(), C.showPreloader();
                  const t = $(".pageLogin .register input")[0].value,
                    o = $(".pageLogin .register input")[1].value,
                    n = $(".pageLogin .register input")[2].value,
                    i = $(".pageLogin .register input")[3].value,
                    a = $(".pageLogin .register input")[4].value;
                  if ("" === t || "" === o || "" === n || "" === i)
                    return (
                      C.hidePreloader(),
                      C.enableInputs(),
                      C.updateSignupButton(),
                      void l.add("Please fill in all fields", 0)
                    );
                  if (
                    !o.match(
                      /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
                    )
                  )
                    return (
                      l.add("Invalid email", 0),
                      C.hidePreloader(),
                      C.enableInputs(),
                      void C.updateSignupButton()
                    );
                  if (o !== n)
                    return (
                      l.add("Emails do not match", 0),
                      C.hidePreloader(),
                      C.enableInputs(),
                      void C.updateSignupButton()
                    );
                  if (i !== a)
                    return (
                      l.add("Passwords do not match", 0),
                      C.hidePreloader(),
                      C.enableInputs(),
                      void C.updateSignupButton()
                    );
                  if (!f.isDevEnvironment() && !f.isPasswordStrong(i))
                    return (
                      l.add(
                        "Password must contain at least one capital letter, number, a special character and must be between 8 and 64 characters long",
                        0,
                        {
                          duration: 4,
                        }
                      ),
                      C.hidePreloader(),
                      C.enableInputs(),
                      void C.updateSignupButton()
                    );
                  let r;
                  E();
                  try {
                    r = yield (0, M.createUserWithEmailAndPassword)(
                      A.Auth,
                      o,
                      i
                    );
                    const n = yield u.default.users.create(t, e, o, r.user.uid);
                    if (200 !== n.status) throw n;
                    if (
                      (yield (0, M.updateProfile)(r.user, {
                        displayName: t,
                      }),
                      yield I(),
                      m.clear(),
                      $("nav .textButton.account .text").text(t),
                      C.hidePreloader(),
                      yield R(r.user),
                      null !== v.notSignedInLastResult &&
                        (v.setNotSignedInUid(r.user.uid),
                        200 ===
                          (yield u.default.results.save(
                            v.notSignedInLastResult
                          )).status))
                    ) {
                      const e = v.notSignedInLastResult;
                      g.saveLocalResult(e),
                        g.updateLocalStats(
                          1,
                          e.testDuration +
                            e.incompleteTestSeconds -
                            e.afkDuration
                        );
                    }
                    l.add("Account created", 1);
                  } catch (e) {
                    if (r) {
                      try {
                        yield u.default.users.delete();
                      } catch (e) {}
                      try {
                        yield r.user.delete();
                      } catch (e) {}
                    }
                    console.log(e);
                    const t = f.createErrorMessage(
                      e,
                      "Failed to create account"
                    );
                    return (
                      l.add(t, -1),
                      C.hidePreloader(),
                      C.enableInputs(),
                      C.updateSignupButton(),
                      void D()
                    );
                  }
                });
              })();
          }),
          $(".pageSettings #addGoogleAuth").on("click", () =>
            r(void 0, void 0, void 0, function* () {
              L.get()
                ? (function () {
                    r(this, void 0, void 0, function* () {
                      void 0 !== A.Auth
                        ? (y.show(),
                          null !== A.Auth.currentUser &&
                            (0, M.linkWithPopup)(
                              A.Auth.currentUser,
                              t.gmailProvider
                            )
                              .then(function () {
                                y.hide(),
                                  l.add("Google authentication added", 1),
                                  h.updateAuthSections();
                              })
                              .catch(function (e) {
                                y.hide(),
                                  l.add(
                                    "Failed to add Google authentication: " +
                                      e.message,
                                    -1
                                  );
                              }))
                        : l.add("Authentication uninitialized", -1, {
                            duration: 3,
                          });
                    });
                  })()
                : l.add("You are offline", 0, {
                    duration: 2,
                  });
            })
          ),
          $(".pageAccount").on("click", ".sendVerificationEmail", () => {
            L.get()
              ? I()
              : l.add("You are offline", 0, {
                  duration: 2,
                });
          });
      },
      1493: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.destroyResult =
            t.showConsentPopup =
            t.updateFooterAndVerticalAds =
            t.renderResult =
            t.reinstate =
            t.checkCookieblocker =
            t.checkAdblock =
            t.cookieBlocker =
            t.adBlock =
              void 0);
        const u = o(2189),
          l = a(o(3388)),
          d = a(o(1446)),
          c = a(o(6389)),
          p = s(o(6705)),
          f = a(o(1322)),
          h = (a(o(4213)), a(o(6408)));
        let m = !0,
          g = !0,
          v = !1;
        function y() {
          h.init(),
            setInterval(() => {
              f.isActive || h.refreshVisible();
            }, 6e4),
            (v = !0);
        }
        function b() {
          $("#ad-footer-wrapper").remove(),
            $("#ad-footer-small-wrapper").remove(),
            $("#ad-about-1-wrapper").remove(),
            $("#ad-about-1-small-wrapper").remove(),
            $("#ad-about-2-wrapper").remove(),
            $("#ad-about-2-small-wrapper").remove(),
            $("#ad-settings-1-wrapper").remove(),
            $("#ad-settings-1-small-wrapper").remove(),
            $("#ad-settings-2-wrapper").remove(),
            $("#ad-settings-2-small-wrapper").remove(),
            $("#ad-settings-3-wrapper").remove(),
            $("#ad-settings-3-small-wrapper").remove(),
            $("#ad-account-1-wrapper").remove(),
            $("#ad-account-1-small-wrapper").remove(),
            $("#ad-account-2-wrapper").remove(),
            $("#ad-account-2-small-wrapper").remove();
        }
        function w() {
          $("#ad-vertical-right-wrapper").remove(),
            $("#ad-vertical-left-wrapper").remove();
        }
        function _() {
          const e =
            $("#bannerCenter").height() + l.convertRemToPixels(2) + "px";
          $("#ad-vertical-left-wrapper").css("margin-top", e),
            $("#ad-vertical-right-wrapper").css("margin-top", e);
        }
        function C(e = !1) {
          const t = m;
          (m = window.innerWidth > 900),
            e || ("off" !== p.default.ads && v && t !== m && h.reinstate());
        }
        function S(e = !1) {
          const t = g;
          (g = window.innerWidth > 1330),
            e || ("off" !== p.default.ads && v && t !== g && h.reinstate());
        }
        function x() {
          return r(this, void 0, void 0, function* () {
            return new Promise((e) => {
              void 0 === window.ramp && (t.adBlock = !0), e();
            });
          });
        }
        function P() {
          return r(this, void 0, void 0, function* () {
            return new Promise((e) => {
              if (void 0 === t.cookieBlocker)
                return (t.cookieBlocker = !1), void e();
              e();
            });
          });
        }
        (t.checkAdblock = x),
          (t.checkCookieblocker = P),
          (t.reinstate = function () {
            return r(this, void 0, void 0, function* () {
              return (
                "off" !== p.default.ads &&
                (v
                  ? (yield x(),
                    yield P(),
                    !t.adBlock && !t.cookieBlocker && h.reinstate())
                  : (y(), !0))
              );
            });
          }),
          (t.renderResult = function () {
            return r(this, void 0, void 0, function* () {
              "off" !== p.default.ads &&
                (v || y(),
                yield x(),
                yield P(),
                t.adBlock
                  ? $("#ad-result-wrapper .iconAndText .text").html(
                      '\n    Using an ad blocker? No worries\n    <div class="smalltext">\n      We understand ads can be annoying\n      <br />\n      You can\n      <i>disable all ads</i>\n      in the settings\n    </div>\n    '
                    )
                  : t.cookieBlocker
                  ? $("#ad-result-wrapper .iconAndText .text").html(
                      '\n    Ads not working? Ooops\n    <div class="smalltext">\n      You may have a cookie popup blocker enabled - ads will not show without your consent\n      <br />\n      You can also \n      <i>disable all ads</i>\n      in the settings if you wish\n    </div>\n    '
                    )
                  : h.renderResult());
            });
          }),
          (t.updateFooterAndVerticalAds = function (e) {
            e
              ? ($("#ad-vertical-left-wrapper").removeClass("testPage"),
                $("#ad-vertical-right-wrapper").removeClass("testPage"),
                $("#ad-footer-wrapper").removeClass("testPage"),
                $("#ad-footer-small-wrapper").removeClass("testPage"))
              : ($("#ad-vertical-left-wrapper").addClass("testPage"),
                $("#ad-vertical-right-wrapper").addClass("testPage"),
                $("#ad-footer-wrapper").addClass("testPage"),
                $("#ad-footer-small-wrapper").addClass("testPage"));
          }),
          (t.showConsentPopup = function () {
            ramp.showCmpModal();
          }),
          (t.destroyResult = function () {
            h.destroyAll();
          });
        const k = (0, u.debounce)(500, _),
          T = (0, u.debounce)(500, C),
          O = (0, u.debounce)(500, S);
        $(window).on("resize", () => {
          k(), T(), O();
        }),
          d.subscribe((e, t) => {
            "ads" === e &&
              ("off" === t
                ? (b(),
                  w(),
                  $("#ad-result-wrapper").remove(),
                  $("#ad-result-small-wrapper").remove())
                : "result" === t
                ? (b(), w())
                : "on" === t && b());
          }),
          c.subscribe(() => {
            _();
          }),
          $(document).ready(() => {
            C(!0), S();
          }),
          (window.onerror = function (e) {});
      },
      3326: function (e, t, o) {
        var n =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (i, a) {
              function r(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  a(e);
                }
              }
              function s(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  a(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(r, s);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.activateAnalytics = t.log = void 0);
        const i = o(9709),
          a = o(6617),
          r = o(3388);
        let s;
        t.log = function (e, t) {
          return n(this, void 0, void 0, function* () {
            try {
              (0, i.logEvent)(s, e, t);
            } catch (e) {
              console.log("Analytics unavailable");
            }
          });
        };
        const u = localStorage.getItem("acceptedCookies");
        let l;
        function d() {
          try {
            (s = (0, i.getAnalytics)(a.app)),
              (0, i.setAnalyticsCollectionEnabled)(s, !0),
              $("body").append(
                '\n    <script\n    async\n    src="https://www.googletagmanager.com/gtag/js?id=UA-165993088-1"\n  ></script>\n  <script>\n    window.dataLayer = window.dataLayer || [];\n    function gtag() {\n      dataLayer.push(arguments);\n    }\n    gtag("js", new Date());\n\n    gtag("config", "UA-165993088-1");\n  </script>'
              );
          } catch (e) {
            console.error(
              (0, r.createErrorMessage)(e, "Failed to activate analytics")
            );
          }
        }
        (l = u ? JSON.parse(u) : null),
          null !== l && !0 === l.analytics && d(),
          (t.activateAnalytics = d);
      },
      7401: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.getById = t.getHTMLById = void 0);
        const o = {
          1: {
            id: 1,
            name: "Developer",
            description: "I made this",
            icon: "fa-laptop",
            color: "white",
            customStyle: "animation: rgb-bg 10s linear infinite;",
          },
          2: {
            id: 2,
            name: "Collaborator",
            description: "I helped make this",
            icon: "fa-code",
            color: "white",
            customStyle: "animation: rgb-bg 10s linear infinite;",
          },
          3: {
            id: 3,
            name: "Server Mod",
            description: "Discord server moderator",
            icon: "fa-hammer",
            color: "white",
            customStyle: "animation: rgb-bg 10s linear infinite;",
          },
          4: {
            id: 4,
            name: "OG Account",
            description: "First 1000 users on the site",
            icon: "fa-baby",
            color: "var(--bg-color)",
            background: "var(--main-color)",
          },
          5: {
            id: 5,
            name: "OG Discordian",
            description: "First 1000 Discord server members",
            icon: "fa-baby",
            color: "var(--bg-color)",
            background: "var(--main-color)",
          },
          6: {
            id: 6,
            name: "Supporter",
            description: "Donated money",
            icon: "fa-heart",
            color: "var(--text-color)",
            background: "var(--sub-color)",
          },
          7: {
            id: 7,
            name: "Sugar Daddy",
            description: "Donated a lot of money",
            icon: "fa-gem",
            color: "var(--bg-color)",
            background: "var(--main-color)",
          },
          8: {
            id: 8,
            name: "Monkey Supporter",
            description: "Donated more money",
            icon: "fa-heart",
            color: "var(--bg-color)",
            background: "var(--main-color)",
          },
          9: {
            id: 9,
            name: "White Hat",
            description: "Reported critical vulnerabilities on the site",
            icon: "fa-user-secret",
            color: "var(--bg-color)",
            background: "var(--main-color)",
          },
          10: {
            id: 10,
            name: "Bug Hunter",
            description: "Reported bugs on the site",
            icon: "fa-bug",
            color: "var(--text-color)",
            background: "var(--sub-color)",
          },
          11: {
            id: 11,
            name: "Content Creator",
            description: "Verified content creator",
            icon: "fa-video",
            color: "var(--text-color)",
            background: "var(--sub-color)",
          },
          12: {
            id: 12,
            name: "Contributor",
            description: "Contributed to the site",
            icon: "fa-hands-helping",
            color: "var(--text-color)",
            background: "var(--sub-color)",
          },
          13: {
            id: 13,
            name: "Mythical",
            description: "Yes, I'm actually this fast",
            icon: "fa-rocket",
            color: "white",
            customStyle: "animation: rgb-bg 10s linear infinite;",
          },
          14: {
            id: 14,
            name: "All Year Long",
            description: "Reached a streak of 365 days",
            icon: "fa-fire",
            color: "var(--bg-color)",
            background: "var(--main-color)",
          },
        };
        (t.getHTMLById = function (e, t = !1, n = !1, i = !1) {
          var a, r;
          const s = o[e];
          if (!s && !i) return "";
          let u = "";
          (null == s ? void 0 : s.background) &&
            (u += `background: ${s.background};`),
            (null == s ? void 0 : s.color) && (u += `color: ${s.color};`),
            (null == s ? void 0 : s.customStyle) && (u += s.customStyle);
          const l =
              null !== (a = null == s ? void 0 : s.name) && void 0 !== a
                ? a
                : "Badge Name Missing",
            d =
              null !== (r = null == s ? void 0 : s.description) && void 0 !== r
                ? r
                : "Badge Description Missing";
          let c = "";
          n ||
            (c = `aria-label="${
              (t ? l + ": " : "") + d
            }" data-balloon-pos="right"`);
          let p = "";
          return (
            (p = (null == s ? void 0 : s.icon)
              ? `<i class="fas ${t ? "fa-fw" : ""} ${s.icon}"></i>`
              : '<i class="fas fa-question"></i>'),
            `<div class="badge" ${c} style="${u}">${p}${
              t ? "" : `<div class="text">${l}</div>`
            }</div>`
          );
        }),
          (t.getById = function (e) {
            return o[e];
          });
      },
      6953: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.getResponse = t.reset = t.render = void 0);
        const o = {};
        (t.render = function (e, t, n) {
          if (void 0 !== o[t] && null !== o[t]) return;
          const i = grecaptcha.render(e, {
            sitekey: "6Lc-V8McAAAAAJ7s6LGNe7MBZnRiwbsbiWts87aj",
            callback: n,
          });
          o[t] = i;
        }),
          (t.reset = function (e) {
            void 0 !== o[e] && null !== o[e] && grecaptcha.reset(o[e]);
          }),
          (t.getResponse = function (e) {
            return void 0 === o[e] || null === o[e]
              ? ""
              : grecaptcha.getResponse(o[e]);
          });
      },
      7567: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.setup = t.verify = t.clearActive = void 0);
        const s = a(o(3388)),
          u = a(o(3368)),
          l = a(o(2203)),
          d = a(o(8248)),
          c = a(o(2591)),
          p = a(o(6705)),
          f = p,
          h = a(o(8673)),
          m = a(o(1446)),
          g = a(o(1322)),
          v = a(o(9817));
        let y = !1;
        function b() {
          !g.activeChallenge ||
            y ||
            h.testRestarting ||
            (u.add("Challenge cleared", 0), g.setActiveChallenge(null));
        }
        (t.clearActive = b),
          (t.verify = function (e) {
            var t, o, n;
            try {
              if (g.activeChallenge) {
                const i = (e.afkDuration / e.testDuration) * 100;
                if (i > 10)
                  return (
                    u.add("Challenge failed: AFK time is greater than 10%", 0),
                    null
                  );
                if (g.activeChallenge.requirements) {
                  let a = !0;
                  const r = [];
                  for (const s in g.activeChallenge.requirements) {
                    if (!1 === a) return null;
                    const u = g.activeChallenge.requirements[s];
                    if (void 0 === u)
                      throw new Error("Requirement value is undefined");
                    if ("wpm" === s) {
                      const t = Object.keys(u)[0];
                      "exact" === t
                        ? Math.round(e.wpm) !== u.exact &&
                          ((a = !1), r.push(`WPM not ${u.exact}`))
                        : "min" === t &&
                          e.wpm < Number(u.min) &&
                          ((a = !1), r.push(`WPM below ${u.min}`));
                    } else if ("acc" === s) {
                      const t = Object.keys(u)[0];
                      "exact" === t
                        ? e.acc !== u.exact &&
                          ((a = !1), r.push(`Accuracy not ${u.exact}`))
                        : "min" === t &&
                          e.acc < Number(u.min) &&
                          ((a = !1), r.push(`Accuracy below ${u.min}`));
                    } else if ("afk" === s)
                      "max" === Object.keys(u)[0] &&
                        Math.round(i) > Number(u.max) &&
                        ((a = !1), r.push(`AFK percentage above ${u.max}`));
                    else if ("time" === s)
                      "min" === Object.keys(u)[0] &&
                        Math.round(e.testDuration) < Number(u.min) &&
                        ((a = !1), r.push(`Test time below ${u.min}`));
                    else if ("funbox" === s) {
                      const i =
                        null === (t = u.exact) || void 0 === t
                          ? void 0
                          : t.toString().split("#").sort().join("#");
                      if (void 0 === i)
                        throw new Error("Funbox mode is undefined");
                      if (i !== e.funbox) {
                        a = !1;
                        for (const t of i.split("#"))
                          void 0 ===
                            (null === (o = e.funbox) || void 0 === o
                              ? void 0
                              : o.split("#").find((e) => e === t)) &&
                            r.push(`${t} funbox not active`);
                        if (
                          null === (n = e.funbox) || void 0 === n
                            ? void 0
                            : n.split("#")
                        )
                          for (const t of e.funbox.split("#"))
                            void 0 === i.split("#").find((e) => e === t) &&
                              r.push(`${t} funbox active`);
                      }
                    } else if ("raw" === s)
                      "exact" === Object.keys(u)[0] &&
                        Math.round(e.rawWpm) !== u.exact &&
                        ((a = !1), r.push(`Raw WPM not ${u.exact}`));
                    else if ("con" === s)
                      "exact" === Object.keys(u)[0] &&
                        Math.round(e.consistency) !== u.exact &&
                        ((a = !1), r.push(`Consistency not ${u.exact}`));
                    else if ("config" === s)
                      for (const e in u) {
                        const t = u[e];
                        p.default[e] !== t &&
                          ((a = !1), r.push(`${e} not set to ${t}`));
                      }
                  }
                  return a
                    ? (g.activeChallenge.autoRole &&
                        u.add(
                          "You will receive a role shortly. Please don't post a screenshot in challenge submissions.",
                          1,
                          {
                            duration: 5,
                          }
                        ),
                      u.add(
                        `${g.activeChallenge.display} challenge passed!`,
                        1
                      ),
                      g.activeChallenge.name)
                    : (u.add(
                        `${
                          g.activeChallenge.display
                        } challenge failed: ${r.join(", ")}`,
                        0
                      ),
                      null);
                }
                return (
                  u.add(`${g.activeChallenge.display} challenge passed!`, 1),
                  g.activeChallenge.name
                );
              }
              return null;
            } catch (e) {
              return (
                console.error(e),
                u.add(
                  `Something went wrong when verifying challenge: ${e.message}`,
                  0
                ),
                null
              );
            }
          }),
          (t.setup = function (e) {
            return r(this, void 0, void 0, function* () {
              let t;
              (y = !0), f.setFunbox("none");
              try {
                t = yield s.getChallengeList();
              } catch (e) {
                const t = s.createErrorMessage(e, "Failed to setup challenge");
                return (
                  u.add(t, -1),
                  l.set(),
                  setTimeout(() => {
                    $("header .config").removeClass("hidden"),
                      $(".page.pageTest").removeClass("hidden");
                  }, 250),
                  !1
                );
              }
              const o = t.filter((t) => t.name === e)[0];
              let n;
              try {
                if (void 0 === o)
                  return (
                    u.add("Challenge not found", 0),
                    l.set(),
                    setTimeout(() => {
                      $("header .config").removeClass("hidden"),
                        $(".page.pageTest").removeClass("hidden");
                    }, 250),
                    !1
                  );
                if ("customTime" === o.type)
                  f.setTimeConfig(o.parameters[0], !0),
                    f.setMode("time", !0),
                    f.setDifficulty("normal", !0),
                    "englishMaster" === o.name &&
                      (f.setLanguage("english_10k", !0),
                      f.setNumbers(!0, !0),
                      f.setPunctuation(!0, !0));
                else if ("customWords" === o.type)
                  f.setWordCount(o.parameters[0], !0),
                    f.setMode("words", !0),
                    f.setDifficulty("normal", !0);
                else if ("customText" === o.type)
                  d.setDelimiter(" "),
                    d.setPopupTextareaState(o.parameters[0]),
                    d.setText(o.parameters[0].split(" ")),
                    d.setIsTimeRandom(!1),
                    d.setIsSectionRandom(!1),
                    d.setIsWordRandom(o.parameters[1]),
                    d.setWord(o.parameters[2]),
                    d.setTime(-1),
                    f.setMode("custom", !0),
                    f.setDifficulty("normal", !0);
                else if ("script" === o.type) {
                  v.show();
                  const e = yield fetch("/challenges/" + o.parameters[0]);
                  if ((v.hide(), 200 !== e.status))
                    throw new Error(`${e.status} ${e.statusText}`);
                  let t = (yield e.text()).trim();
                  (t = t.replace(/[\n\r\t ]/gm, " ")),
                    (t = t.replace(/ +/gm, " ")),
                    d.setDelimiter(" "),
                    d.setPopupTextareaState(t),
                    d.setText(t.split(" ")),
                    d.setIsWordRandom(!1),
                    d.setIsSectionRandom(!1),
                    d.setIsTimeRandom(!1),
                    d.setTime(-1),
                    d.setWord(-1),
                    f.setMode("custom", !0),
                    f.setDifficulty("normal", !0),
                    null !== o.parameters[1] && f.setTheme(o.parameters[1]),
                    null !== o.parameters[2] && c.activate(o.parameters[2]);
                } else
                  "accuracy" === o.type
                    ? (f.setTimeConfig(0, !0),
                      f.setMode("time", !0),
                      f.setDifficulty("master", !0))
                    : "funbox" === o.type
                    ? (f.setFunbox(o.parameters[0], !0),
                      f.setDifficulty("normal", !0),
                      "words" === o.parameters[1]
                        ? f.setWordCount(o.parameters[2], !0)
                        : "time" === o.parameters[1] &&
                          f.setTimeConfig(o.parameters[2], !0),
                      f.setMode(o.parameters[1], !0),
                      void 0 !== o.parameters[3] &&
                        f.setDifficulty(o.parameters[3], !0))
                    : "special" === o.type &&
                      "semimak" === o.name &&
                      (f.setMode("time", !0),
                      f.setTimeConfig(120, !0),
                      f.setLanguage("english_10k", !0),
                      f.setPunctuation(!0, !0),
                      f.setStopOnError("word", !0),
                      f.setLayout("semimak", !0),
                      f.setKeymapLayout("overrideSync", !0),
                      f.setKeymapMode("static", !0));
                return (
                  l.set(),
                  (n = o.message),
                  $("header .config").removeClass("hidden"),
                  $(".page.pageTest").removeClass("hidden"),
                  void 0 === n
                    ? u.add(`Challenge '${o.display}' loaded.`, 0)
                    : u.add("Challenge loaded. " + n, 0),
                  g.setActiveChallenge(o),
                  (y = !1),
                  !0
                );
              } catch (e) {
                return (
                  u.add(
                    s.createErrorMessage(e, "Failed to load challenge"),
                    -1
                  ),
                  !1
                );
              }
            });
          }),
          m.subscribe((e) => {
            [
              "difficulty",
              "numbers",
              "punctuation",
              "mode",
              "funbox",
              "paceCaret",
              "showAllLines",
              "showLiveWpm",
              "highlightMode",
              "time",
              "words",
              "keymapMode",
              "keymapLayout",
              "layout",
            ].includes(e) && b();
          });
      },
      1833: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.updateAllChartColors =
            t.updateAccountChartButtons =
            t.miniResult =
            t.globalSpeedHistogram =
            t.accountHistogram =
            t.accountActivity =
            t.accountHistory =
            t.accountHistoryActiveIndex =
            t.result =
              void 0);
        const u = a(o(1294)),
          l = o(3328),
          d = s(o(2341)),
          c = s(o(6679)),
          p = a(o(7346));
        l.Chart.register(
          l.BarController,
          l.BarElement,
          l.CategoryScale,
          l.Filler,
          l.LinearScale,
          l.LineController,
          l.LineElement,
          l.PointElement,
          l.ScatterController,
          l.TimeScale,
          l.TimeSeriesScale,
          l.Tooltip,
          c.default,
          d.default
        ),
          (l.Chart.defaults.animation.duration = 0),
          (l.Chart.defaults.elements.line.tension = 0.3),
          (l.Chart.defaults.elements.line.fill = "origin"),
          o(6980);
        const f = s(o(9546)),
          h = s(o(6705)),
          m = a(o(4203)),
          g = a(o(1446)),
          v = a(o(4897)),
          y = a(o(3388));
        class b extends l.Chart {
          constructor(e, t) {
            super(e, t);
          }
          updateColors() {
            !(function (e) {
              var t, o;
              r(this, void 0, void 0, function* () {
                const n = yield m.get("bg"),
                  i = yield m.get("sub"),
                  a = yield m.get("subAlt"),
                  r = yield m.get("main"),
                  s = yield m.get("error"),
                  u = yield m.get("text"),
                  l = y.blendTwoHexColors(n, a, 0.75);
                (e.data.datasets[0].borderColor = (e) => {
                  var t;
                  return (
                    null === (t = e.raw) || void 0 === t ? void 0 : t.isPb
                  )
                    ? u
                    : r;
                }),
                  e.data.datasets[1] && (e.data.datasets[1].borderColor = i),
                  e.data.datasets[2] && (e.data.datasets[2].borderColor = s);
                const d = e.data.datasets[0];
                void 0 ===
                (null ===
                  (o =
                    null === (t = null == e ? void 0 : e.data) || void 0 === t
                      ? void 0
                      : t.datasets[0]) || void 0 === o
                  ? void 0
                  : o.type)
                  ? "line" === e.config.type
                    ? (d.pointBackgroundColor = (e) => {
                        var t;
                        return (
                          null === (t = e.raw) || void 0 === t ? void 0 : t.isPb
                        )
                          ? u
                          : r;
                      })
                    : "bar" === e.config.type && (d.backgroundColor = r)
                  : "bar" === e.data.datasets[0].type
                  ? (e.data.datasets[0].backgroundColor = r)
                  : "line" === e.data.datasets[0].type &&
                    (d.pointBackgroundColor = r);
                const c = e.data.datasets[1];
                c &&
                  (void 0 === c.type
                    ? "line" === e.config.type
                      ? (c.pointBackgroundColor = i)
                      : "bar" === e.config.type && (c.backgroundColor = i)
                    : "bar" === (null == c ? void 0 : c.type)
                    ? (c.backgroundColor = i)
                    : "line" === c.type && (c.pointBackgroundColor = i)),
                  2 === e.data.datasets.length && (c.borderColor = () => i);
                const p = e.data.datasets[2];
                if (7 === e.data.datasets.length) {
                  p.borderColor = () => i;
                  const t = "on" === h.default.accountChart[2],
                    o = "on" === h.default.accountChart[3],
                    a = y.blendTwoHexColors(n, u, 0.2),
                    s = y.blendTwoHexColors(n, r, 0.2),
                    l = y.blendTwoHexColors(n, r, 0.4),
                    d = y.blendTwoHexColors(n, i, 0.2),
                    c = y.blendTwoHexColors(n, i, 0.4),
                    [f, m, g, v, b, w, $] = e.data.datasets;
                  if (
                    void 0 === f ||
                    void 0 === m ||
                    void 0 === g ||
                    void 0 === v ||
                    void 0 === b ||
                    void 0 === w ||
                    void 0 === $
                  )
                    return;
                  t && o
                    ? ((f.pointBackgroundColor = s),
                      (m.borderColor = a),
                      (g.pointBackgroundColor = d),
                      (v.borderColor = l),
                      (b.borderColor = c),
                      (w.borderColor = r),
                      ($.borderColor = i))
                    : (t && !o) || (!t && o)
                    ? ((m.borderColor = a),
                      (f.pointBackgroundColor = l),
                      (g.pointBackgroundColor = c),
                      (v.borderColor = r),
                      (w.borderColor = r),
                      (b.borderColor = i),
                      ($.borderColor = i))
                    : ((m.borderColor = a),
                      (f.pointBackgroundColor = r),
                      (g.pointBackgroundColor = i));
                }
                const f = e.options;
                Object.keys(f.scales).forEach((e) => {
                  const t = f.scales[e];
                  (t.ticks.color = i),
                    (t.title.color = i),
                    (t.grid.color = l),
                    (t.grid.tickColor = l),
                    (t.grid.borderColor = l);
                });
                try {
                  d.trendlineLinear.style = i;
                } catch (e) {}
                e.options.plugins.annotation.annotations.forEach((e) => {
                  "funbox-label" !== e.id && (e.borderColor = i),
                    (e.label.backgroundColor = i),
                    (e.label.color = n);
                }),
                  e.update("none");
              });
            })(this);
          }
          getDataset(e) {
            var t;
            return null === (t = this.data.datasets) || void 0 === t
              ? void 0
              : t.find((t) => t.yAxisID === e);
          }
          getScale(e) {
            return this.options.scales[e];
          }
        }
        let w;
        function _(e, t) {
          e
            ? $(`.pageAccount ${t}`).addClass("active")
            : $(`.pageAccount ${t}`).removeClass("active");
        }
        function C(e = !0) {
          const o = "on" === h.default.accountChart[0];
          _(o, ".toggleResultsOnChart"),
            (t.accountHistory.getDataset("wpm").hidden = !o),
            (t.accountHistory.getDataset("pb").hidden = !o),
            (t.accountHistory.getDataset("wpmAvgTen").hidden = !o),
            (t.accountHistory.getDataset("wpmAvgHundred").hidden = !o),
            (t.accountHistory.getScale("wpm").display = o),
            e && t.accountHistory.updateColors();
        }
        function S(e = !0) {
          const o = "on" === h.default.accountChart[0],
            n = "on" === h.default.accountChart[1];
          if (
            (_(n, ".toggleAccuracyOnChart"),
            (t.accountHistory.getDataset("acc").hidden = !n),
            (t.accountHistory.getDataset("accAvgTen").hidden = !n),
            (t.accountHistory.getDataset("accAvgHundred").hidden = !n),
            (t.accountHistory.getScale("acc").display = n),
            o)
          )
            (t.accountHistory.getScale("acc").min = 0),
              (t.accountHistory.getScale("accAvgTen").min = 0),
              (t.accountHistory.getScale("accAvgHundred").min = 0);
          else {
            const e =
              10 *
              Math.floor(
                Math.min(
                  ...t.accountHistory.getDataset("acc").data.map((e) => e.y)
                ) / 10
              );
            (t.accountHistory.getScale("acc").min = e),
              (t.accountHistory.getScale("accAvgTen").min = e),
              (t.accountHistory.getScale("accAvgHundred").min = e);
          }
          e && t.accountHistory.updateColors();
        }
        function x(e = !0) {
          const o = "on" === h.default.accountChart[0],
            n = "on" === h.default.accountChart[1],
            i = "on" === h.default.accountChart[2];
          _(i, ".toggleAverage10OnChart"),
            n && (t.accountHistory.getDataset("accAvgTen").hidden = !i),
            o && (t.accountHistory.getDataset("wpmAvgTen").hidden = !i),
            e && t.accountHistory.updateColors();
        }
        function P(e = !0) {
          const o = "on" === h.default.accountChart[0],
            n = "on" === h.default.accountChart[1],
            i = "on" === h.default.accountChart[3];
          _(i, ".toggleAverage100OnChart"),
            n && (t.accountHistory.getDataset("accAvgHundred").hidden = !i),
            o && (t.accountHistory.getDataset("wpmAvgHundred").hidden = !i),
            e && t.accountHistory.updateColors();
        }
        (t.result = new b(document.querySelector("#wpmChart"), {
          type: "line",
          data: {
            labels: [],
            datasets: [
              {
                clip: !1,
                label: "wpm",
                data: [],
                borderColor: "rgba(125, 125, 125, 1)",
                borderWidth: 3,
                yAxisID: "wpm",
                order: 2,
                pointRadius: 1,
              },
              {
                clip: !1,
                label: "raw",
                data: [],
                borderColor: "rgba(125, 125, 125, 1)",
                borderWidth: 3,
                yAxisID: "raw",
                order: 3,
                pointRadius: 1,
              },
              {
                clip: !1,
                label: "errors",
                data: [],
                borderColor: "rgba(255, 125, 125, 1)",
                pointBackgroundColor: "rgba(255, 125, 125, 1)",
                borderWidth: 2,
                order: 1,
                yAxisID: "error",
                type: "scatter",
                pointStyle: "crossRot",
                pointRadius: function (e) {
                  const t = e.dataIndex,
                    o = e.dataset.data[t];
                  return (null != o ? o : 0) <= 0 ? 0 : 3;
                },
                pointHoverRadius: function (e) {
                  const t = e.dataIndex,
                    o = e.dataset.data[t];
                  return (null != o ? o : 0) <= 0 ? 0 : 5;
                },
              },
            ],
          },
          options: {
            responsive: !0,
            maintainAspectRatio: !1,
            scales: {
              x: {
                axis: "x",
                ticks: {
                  autoSkip: !0,
                  autoSkipPadding: 20,
                },
                display: !0,
                title: {
                  display: !1,
                  text: "Seconds",
                },
              },
              wpm: {
                axis: "y",
                display: !0,
                title: {
                  display: !0,
                  text: "Words per Minute",
                },
                beginAtZero: !0,
                min: 0,
                ticks: {
                  autoSkip: !0,
                  autoSkipPadding: 20,
                },
                grid: {
                  display: !0,
                },
              },
              raw: {
                axis: "y",
                display: !1,
                title: {
                  display: !0,
                  text: "Raw Words per Minute",
                },
                beginAtZero: !0,
                min: 0,
                ticks: {
                  autoSkip: !0,
                  autoSkipPadding: 20,
                },
                grid: {
                  display: !1,
                },
              },
              error: {
                axis: "y",
                display: !0,
                position: "right",
                title: {
                  display: !0,
                  text: "Errors",
                },
                beginAtZero: !0,
                ticks: {
                  precision: 0,
                  autoSkip: !0,
                  autoSkipPadding: 20,
                },
                grid: {
                  display: !1,
                },
              },
            },
            plugins: {
              annotation: {
                annotations: [],
              },
              tooltip: {
                animation: {
                  duration: 250,
                },
                mode: "index",
                intersect: !1,
                callbacks: {
                  afterLabel: function (e) {
                    var t;
                    if (w === e) return "";
                    w = e;
                    try {
                      const o = Math.round(parseFloat(e.label)) - 1,
                        n =
                          null === (t = v.errorHistory[o]) || void 0 === t
                            ? void 0
                            : t.words,
                        i = [...new Set(n)],
                        a = i[0],
                        r = i[i.length - 1];
                      if (void 0 === a || void 0 === r) return "";
                      u.highlightWordsInRange(a, r);
                    } catch (e) {}
                    return "";
                  },
                },
              },
            },
          },
        })),
          (t.accountHistory = new b(
            document.querySelector(".pageAccount #accountHistoryChart"),
            {
              type: "line",
              data: {
                datasets: [
                  {
                    yAxisID: "wpm",
                    data: [],
                    fill: !1,
                    borderWidth: 0,
                    order: 3,
                  },
                  {
                    yAxisID: "pb",
                    data: [],
                    fill: !1,
                    stepped: !0,
                    pointRadius: 0,
                    pointHoverRadius: 0,
                    order: 4,
                  },
                  {
                    yAxisID: "acc",
                    fill: !1,
                    data: [],
                    pointStyle: "triangle",
                    borderWidth: 0,
                    pointRadius: 3.5,
                    order: 3,
                  },
                  {
                    yAxisID: "wpmAvgTen",
                    data: [],
                    fill: !1,
                    pointRadius: 0,
                    pointHoverRadius: 0,
                    order: 2,
                  },
                  {
                    yAxisID: "accAvgTen",
                    data: [],
                    fill: !1,
                    pointRadius: 0,
                    pointHoverRadius: 0,
                    order: 2,
                  },
                  {
                    yAxisID: "wpmAvgHundred",
                    data: [],
                    fill: !1,
                    pointRadius: 0,
                    pointHoverRadius: 0,
                    order: 1,
                  },
                  {
                    yAxisID: "accAvgHundred",
                    label: "accAvgHundred",
                    data: [],
                    fill: !1,
                    pointRadius: 0,
                    pointHoverRadius: 0,
                    order: 1,
                  },
                ],
              },
              options: {
                maintainAspectRatio: !1,
                hover: {
                  mode: "nearest",
                  intersect: !1,
                },
                scales: {
                  x: {
                    axis: "x",
                    type: "linear",
                    reverse: !0,
                    min: 0,
                    ticks: {
                      stepSize: 10,
                    },
                    display: !1,
                    grid: {
                      display: !1,
                    },
                  },
                  wpm: {
                    axis: "y",
                    type: "linear",
                    beginAtZero: !0,
                    min: 0,
                    ticks: {
                      stepSize: 10,
                    },
                    display: !0,
                    title: {
                      display: !0,
                      text: "Words per Minute",
                    },
                    position: "right",
                  },
                  pb: {
                    axis: "y",
                    beginAtZero: !0,
                    min: 0,
                    ticks: {
                      stepSize: 10,
                    },
                    display: !1,
                  },
                  acc: {
                    axis: "y",
                    beginAtZero: !0,
                    min: 0,
                    max: 100,
                    reverse: !0,
                    ticks: {
                      stepSize: 10,
                    },
                    display: !0,
                    title: {
                      display: !0,
                      text: "Accuracy",
                    },
                    grid: {
                      display: !1,
                    },
                    position: "left",
                  },
                  wpmAvgTen: {
                    axis: "y",
                    beginAtZero: !0,
                    min: 0,
                    ticks: {
                      stepSize: 10,
                    },
                    display: !1,
                    grid: {
                      display: !1,
                    },
                  },
                  accAvgTen: {
                    axis: "y",
                    beginAtZero: !0,
                    min: 0,
                    max: 100,
                    reverse: !0,
                    ticks: {
                      stepSize: 10,
                    },
                    display: !1,
                    grid: {
                      display: !1,
                    },
                  },
                  wpmAvgHundred: {
                    axis: "y",
                    beginAtZero: !0,
                    min: 0,
                    ticks: {
                      stepSize: 10,
                    },
                    display: !1,
                    grid: {
                      display: !1,
                    },
                  },
                  accAvgHundred: {
                    axis: "y",
                    beginAtZero: !0,
                    min: 0,
                    max: 100,
                    reverse: !0,
                    ticks: {
                      stepSize: 10,
                    },
                    display: !1,
                    grid: {
                      display: !1,
                    },
                  },
                },
                plugins: {
                  annotation: {
                    annotations: [],
                  },
                  tooltip: {
                    animation: {
                      duration: 250,
                    },
                    enabled: !0,
                    intersect: !1,
                    external: function (e) {
                      e && (e.tooltip.options.displayColors = !1);
                    },
                    filter: function (e) {
                      return (
                        1 !== e.datasetIndex &&
                        3 !== e.datasetIndex &&
                        4 !== e.datasetIndex &&
                        5 !== e.datasetIndex &&
                        6 !== e.datasetIndex
                      );
                    },
                    callbacks: {
                      title: function () {
                        return "";
                      },
                      beforeLabel: function (e) {
                        if (0 !== e.datasetIndex) {
                          const t = e.dataset.data[e.dataIndex];
                          return `error rate: ${y.roundTo2(
                            t.errorRate
                          )}%\nacc: ${y.roundTo2(100 - t.errorRate)}%`;
                        }
                        const t = e.dataset.data[e.dataIndex];
                        let o = `${h.default.typingSpeedUnit}: ${t.wpm}\nraw: ${t.raw}\nacc: ${t.acc}\n\nmode: ${t.mode} `;
                        ("time" === t.mode || "words" === t.mode) &&
                          (o += t.mode2);
                        let n = t.difficulty;
                        return (
                          void 0 === n && (n = "normal"),
                          (o += `\ndifficulty: ${n}`),
                          (o +=
                            `\npunctuation: ${t.punctuation}\nlanguage: ${t.language}` +
                            (t.isPb ? "\n\nnew personal best" : "") +
                            "\n\n" +
                            `date: ${(0, f.default)(
                              new Date(t.timestamp),
                              "dd MMM yyyy HH:mm"
                            )}`),
                          o
                        );
                      },
                      label: function () {
                        return "";
                      },
                      afterLabel: function (e) {
                        return (t.accountHistoryActiveIndex = e.dataIndex), "";
                      },
                    },
                  },
                },
              },
            }
          )),
          (t.accountActivity = new b(
            document.querySelector(".pageAccount #accountActivityChart"),
            {
              type: "bar",
              data: {
                labels: [],
                datasets: [
                  {
                    yAxisID: "count",
                    label: "Seconds",
                    data: [],
                    trendlineLinear: {
                      style: "rgba(255,105,180, .8)",
                      lineStyle: "dotted",
                      width: 2,
                    },
                    order: 3,
                  },
                  {
                    yAxisID: "avgWpm",
                    label: "Average Wpm",
                    data: [],
                    type: "line",
                    order: 2,
                    tension: 0,
                    fill: !1,
                  },
                ],
              },
              options: {
                responsive: !0,
                maintainAspectRatio: !1,
                hover: {
                  mode: "nearest",
                  intersect: !1,
                },
                scales: {
                  x: {
                    axis: "x",
                    ticks: {
                      autoSkip: !0,
                      autoSkipPadding: 20,
                    },
                    type: "time",
                    time: {
                      unit: "day",
                      displayFormats: {
                        day: "d MMM",
                      },
                    },
                    bounds: "ticks",
                    display: !0,
                    title: {
                      display: !1,
                      text: "Date",
                    },
                    offset: !0,
                  },
                  count: {
                    axis: "y",
                    beginAtZero: !0,
                    min: 0,
                    ticks: {
                      autoSkip: !0,
                      autoSkipPadding: 20,
                      stepSize: 1,
                    },
                    display: !0,
                    title: {
                      display: !0,
                      text: "Time typing (minutes)",
                    },
                  },
                  avgWpm: {
                    axis: "y",
                    beginAtZero: !0,
                    min: 0,
                    ticks: {
                      autoSkip: !0,
                      autoSkipPadding: 20,
                      stepSize: 10,
                    },
                    display: !0,
                    position: "right",
                    title: {
                      display: !0,
                      text: "Average Wpm",
                    },
                    grid: {
                      display: !1,
                    },
                  },
                },
                plugins: {
                  annotation: {
                    annotations: [],
                  },
                  tooltip: {
                    animation: {
                      duration: 250,
                    },
                    intersect: !1,
                    mode: "index",
                    callbacks: {
                      title: function (e) {
                        const t = e[0],
                          o = t.dataset.data[t.dataIndex];
                        return (0, f.default)(new Date(o.x), "dd MMM yyyy");
                      },
                      beforeLabel: function (e) {
                        const t = e.dataset.data[e.dataIndex];
                        switch (e.datasetIndex) {
                          case 0:
                            return `Time Typing: ${y.secondsToString(
                              Math.round(60 * t.y),
                              !0,
                              !0
                            )}\nTests Completed: ${t.amount}`;
                          case 1:
                            return `Average ${
                              h.default.typingSpeedUnit
                            }: ${y.roundTo2(t.y)}`;
                          default:
                            return "";
                        }
                      },
                      label: function () {
                        return "";
                      },
                    },
                  },
                },
              },
            }
          )),
          (t.accountHistogram = new b(
            document.querySelector(".pageAccount #accountHistogramChart"),
            {
              type: "bar",
              data: {
                labels: [],
                datasets: [
                  {
                    yAxisID: "count",
                    label: "Tests",
                    data: [],
                  },
                ],
              },
              options: {
                responsive: !0,
                maintainAspectRatio: !1,
                hover: {
                  mode: "nearest",
                  intersect: !1,
                },
                scales: {
                  x: {
                    axis: "x",
                    bounds: "ticks",
                    display: !0,
                    title: {
                      display: !1,
                      text: "Bucket",
                    },
                    offset: !0,
                  },
                  count: {
                    axis: "y",
                    beginAtZero: !0,
                    min: 0,
                    ticks: {
                      autoSkip: !0,
                      autoSkipPadding: 20,
                      stepSize: 10,
                    },
                    display: !0,
                    title: {
                      display: !0,
                      text: "Tests",
                    },
                  },
                },
                plugins: {
                  annotation: {
                    annotations: [],
                  },
                  tooltip: {
                    animation: {
                      duration: 250,
                    },
                    intersect: !1,
                    mode: "index",
                  },
                },
              },
            }
          )),
          (t.globalSpeedHistogram = new b(
            document.querySelector(".pageAbout #publicStatsHistogramChart"),
            {
              type: "bar",
              data: {
                labels: [],
                datasets: [
                  {
                    yAxisID: "count",
                    label: "Users",
                    data: [],
                  },
                ],
              },
              options: {
                responsive: !0,
                maintainAspectRatio: !1,
                hover: {
                  mode: "nearest",
                  intersect: !1,
                },
                scales: {
                  x: {
                    axis: "x",
                    bounds: "ticks",
                    display: !0,
                    title: {
                      display: !1,
                      text: "Bucket",
                    },
                    offset: !0,
                  },
                  count: {
                    axis: "y",
                    beginAtZero: !0,
                    min: 0,
                    ticks: {
                      autoSkip: !0,
                      autoSkipPadding: 20,
                      stepSize: 10,
                    },
                    display: !0,
                    title: {
                      display: !0,
                      text: "Users",
                    },
                  },
                },
                plugins: {
                  annotation: {
                    annotations: [],
                  },
                  tooltip: {
                    animation: {
                      duration: 250,
                    },
                    intersect: !1,
                    mode: "index",
                  },
                },
              },
            }
          )),
          (t.miniResult = new b(
            document.querySelector(".pageAccount #miniResultChart"),
            {
              type: "line",
              data: {
                labels: [],
                datasets: [
                  {
                    label: "wpm",
                    data: [],
                    borderColor: "rgba(125, 125, 125, 1)",
                    borderWidth: 2,
                    yAxisID: "wpm",
                    order: 2,
                    pointRadius: 2,
                  },
                  {
                    label: "raw",
                    data: [],
                    borderColor: "rgba(125, 125, 125, 1)",
                    borderWidth: 2,
                    yAxisID: "raw",
                    order: 3,
                    pointRadius: 2,
                  },
                  {
                    label: "errors",
                    data: [],
                    borderColor: "rgba(255, 125, 125, 1)",
                    pointBackgroundColor: "rgba(255, 125, 125, 1)",
                    borderWidth: 2,
                    order: 1,
                    yAxisID: "error",
                    type: "scatter",
                    pointStyle: "crossRot",
                    pointRadius: function (e) {
                      const t = e.dataIndex,
                        o = e.dataset.data[t];
                      return (null != o ? o : 0) <= 0 ? 0 : 3;
                    },
                    pointHoverRadius: function (e) {
                      const t = e.dataIndex,
                        o = e.dataset.data[t];
                      return (null != o ? o : 0) <= 0 ? 0 : 5;
                    },
                  },
                ],
              },
              options: {
                responsive: !0,
                maintainAspectRatio: !1,
                scales: {
                  x: {
                    axis: "x",
                    ticks: {
                      autoSkip: !0,
                      autoSkipPadding: 20,
                    },
                    display: !0,
                    title: {
                      display: !1,
                      text: "Seconds",
                    },
                  },
                  wpm: {
                    axis: "y",
                    display: !0,
                    title: {
                      display: !0,
                      text: "Words per Minute",
                    },
                    beginAtZero: !0,
                    min: 0,
                    ticks: {
                      autoSkip: !0,
                      autoSkipPadding: 20,
                    },
                    grid: {
                      display: !0,
                    },
                  },
                  raw: {
                    axis: "y",
                    display: !1,
                    title: {
                      display: !0,
                      text: "Raw Words per Minute",
                    },
                    beginAtZero: !0,
                    min: 0,
                    ticks: {
                      autoSkip: !0,
                      autoSkipPadding: 20,
                    },
                    grid: {
                      display: !1,
                    },
                  },
                  error: {
                    display: !0,
                    position: "right",
                    title: {
                      display: !0,
                      text: "Errors",
                    },
                    beginAtZero: !0,
                    ticks: {
                      precision: 0,
                      autoSkip: !0,
                      autoSkipPadding: 20,
                    },
                    grid: {
                      display: !1,
                    },
                  },
                },
                plugins: {
                  annotation: {
                    annotations: [],
                  },
                  tooltip: {
                    animation: {
                      duration: 250,
                    },
                    mode: "index",
                    intersect: !1,
                  },
                },
              },
            }
          )),
          (t.updateAccountChartButtons = function () {
            C(!1), S(!1), x(!1), P(!1);
          }),
          (t.updateAllChartColors = function () {
            m.update(),
              t.accountHistory.updateColors(),
              t.accountHistogram.updateColors(),
              t.globalSpeedHistogram.updateColors(),
              t.result.updateColors(),
              t.accountActivity.updateColors(),
              t.miniResult.updateColors();
          }),
          g.subscribe((e, t) => {
            var o;
            "accountChart" === e &&
              "account" === p.get() &&
              (C(), S(), x(), P()),
              "fontFamily" === e &&
                ((o = t),
                (l.Chart.defaults.font.family = o.replace(/_/g, " ")));
          });
      },
      4213: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (i, a) {
              function r(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  a(e);
                }
              }
              function s(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  a(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(r, s);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.refreshVisible = t.reinstate = t.renderResult = t.init = void 0),
          (t.init = function () {
            $("head").append(
              "<script>\n  !function(e){var s=new XMLHttpRequest;s.open(\"GET\",\"https://api.enthusiastgaming.net/scripts/cdn.enthusiast.gg/script/eg-aps/release/eg-aps-bootstrap-v2.0.0.bundle.js?site=monkeytype.com\",!0),s.onreadystatechange=function(){var t;4==s.readyState&&(200<=s.status&&s.status<300||304==s.status)&&((t=e.createElement(\"script\")).type=\"text/javascript\",t.text=s.responseText,e.head.appendChild(t))},s.send(null)}(document);\n  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n  })(window,document,'script','dataLayer','GTM-W7WN5QV');\n  </script>"
            ),
              $("body").prepend(
                '<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W7WN5QV"\n  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>'
              );
          }),
          (t.renderResult = function (e) {
            e
              ? window.egAps.render([
                  "ad-result",
                  "ad-vertical-left",
                  "ad-vertical-right",
                  "ad-footer",
                ])
              : window.egAps.render([
                  "ad-result-small",
                  "ad-vertical-left",
                  "ad-vertical-right",
                  "ad-footer-small",
                ]);
          }),
          (t.reinstate = function () {
            try {
              return window.egAps.reinstate(), !0;
            } catch (e) {
              return console.error(e), !1;
            }
          }),
          (t.refreshVisible = function () {
            return o(this, void 0, void 0, function* () {});
          });
      },
      8553: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const u = a(o(3013)),
          l = a(o(8673)),
          d = a(o(2474)),
          c = a(o(7353)),
          p = s(o(6705)),
          f = a(o(3388)),
          h = a(o(2331)),
          m = a(o(8700)),
          g = a(o(2591)),
          v = a(o(5929)),
          y = a(o(4292)),
          b = a(o(2203)),
          w = a(o(8248)),
          _ = a(o(4583)),
          C = a(o(5886)),
          S = a(o(8824)),
          x = a(o(8911)),
          P = a(o(5578)),
          k = a(o(4626)),
          T = a(o(6578)),
          O = a(o(3368)),
          M = a(o(5708)),
          A = a(o(7346)),
          j = a(o(1322)),
          W = a(o(8526)),
          L = a(o(4897)),
          B = a(o(9470)),
          E = a(o(6943)),
          F = a(o(7717)),
          I = a(o(732)),
          R = a(o(8835)),
          D = a(o(5368)),
          V = o(6643),
          q = o(73),
          H = o(7193),
          K = a(o(4044));
        let N,
          z = !1,
          U = !0,
          Q = !1,
          G = 0;
        const J = document.getElementById("wordsInput"),
          Y = document.getElementById("koInputVisual");
        function Z(e) {
          e !== J.value && (J.value = e);
        }
        function X() {
          var e, t;
          const o = f.roundTo2(d.calculateAccuracy());
          if (
            (isNaN(o) || h.update(o),
            "next" === p.default.keymapMode && "zen" !== p.default.mode)
          )
            if (p.default.language.startsWith("korean")) {
              const o = E.disassemble(B.words.getCurrent(), !0),
                n = E.disassemble(L.input.current, !0),
                i = n.length - 1;
              if (n[i]) {
                const t = n[i].length;
                try {
                  const a =
                    null !== (e = o[i][t]) && void 0 !== e
                      ? e
                      : o[n.length][t - o[i].length];
                  D.highlight(a);
                } catch (e) {
                  D.highlight("");
                }
              } else {
                const e =
                  null === (t = null == o ? void 0 : o[0]) || void 0 === t
                    ? void 0
                    : t[0];
                e && D.highlight(e);
              }
            } else
              D.highlight(
                B.words.getCurrent().charAt(L.input.current.length).toString()
              );
        }
        function ee() {
          var e;
          if (
            j.isActive &&
            0 !== L.input.history.length &&
            0 !== l.currentWordElementIndex &&
            (L.input.history[B.words.currentIndex - 1] !=
              B.words.get(B.words.currentIndex - 1) ||
              p.default.freedomMode) &&
            !$($(".word")[B.words.currentIndex - 1]).hasClass("hidden") &&
            "on" !== p.default.confidenceMode &&
            "max" !== p.default.confidenceMode
          ) {
            if (
              ((L.input.current = L.input.popHistory()),
              L.corrected.popHistory(),
              I.get(p.default.funbox).find((e) => {
                var t;
                return null === (t = e.properties) || void 0 === t
                  ? void 0
                  : t.includes("nospace");
              }) &&
                ((L.input.current = L.input.current.slice(0, -1)),
                Z(" " + L.input.current + " ")),
              B.words.decreaseCurrentIndex(),
              l.setCurrentWordElementIndex(l.currentWordElementIndex - 1),
              l.updateActiveElement(!0),
              g.toggleScript(B.words.getCurrent()),
              l.updateWordElement(),
              "zen" === p.default.mode)
            ) {
              S.update();
              const t =
                (null === (e = document.querySelector("#words")) || void 0 === e
                  ? void 0
                  : e.children) || [];
              for (let e = t.length - 1; e >= 0; e--) {
                const o = t[e];
                if (!o.classList.contains("newline")) break;
                o.remove();
              }
            }
            y.updatePosition(), k.addReplayEvent("backWord");
          }
        }
        function te() {
          var e, t, o, n, i, a;
          if (!j.isActive) return;
          if ("" === L.input.current) return;
          if (W.getComposing() && p.default.language.startsWith("chinese"))
            return;
          "zen" === p.default.mode &&
            ($("#words .word.active").removeClass("active"),
            $("#words").append("<div class='word active'></div>"));
          const r = B.words.getCurrent();
          for (const t of I.get(p.default.funbox))
            (null === (e = t.functions) || void 0 === e
              ? void 0
              : e.handleSpace) && t.functions.handleSpace();
          null === (t = R.groups.layout) || void 0 === t || t.updateInput(),
            (z = !0);
          const s = d.calculateBurst();
          m.update(Math.round(s)), L.pushBurstToHistory(s);
          const c =
              void 0 !==
              I.get(p.default.funbox).find((e) => {
                var t;
                return null === (t = e.properties) || void 0 === t
                  ? void 0
                  : t.includes("nospace");
              }),
            h = r === L.input.current || "zen" === p.default.mode;
          if ((T.addPower(h, !0), L.incrementAccuracy(h), h)) {
            if (
              ("off" !== p.default.indicateTypos &&
                "letter" === p.default.stopOnError &&
                l.updateWordElement(),
              C.handleSpace(!0, r),
              L.input.pushHistory(),
              B.words.increaseCurrentIndex(),
              l.setCurrentWordElementIndex(l.currentWordElementIndex + 1),
              l.updateActiveElement(),
              g.toggleScript(B.words.getCurrent()),
              y.updatePosition(),
              L.incrementKeypressCount(),
              L.pushKeypressWord(B.words.currentIndex),
              c || v.playClick(),
              k.addReplayEvent("submitCorrectWord"),
              B.words.currentIndex === B.words.length)
            )
              return void u.finish();
          } else {
            c ||
              ("off" === p.default.playSoundOnError || p.default.blindMode
                ? v.playClick()
                : v.playError()),
              L.pushMissedWord(B.words.getCurrent()),
              L.incrementKeypressErrors();
            const e = L.input.current.length;
            if (
              (e <= B.words.getCurrent().length &&
                (e >= L.corrected.current.length
                  ? (L.corrected.current += "_")
                  : (L.corrected.current =
                      L.corrected.current.substring(0, e) +
                      "_" +
                      L.corrected.current.substring(e + 1))),
              "off" !== p.default.stopOnError)
            )
              return "expert" === p.default.difficulty ||
                "master" === p.default.difficulty
                ? void u.fail("difficulty")
                : void (
                    "word" === p.default.stopOnError &&
                    ((z = !1),
                    k.addReplayEvent("incorrectLetter", "_"),
                    l.updateWordElement(!0),
                    y.updatePosition())
                  );
            if (
              (C.handleSpace(!1, r),
              p.default.blindMode &&
                "off" !== p.default.highlightMode &&
                $("#words .word.active letter").addClass("correct"),
              L.input.pushHistory(),
              l.highlightBadWord(
                l.currentWordElementIndex,
                !p.default.blindMode
              ),
              B.words.increaseCurrentIndex(),
              l.setCurrentWordElementIndex(l.currentWordElementIndex + 1),
              l.updateActiveElement(),
              g.toggleScript(B.words.getCurrent()),
              y.updatePosition(),
              L.incrementKeypressCount(),
              L.pushKeypressWord(B.words.currentIndex),
              "expert" === p.default.difficulty ||
                "master" === p.default.difficulty)
            )
              return void u.fail("difficulty");
            if (B.words.currentIndex === B.words.length) return void u.finish();
            k.addReplayEvent("submitErrorWord");
          }
          let b;
          b =
            "zen" === p.default.mode
              ? L.input.current.length
              : B.words.getCurrent().length;
          const _ = f.whorf(p.default.minBurstCustomSpeed, b);
          if (
            ("fixed" === p.default.minBurst &&
              s < p.default.minBurstCustomSpeed) ||
            ("flex" === p.default.minBurst && s < _)
          )
            u.fail("min burst");
          else {
            if (
              (L.corrected.pushHistory(),
              !p.default.showAllLines ||
                "time" === p.default.mode ||
                (w.isWordRandom && 0 === w.word) ||
                w.isTimeRandom)
            ) {
              const e = Math.floor(
                null !==
                  (n =
                    null ===
                      (o =
                        document.querySelectorAll("#words .word")[
                          l.currentWordElementIndex - 1
                        ]) || void 0 === o
                      ? void 0
                      : o.offsetTop) && void 0 !== n
                  ? n
                  : 0
              );
              let t;
              try {
                t = Math.floor(
                  null !==
                    (a =
                      null ===
                        (i =
                          document.querySelectorAll("#words .word")[
                            l.currentWordElementIndex
                          ]) || void 0 === i
                        ? void 0
                        : i.offsetTop) && void 0 !== a
                    ? a
                    : 0
                );
              } catch (e) {
                t = 0;
              }
              t > e && l.lineJump(e);
            }
            "react" === p.default.keymapMode && D.flash(" ", !0),
              ("words" !== p.default.mode &&
                "custom" !== p.default.mode &&
                "quote" !== p.default.mode &&
                "zen" !== p.default.mode) ||
                S.update(),
              ("time" !== p.default.mode &&
                "words" !== p.default.mode &&
                "custom" !== p.default.mode &&
                "quote" !== p.default.mode) ||
                u.addWord();
          }
        }
        function oe(e, t, o) {
          var n, i, a, r, s, d, c, f;
          if (l.resultCalculating || l.resultVisible) return;
          console.debug("Handling char", e, t, o);
          const h = performance.now(),
            m = L.input.getKoreanStatus();
          if ("" === e && "" !== B.words.getCurrent()[t]) {
            for (let e = 0; e < 3; e++) oe(".", t + e);
            return;
          }
          for (const t of I.get(p.default.funbox))
            (null === (n = t.functions) || void 0 === n
              ? void 0
              : n.handleChar) && (e = t.functions.handleChar(e));
          const g =
            void 0 !==
            I.get(p.default.funbox).find((e) => {
              var t;
              return null === (t = e.properties) || void 0 === t
                ? void 0
                : t.includes("nospace");
            });
          if ("\n" !== e && "\t" !== e && /\s/.test(e)) {
            if (g) return;
            if (
              (te(),
              !(
                "normal" !== p.default.difficulty ||
                (p.default.strictSpace && "zen" !== p.default.mode) ||
                ("word" === p.default.stopOnError && t > 0)
              ))
            )
              return;
            if (z) return void (z = !1);
          }
          if (
            "zen" !== p.default.mode &&
            "\n" !== B.words.getCurrent()[t] &&
            "\n" === e
          )
            return;
          if (!j.isActive && !u.startTest(h)) return;
          x.set(!0), y.stopAnimation();
          const b = (function (e, t) {
            var o;
            if (!U) return !1;
            if ("zen" === p.default.mode) return !0;
            if (L.input.getKoreanStatus()) {
              const o = E.disassemble(B.words.getCurrent())[t];
              return void 0 !== o && o === e;
            }
            const n = B.words.getCurrent()[t];
            if (void 0 === n) return !1;
            if (n === e) return !0;
            const i = I.get(p.default.funbox).find((e) => {
              var t;
              return null === (t = e.functions) || void 0 === t
                ? void 0
                : t.isCharCorrect;
            });
            return (
              null === (o = null == i ? void 0 : i.functions) || void 0 === o
                ? void 0
                : o.isCharCorrect
            )
              ? i.functions.isCharCorrect(e, n)
              : !(
                  (!p.default.language.startsWith("russian") ||
                    ("" !== e && "" !== e && "e" !== e) ||
                    ("" !== n && "" !== n && "e" !== n)) &&
                  (("" !== e &&
                    "" !== e &&
                    "'" !== e &&
                    "" !== e &&
                    "" !== e) ||
                    ("" !== n &&
                      "" !== n &&
                      "'" !== n &&
                      "" !== n &&
                      "" !== n)) &&
                  (('"' !== e && "" !== e && "" !== e && "" !== e) ||
                    ('"' !== n && "" !== n && "" !== n && "" !== n)) &&
                  (("" !== e && "" !== e && "-" !== e) ||
                    ("-" !== n && "" !== n && "" !== n))
                );
          })(e, t);
          let w;
          if (
            (b &&
              "zen" !== p.default.mode &&
              (e = m
                ? null !== (i = E.disassemble(B.words.getCurrent())[t]) &&
                  void 0 !== i
                  ? i
                  : ""
                : B.words.getCurrent().charAt(t)),
            !b && "\n" === e)
          ) {
            if ("" === L.input.current) return;
            e = " ";
          }
          if (
            ("" === L.input.current && L.setBurstStart(h),
            m || p.default.language.startsWith("korean")
              ? ((w = (null != o ? o : "").slice(1)),
                (Y.innerText = w.slice(-1)))
              : (w = p.default.language.startsWith("chinese")
                  ? (null != o ? o : "").slice(1)
                  : L.input.current.substring(0, t) +
                    e +
                    L.input.current.substring(t + 1)),
            !b && W.getComposing() && !p.default.language.startsWith("korean"))
          )
            return (
              (L.input.current = w),
              l.updateWordElement(),
              void y.updatePosition()
            );
          if (
            (T.addPower(b),
            L.incrementAccuracy(b),
            b ||
              (L.incrementKeypressErrors(),
              L.pushMissedWord(B.words.getCurrent())),
            M.updateScore(
              "zen" === p.default.mode
                ? e
                : null !== (a = B.words.getCurrent()[t]) && void 0 !== a
                ? a
                : "",
              b
            ),
            b || "off" === p.default.playSoundOnError || p.default.blindMode
              ? v.playClick()
              : v.playError(),
            "react" === p.default.keymapMode && D.flash(e, b),
            "master" !== p.default.difficulty)
          ) {
            if (!U)
              return (
                G++,
                void (
                  G >= 5 &&
                  O.add("Opposite shift mode is on.", 0, {
                    important: !0,
                    customTitle: "Reminder",
                  })
                )
              );
            G = 0;
          }
          if (
            ("" === L.corrected.current
              ? (L.corrected.current += m ? E.disassemble(w).join("") : w)
              : t >=
                (m
                  ? E.disassemble(L.corrected.current).length
                  : L.corrected.current.length)
              ? (L.corrected.current += m ? E.disassemble(e).concat() : e)
              : b ||
                (L.corrected.current =
                  L.corrected.current.substring(0, t) +
                  e +
                  L.corrected.current.substring(t + 1)),
            L.incrementKeypressCount(),
            L.pushKeypressWord(B.words.currentIndex),
            "master" !== p.default.difficulty &&
              "letter" === p.default.stopOnError &&
              !b)
          )
            return void (
              "off" !== p.default.indicateTypos &&
              l.updateWordElement(void 0, L.input.current + e)
            );
          if (
            (k.addReplayEvent(b ? "correctLetter" : "incorrectLetter", e),
            1 ===
              (m
                ? E.disassemble(L.input.current).length
                : L.input.current.length) &&
              0 === B.words.currentIndex &&
              l.setActiveWordTop(
                null === (r = document.querySelector("#words .active")) ||
                  void 0 === r
                  ? void 0
                  : r.offsetTop
              ),
            ("zen" === p.default.mode && t < 30) ||
            ("zen" !== p.default.mode &&
              w.length < B.words.getCurrent().length + 20)
              ? (L.input.current = w)
              : console.error("Hitting word limit"),
            !b && "master" === p.default.difficulty)
          )
            return void u.fail("difficulty");
          if ("zen" !== p.default.mode) {
            const e = B.words.getCurrent(),
              n = B.words.currentIndex === B.words.length - 1,
              i = e === L.input.current,
              a =
                p.default.quickEnd &&
                !p.default.language.startsWith("korean") &&
                e.length === L.input.current.length &&
                "off" === p.default.stopOnError,
              r = p.default.language.startsWith("chinese");
            if (n && (i || a) && (!r || (o && t + 2 == o.length)))
              return void u.finish();
          }
          const _ =
            null === (s = document.querySelector("#words .word.active")) ||
            void 0 === s
              ? void 0
              : s.offsetTop;
          if (
            (l.updateWordElement(),
            !p.default.hideExtraLetters &&
              _ <
                (null === (d = document.querySelector("#words .word.active")) ||
                void 0 === d
                  ? void 0
                  : d.offsetTop) &&
              !l.lineTransition &&
              L.input.current.length > 1)
          )
            if ("zen" === p.default.mode) {
              const e = Math.floor(
                null !==
                  (f =
                    null ===
                      (c =
                        document.querySelectorAll("#words .word")[
                          l.currentWordElementIndex - 1
                        ]) || void 0 === c
                      ? void 0
                      : c.offsetTop) && void 0 !== f
                  ? f
                  : 0
              );
              p.default.showAllLines || l.lineJump(e);
            } else
              (L.input.current = L.input.current.slice(0, -1)),
                l.updateWordElement();
          ((g && L.input.current.length === B.words.getCurrent().length) ||
            ("\n" === e && b)) &&
            te(),
            b &&
              p.default.language.startsWith("code") &&
              /^\t+/.test(B.words.getCurrent()) &&
              "\t" === B.words.getCurrent()[L.input.current.length] &&
              $("#wordsInput").trigger(
                $.Event("keydown", {
                  key: "Tab",
                  code: "Tab",
                })
              ),
            "\n" !== e && y.updatePosition();
        }
        let ne = -1;
        $(document).on("keydown", (e) =>
          r(void 0, void 0, void 0, function* () {
            var t, o, n;
            if ("loading" === A.get())
              return void console.debug(
                "Ignoring keydown event on loading page."
              );
            if (V.IgnoredKeys.includes(e.key))
              return void console.debug(
                `Key ${e.key} is on the list of ignored keys. Stopping keydown event.`
              );
            const i = $("#wordsInput").is(":focus"),
              a = "test" === A.get(),
              r = f.isPopupVisible("commandLineWrapper"),
              s = f.isPopupVisible("leaderboardsWrapper"),
              d = f.isAnyPopupVisible();
            if (K.isVisible())
              return void console.debug(
                "Ignoring keydown event because cookie popup is visible."
              );
            const h =
              a &&
              !r &&
              !s &&
              !d &&
              !l.resultVisible &&
              (i || "Enter" !== e.key);
            if (
              (!h ||
                i ||
                ["Enter", ...q.ModifierKeys].includes(e.key) ||
                (l.focusWords(),
                p.default.showOutOfFocusWarning && e.preventDefault()),
              "Tab" === e.key &&
                (function (e, t) {
                  if (l.resultCalculating) return void e.preventDefault();
                  if ($("#customTextPopup .textarea").is(":focus")) {
                    e.preventDefault();
                    const t = $("#customTextPopup .textarea")[0],
                      o = t.selectionStart,
                      n = t.selectionEnd;
                    return (
                      (t.value =
                        t.value.substring(0, o) + "\t" + t.value.substring(n)),
                      (t.selectionStart = t.selectionEnd = o + 1),
                      void w.setPopupTextareaState(t.value)
                    );
                  }
                  let o = !1;
                  (("zen" === p.default.mode && !e.shiftKey) ||
                    (B.hasTab && !e.shiftKey)) &&
                    (o = !0);
                  const n = f.isPopupVisible("commandLineWrapper") || t;
                  if (
                    "esc" === p.default.quickRestart ||
                    "enter" === p.default.quickRestart
                  ) {
                    if (n) return;
                    if ("login" === A.get()) return;
                    e.preventDefault(),
                      !l.resultVisible &&
                        o &&
                        (oe("\t", L.input.current.length),
                        Z(" " + L.input.current));
                  } else if ("tab" === p.default.quickRestart) {
                    if (n) return;
                    if ("login" === A.get()) return;
                    if ("test" !== A.get()) return void (0, H.navigate)("/");
                    if (
                      (e.shiftKey ? b.set() : b.reset(), !l.resultVisible && o)
                    )
                      return (
                        e.preventDefault(),
                        oe("\t", L.input.current.length),
                        void Z(" " + L.input.current)
                      );
                    u.restart({
                      event: e,
                    });
                  } else {
                    if ("test" !== A.get()) return;
                    if (l.resultVisible) return;
                    if (o)
                      return (
                        e.preventDefault(),
                        oe("\t", L.input.current.length),
                        void Z(" " + L.input.current)
                      );
                    e.preventDefault(),
                      $("#restartTestButton").trigger("focus");
                  }
                })(e, d),
              "Escape" === e.key && "esc" === p.default.quickRestart)
            ) {
              if (f.isPopupVisible("commandLineWrapper") || d) return;
              if ("test" !== A.get()) return void (0, H.navigate)("/");
              e.shiftKey ? b.set() : b.reset(),
                u.restart({
                  event: e,
                });
            }
            if ("Enter" === e.key && "enter" === p.default.quickRestart) {
              if (f.isPopupVisible("commandLineWrapper") || d) return;
              if ("test" !== A.get()) return void (0, H.navigate)("/");
              if (l.resultVisible)
                return void u.restart({
                  event: e,
                });
              "zen" === p.default.mode ||
                (!B.hasNewline || (B.hasNewline && e.shiftKey)
                  ? (e.shiftKey ? b.set() : b.reset(),
                    u.restart({
                      event: e,
                    }))
                  : (oe("\n", L.input.current.length),
                    Z(" " + L.input.current),
                    "off" !== p.default.tapeMode && l.scrollTape()));
            }
            if (!h) return;
            if (
              !(null === (t = e.originalEvent) || void 0 === t
                ? void 0
                : t.isTrusted) ||
              l.testRestarting
            )
              return void e.preventDefault();
            if (
              (L.setCurrentNotAfk(),
              "Backspace" === e.key &&
                (v.playClick(),
                /INPUT|SELECT|TEXTAREA/i.test(e.target.tagName) ||
                  e.preventDefault(),
                "max" === p.default.confidenceMode))
            )
              return void e.preventDefault();
            if (
              (c.type(),
              "Backspace" === e.key &&
                0 === L.input.current.length &&
                (ee(), L.input.current && Z(" " + L.input.current + " ")),
              "Enter" === e.key)
            )
              if (e.shiftKey) {
                if ("zen" === p.default.mode) u.finish();
                else if (
                  !f.canQuickRestart(
                    p.default.mode,
                    p.default.words,
                    p.default.time,
                    w,
                    null !== (o = F.isCustomTextLong()) && void 0 !== o && o
                  )
                ) {
                  const e = Date.now() - ne;
                  -1 === ne || e > 200
                    ? ((ne = Date.now()),
                      e >= 5e3 &&
                        O.add(
                          "Please double tap shift+enter to confirm bail out",
                          0,
                          {
                            important: !0,
                            duration: 5,
                          }
                        ))
                    : (j.setBailedOut(!0), u.finish());
                }
              } else
                oe("\n", L.input.current.length),
                  Z(" " + L.input.current),
                  "off" !== p.default.tapeMode && l.scrollTape();
            if ("Dead" === e.key && !W.getComposing()) {
              v.playClick();
              const e = document.querySelector("#words .word.active"),
                t = L.input.current.length,
                o = null == e ? void 0 : e.querySelectorAll("letter")[t];
              o && o.classList.toggle("dead");
            }
            if ("off" !== p.default.oppositeShiftMode)
              if (
                "keymap" === p.default.oppositeShiftMode &&
                "overrideSync" !== p.default.keymapLayout
              ) {
                const t = yield f
                  .getLayout(p.default.keymapLayout)
                  .catch(() => {});
                if (void 0 === t)
                  return void O.add("Failed to load keymap layout", -1);
                const o = P.layoutKeyToKeycode(e.key, t);
                U = void 0 === o || P.isUsingOppositeShift(o);
              } else U = P.isUsingOppositeShift(e.code);
            const m = I.get(p.default.funbox).find((e) => {
              var t;
              return null === (t = e.functions) || void 0 === t
                ? void 0
                : t.preventDefaultEvent;
            });
            if (
              ((null === (n = null == m ? void 0 : m.functions) || void 0 === n
                ? void 0
                : n.preventDefaultEvent) &&
                (yield m.functions.preventDefaultEvent(e)) &&
                (e.preventDefault(),
                oe(e.key, L.input.current.length),
                X(),
                Z(" " + L.input.current),
                "off" !== p.default.tapeMode && l.scrollTape()),
              "default" !== p.default.layout &&
                !(
                  e.ctrlKey ||
                  (e.altKey && window.navigator.platform.search("Linux") > -1)
                ))
            ) {
              const t = yield _.getCharFromEvent(e);
              null !== t &&
                (e.preventDefault(),
                oe(t, L.input.current.length),
                X(),
                Z(" " + L.input.current)),
                "off" !== p.default.tapeMode && l.scrollTape();
            }
            N = "Backspace" === e.key || "delete" === e.key;
          })
        ),
          $("#wordsInput").on("keydown", (e) => {
            var t;
            if (
              null === (t = e.originalEvent) || void 0 === t ? void 0 : t.repeat
            )
              return void console.log(
                "spacing debug keydown STOPPED - repeat",
                e.key,
                e.code,
                e.which
              );
            "NumpadEnter" === e.code &&
              p.default.funbox.includes("58008") &&
              (e.code = "Space"),
              e.code.includes("Arrow") &&
                p.default.funbox.includes("arrows") &&
                (e.code = "NoCode");
            const o = performance.now();
            setTimeout(() => {
              const t = "" === e.code || 231 === e.which ? "NoCode" : e.code;
              L.recordKeydownTime(o, t);
            }, 0);
          }),
          $("#wordsInput").on("keyup", (e) => {
            var t;
            if (
              null === (t = e.originalEvent) || void 0 === t ? void 0 : t.repeat
            )
              return void console.log(
                "spacing debug keydown STOPPED - repeat",
                e.key,
                e.code,
                e.which
              );
            "NumpadEnter" === e.code &&
              p.default.funbox.includes("58008") &&
              (e.code = "Space"),
              e.code.includes("Arrow") &&
                p.default.funbox.includes("arrows") &&
                (e.code = "NoCode");
            const o = performance.now();
            setTimeout(() => {
              const t = "" === e.code || 231 === e.which ? "NoCode" : e.code;
              L.recordKeyupTime(o, t);
            }, 0);
          }),
          $("#wordsInput").on("keyup", (e) => {
            var t;
            (null === (t = e.originalEvent) || void 0 === t
              ? void 0
              : t.isTrusted) && !l.testRestarting
              ? V.IgnoredKeys.includes(e.key) || l.resultVisible || c.stop()
              : e.preventDefault();
          }),
          $("#wordsInput").on("beforeinput", (e) => {
            var t;
            (null === (t = e.originalEvent) || void 0 === t
              ? void 0
              : t.isTrusted) &&
              "" === e.target.value &&
              (e.target.value = " ");
          }),
          $("#wordsInput").on("input", (e) => {
            var t;
            if (
              !(null === (t = e.originalEvent) || void 0 === t
                ? void 0
                : t.isTrusted) ||
              l.testRestarting
            )
              return void (e.target.value = " ");
            if (f.isAnyPopupVisible()) return void e.preventDefault();
            L.setCurrentNotAfk(),
              ("default" !== p.default.layout &&
                "korean" !== p.default.layout) ||
                !e.target.value
                  .normalize()
                  .match(
                    /[\uac00-\ud7af]|[\u1100-\u11ff]|[\u3130-\u318f]|[\ua960-\ua97f]|[\ud7b0-\ud7ff]/g
                  ) ||
                L.input.setKoreanStatus(!0);
            const o = L.input.getKoreanStatus(),
              n = p.default.language.startsWith("chinese"),
              i = e.target.value.normalize(),
              a = o ? E.disassemble(i).join("").slice(1) : i.slice(1),
              r = o ? E.disassemble(L.input.current).join("") : L.input.current;
            if (
              o &&
              !N &&
              (Q ||
                (i.slice(1).length < L.input.current.length &&
                  E.disassemble(L.input.current.slice(-1)).length > 1))
            )
              return void (Q = !Q);
            if ("default" !== p.default.layout && a.length >= r.length)
              return void Z(" " + r);
            if (0 === i.length && 0 === r.length) ee();
            else if (a.length < r.length) {
              if (n)
                if (r.length - a.length <= 2 && r.slice(0, r.length) === r)
                  L.input.current = a;
                else {
                  let e = 0;
                  for (; a[e] === r[e]; ) e++;
                  let t = 0;
                  "word" !== p.default.stopOnError &&
                    /.+ .+/.test(a) &&
                    (t = a.indexOf(" ") + 1);
                  for (let o = e; o < a.length; o++) oe(a[o], o - t, i);
                }
              else if (o) {
                const t = e.target.value.normalize().slice(1);
                (L.input.current = t), (Y.innerText = t.slice(-1));
              } else L.input.current = a;
              l.updateWordElement(),
                y.updatePosition(),
                W.getComposing() ||
                  k.addReplayEvent("setLetterIndex", r.length - 1);
            }
            if (a !== r) {
              let e = 0;
              for (; a[e] === r[e]; ) e++;
              let t = 0;
              "word" !== p.default.stopOnError &&
                /.+ .+/.test(a) &&
                (t = a.indexOf(" ") + 1);
              for (let o = e; o < a.length; o++) oe(a[o], o - t, i);
            }
            Z(" " + L.input.current),
              X(),
              "off" !== p.default.tapeMode && l.scrollTape();
            const s = W.getComposing();
            setTimeout(() => {
              var t;
              const o = W.getComposing();
              s !== o && l.updateWordElement(),
                e.target.selectionStart !== e.target.value.length &&
                  (!f.trailingComposeChars.test(e.target.value) ||
                    (null !== (t = e.target.selectionStart) && void 0 !== t
                      ? t
                      : 0) < e.target.value.search(f.trailingComposeChars)) &&
                  (e.target.selectionStart = e.target.selectionEnd =
                    e.target.value.length);
            }, 0);
          }),
          $("#wordsInput").on("focus", (e) => {
            e.target.selectionStart = e.target.selectionEnd =
              e.target.value.length;
          }),
          $("#wordsInput").on("copy paste", (e) => {
            e.preventDefault();
          }),
          $("#wordsInput").on("select selectstart", (e) => {
            e.preventDefault();
          }),
          $("#wordsInput").on("keydown", (e) => {
            e.key.startsWith("Arrow") && e.preventDefault();
          }),
          $("#wordsInput").on("compositionstart", () => {
            "default" === p.default.layout &&
              (W.setComposing(!0), W.setStartPos(L.input.current.length));
          }),
          $("#wordsInput").on("compositionend", () => {
            "default" === p.default.layout && W.setComposing(!1);
          });
      },
      9033: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.change = void 0);
        const s = a(o(3388)),
          u = a(o(7346)),
          l = a(o(8835)),
          d = a(o(7520)),
          c = a(o(9011)),
          p = a(o(5331)),
          f = a(o(2588)),
          h = a(o(4335)),
          m = a(o(4471)),
          g = a(o(8949)),
          v = a(o(5973)),
          y = a(o(5705)),
          b = a(o(1493)),
          w = a(o(8911));
        t.change = function (e, t = {}) {
          return r(this, void 0, void 0, function* () {
            return (
              (t = Object.assign(
                Object.assign(
                  {},
                  {
                    force: !1,
                  }
                ),
                t
              )),
              new Promise((o) => {
                if (y.get())
                  return (
                    console.debug(
                      `change page to ${e} stopped, page transition is true`
                    ),
                    o(!1)
                  );
                if (!t.force && u.get() === e)
                  return (
                    console.debug(
                      `change page ${e} stoped, page already active`
                    ),
                    o(!1)
                  );
                console.log(`changing page ${e}`);
                const n = {
                    loading: h.page,
                    test: c.page,
                    settings: l.page,
                    about: p.page,
                    account: d.page,
                    login: f.page,
                    profile: m.page,
                    profileSearch: g.page,
                    404: v.page,
                  },
                  i = n[u.get()],
                  a = n[e];
                null == i || i.beforeHide(),
                  y.set(!0),
                  $(".page").removeClass("active"),
                  s.swapElements(
                    i.element,
                    a.element,
                    250,
                    () =>
                      r(this, void 0, void 0, function* () {
                        y.set(!1),
                          a.element.addClass("active"),
                          o(!0),
                          null == a || a.afterShow(),
                          b.reinstate();
                      }),
                    () =>
                      r(this, void 0, void 0, function* () {
                        "test" === a.name
                          ? s.updateTitle()
                          : s.updateTitle(
                              s.capitalizeFirstLetterOfEachWord(a.name) +
                                " | Monkeytype"
                            ),
                          w.set(!1),
                          u.set(a.name),
                          null == i || i.afterHide(),
                          yield null == a
                            ? void 0
                            : a.beforeShow({
                                params: t.params,
                                data: t.data,
                              });
                      })
                  );
              })
            );
          });
        };
      },
      4984: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.apply = void 0);
        const r = a(o(6705)),
          s = a(o(6350)),
          u = a(o(3368)),
          l = a(o(3013)),
          d = a(o(9343));
        t.apply = function (e) {
          var t;
          const o = s.getSnapshot();
          o &&
            (null === (t = o.presets) ||
              void 0 === t ||
              t.forEach((t) => {
                t._id === e &&
                  (r.apply(t.config),
                  d.clear(!0),
                  t.config.tags &&
                    (t.config.tags.forEach((e) => {
                      d.set(e, !0, !1);
                    }),
                    d.saveActiveToLocalStorage()),
                  l.restart(),
                  u.add("Preset applied", 1, {
                    duration: 2,
                  }),
                  r.saveFullConfigToLocalStorage());
              }));
        };
      },
      2198: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const u = o(5817),
          l = o(3388),
          d = s(o(7355)),
          c = o(7193),
          p = a(o(590)),
          f = new u.InputIndicator($(".page.pageProfileSearch .search input"), {
            notFound: {
              icon: "fa-user-slash",
              level: -1,
            },
            error: {
              icon: "fa-times",
              level: -1,
            },
            checking: {
              icon: "fa-circle-notch",
              spinIcon: !0,
              level: 1,
            },
          });
        function h() {
          $(".page.pageProfileSearch .search input").trigger("focus");
        }
        $(".page.pageProfileSearch form").on("submit", (e) => {
          e.preventDefault(),
            void 0 ===
              $(".page.pageProfileSearch .search input").attr("disabled") &&
              (function () {
                r(this, void 0, void 0, function* () {
                  f.hide();
                  const e = $(".page.pageProfileSearch .search input").val();
                  if ("" === e) return;
                  f.show("checking"),
                    $(".page.pageProfileSearch .search button").addClass(
                      "disabled"
                    ),
                    $(".page.pageProfileSearch .search input").attr(
                      "disabled",
                      "disabled"
                    ),
                    yield (0, l.sleep)(500);
                  const t = yield d.default.users.getProfileByName(e);
                  return (
                    $(".page.pageProfileSearch .search button").removeClass(
                      "disabled"
                    ),
                    $(".page.pageProfileSearch .search input").removeAttr(
                      "disabled"
                    ),
                    404 === t.status
                      ? (h(), void f.show("notFound", "User not found"))
                      : 200 !== t.status
                      ? (h(), void f.show("error", `Error: ${t.message}`))
                      : (f.hide(),
                        void (0, c.navigate)(`/profile/${e}`, {
                          data: t.data,
                        }))
                  );
                });
              })();
        }),
          p.save("pageProfileSearch");
      },
      6408: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.renderResult =
            t.destroyAll =
            t.refreshVisible =
            t.reinstate =
            t.init =
              void 0);
        const u = s(o(6705)),
          l = a(o(7346)),
          d = a(o(8673)),
          c = [
            {
              type: "leaderboard_atf",
              selectorId: "ad-result-wrapper",
            },
            {
              type: "med_rect_btf",
              selectorId: "ad-result-small-wrapper",
            },
          ],
          p = [
            {
              type: "leaderboard_atf",
              selectorId: "ad-result-wrapper",
            },
            {
              type: "med_rect_btf",
              selectorId: "ad-result-small-wrapper",
            },
            {
              type: "sky_btf",
              selectorId: "ad-vertical-right-wrapper",
            },
            {
              type: "sky_btf",
              selectorId: "ad-vertical-left-wrapper",
            },
          ],
          f = [
            {
              type: "leaderboard_atf",
              selectorId: "ad-result-wrapper",
            },
            {
              type: "med_rect_btf",
              selectorId: "ad-result-small-wrapper",
            },
            {
              type: "sky_btf",
              selectorId: "ad-vertical-right-wrapper",
            },
            {
              type: "sky_btf",
              selectorId: "ad-vertical-left-wrapper",
            },
            {
              type: "leaderboard_btf",
              selectorId: "ad-footer-wrapper",
            },
            {
              type: "med_rect_btf",
              selectorId: "ad-footer-small-wrapper",
            },
            {
              type: "leaderboard_btf",
              selectorId: "ad-about-1-wrapper",
            },
            {
              type: "med_rect_btf",
              selectorId: "ad-about-1-small-wrapper",
            },
            {
              type: "leaderboard_btf",
              selectorId: "ad-about-2-wrapper",
            },
            {
              type: "med_rect_btf",
              selectorId: "ad-about-2-small-wrapper",
            },
            {
              type: "leaderboard_btf",
              selectorId: "ad-settings-1-wrapper",
            },
            {
              type: "med_rect_btf",
              selectorId: "ad-settings-1-small-wrapper",
            },
            {
              type: "leaderboard_btf",
              selectorId: "ad-settings-2-wrapper",
            },
            {
              type: "med_rect_btf",
              selectorId: "ad-settings-2-small-wrapper",
            },
            {
              type: "leaderboard_btf",
              selectorId: "ad-settings-3-wrapper",
            },
            {
              type: "med_rect_btf",
              selectorId: "ad-settings-3-small-wrapper",
            },
            {
              type: "leaderboard_btf",
              selectorId: "ad-account-1-wrapper",
            },
            {
              type: "med_rect_btf",
              selectorId: "ad-account-1-small-wrapper",
            },
            {
              type: "leaderboard_btf",
              selectorId: "ad-account-2-wrapper",
            },
            {
              type: "med_rect_btf",
              selectorId: "ad-account-2-small-wrapper",
            },
          ];
        let h = !1;
        function m() {
          let e;
          "result" === u.default.ads
            ? (e = c)
            : "on" === u.default.ads
            ? (e = p)
            : "sellout" === u.default.ads && (e = f);
          const t = [];
          for (const o of e) {
            const e = document.querySelector(`#${o.selectorId}`);
            e &&
              "none" !== window.getComputedStyle(e).display &&
              null !== e.offsetParent &&
              t.push(o);
          }
          return t;
        }
        function g() {
          return r(this, void 0, void 0, function* () {
            h &&
              ("test" !== l.get() || d.resultVisible
                ? (yield ramp.destroyUnits("all"),
                  yield ramp.addUnits(m()),
                  yield ramp.displayUnits())
                : ramp.destroyUnits("all"));
          });
        }
        (t.init = function () {
          window.ramp = {
            que: [],
            passiveMode: !0,
            forcePath: "320x50-test",
            onReady: () => {
              (h = !0), g();
            },
          };
          const e = document.getElementsByTagName("head")[0],
            t = document.createElement("script");
          t.setAttribute("async", !0),
            (t.src = "//cdn.intergient.com/1024888/74058/ramp.js"),
            e.appendChild(t),
            (window._pwGA4PageviewId = "".concat(Date.now())),
            (window.dataLayer = window.dataLayer || []),
            (window.gtag =
              window.gtag ||
              function () {
                dataLayer.push(arguments);
              }),
            gtag("js", new Date()),
            gtag("config", "G-KETCPNHRJF", {
              send_page_view: !1,
            }),
            gtag("event", "ramp_js", {
              send_to: "G-KETCPNHRJF",
              pageview_id: window._pwGA4PageviewId,
            });
        }),
          (t.reinstate = g),
          (t.refreshVisible = function () {
            return r(this, void 0, void 0, function* () {});
          }),
          (t.destroyAll = function () {
            h && ramp.destroyUnits("all");
          }),
          (t.renderResult = function () {
            return r(this, void 0, void 0, function* () {
              if (!h) return;
              const e = m();
              yield ramp.addUnits(e), yield ramp.displayUnits();
            });
          });
      },
      6750: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const s = o(3388),
          u = o(1446),
          l = a(o(6350)),
          d = {
            quotes: [],
            length: 0,
            language: null,
            groups: [],
          };
        function c(e) {
          return e.replace(/_\d*k$/g, "");
        }
        const p = new (class {
          constructor() {
            (this.quoteCollection = d),
              (this.quoteQueue = []),
              (this.queueIndex = 0);
          }
          getQuotes(e, t) {
            return r(this, void 0, void 0, function* () {
              const o = c(e);
              if (this.quoteCollection.language !== o)
                try {
                  const e = yield $.getJSON(`quotes/${o}.json`);
                  if (void 0 === e.quotes || 0 === e.quotes.length) return d;
                  (this.quoteCollection = {
                    quotes: [],
                    length: e.quotes.length,
                    groups: [],
                    language: e.language,
                  }),
                    e.quotes.forEach((t) => {
                      const o = {
                        text: t.text,
                        britishText: t.britishText,
                        source: t.source,
                        length: t.length,
                        id: t.id,
                        language: e.language,
                        group: 0,
                      };
                      this.quoteCollection.quotes.push(o);
                    }),
                    e.groups.forEach((e, t) => {
                      const o = e[0],
                        n = e[1];
                      this.quoteCollection.groups[t] =
                        this.quoteCollection.quotes.filter(
                          (e) =>
                            e.length >= o &&
                            e.length <= n &&
                            ((e.group = t), !0)
                        );
                    }),
                    void 0 !== t && this.updateQuoteQueue(t);
                } catch (e) {
                  return d;
                }
              return this.quoteCollection;
            });
          }
          getQuoteById(e) {
            return this.quoteCollection.quotes.find((t) => t.id === e);
          }
          updateQuoteQueue(e) {
            (this.quoteQueue = []),
              e.forEach((e) => {
                var t;
                e < 0 ||
                  null === (t = this.quoteCollection.groups[e]) ||
                  void 0 === t ||
                  t.forEach((e) => {
                    this.quoteQueue.push(e);
                  });
              }),
              (0, s.shuffle)(this.quoteQueue),
              (this.queueIndex = 0);
          }
          getRandomQuote() {
            if (0 === this.quoteQueue.length) return null;
            this.queueIndex >= this.quoteQueue.length &&
              ((this.queueIndex = 0), (0, s.shuffle)(this.quoteQueue));
            const e = this.quoteQueue[this.queueIndex];
            return (this.queueIndex += 1), e;
          }
          getCurrentQuote() {
            return 0 === this.quoteQueue.length
              ? null
              : this.quoteQueue[this.queueIndex];
          }
          getRandomFavoriteQuote(e) {
            const t = l.getSnapshot();
            if (!t) return null;
            const o = c(e),
              n = [],
              { favoriteQuotes: i } = t;
            if (
              (Object.keys(i).forEach((e) => {
                var t;
                c(e) === o &&
                  n.push(...(null !== (t = i[e]) && void 0 !== t ? t : []));
              }),
              0 === n.length)
            )
              return null;
            const a = (0, s.randomElementFromArray)(n),
              r = this.getQuoteById(parseInt(a, 10));
            return null != r ? r : null;
          }
          isQuoteFavorite({ language: e, id: t }) {
            const o = l.getSnapshot();
            if (!o) return !1;
            const { favoriteQuotes: n } = o,
              i = c(e);
            return (
              void 0 !==
              Object.keys(n).find((e) => {
                var o;
                return (
                  i === c(e) &&
                  (null !== (o = n[e]) && void 0 !== o ? o : []).includes(
                    t.toString()
                  )
                );
              })
            );
          }
        })();
        (0, u.subscribe)((e, t) => {
          "quoteLength" === e && p.updateQuoteQueue(t);
        }),
          (t.default = p);
      },
      7193: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.navigate = void 0);
        const s = a(o(9033)),
          u = a(o(41)),
          l = a(o(8673)),
          d = a(o(5705)),
          c = o(6617),
          p = [
            {
              path: "/",
              load: () => {
                s.change("test");
              },
            },
            {
              path: "/verify",
              load: () => {
                s.change("test");
              },
            },
            {
              path: "/about",
              load: () => {
                s.change("about");
              },
            },
            {
              path: "/settings",
              load: () => {
                s.change("settings");
              },
            },
            {
              path: "/login",
              load: () => {
                c.Auth
                  ? c.Auth.currentUser
                    ? f("/account")
                    : s.change("login")
                  : f("/");
              },
            },
            {
              path: "/account",
              load: (e, t) => {
                c.Auth
                  ? s.change("account", {
                      data: t.data,
                    })
                  : f("/");
              },
            },
            {
              path: "/profile",
              load: (e) => {
                s.change("profileSearch");
              },
            },
            {
              path: "/profile/:uidOrName",
              load: (e, t) => {
                s.change("profile", {
                  force: !0,
                  params: {
                    uidOrName: e.uidOrName,
                  },
                  data: t.data,
                });
              },
            },
          ];
        function f(
          e = window.location.pathname + window.location.search,
          t = {}
        ) {
          l.testRestarting || l.resultCalculating || d.get()
            ? console.debug(
                `navigate: ${e} ignored, page is busy (testRestarting: ${
                  l.testRestarting
                }, resultCalculating: ${
                  l.resultCalculating
                }, pageTransition: ${d.get()})`
              )
            : ("" === (e = e.replace(/\/$/, "")) && (e = "/"),
              history.pushState(null, "", e),
              h(t));
        }
        function h(e = {}) {
          return r(this, void 0, void 0, function* () {
            const t = p
              .map((e) => {
                return {
                  route: e,
                  result: location.pathname.match(
                    ((t = e.path),
                    new RegExp(
                      "^" +
                        t.replace(/\//g, "\\/").replace(/:\w+/g, "(.+)") +
                        "$"
                    ))
                  ),
                };
                var t;
              })
              .find((e) => null !== e.result);
            t
              ? t.route.load(
                  (function (e) {
                    const t = e.result.slice(1),
                      o = Array.from(e.route.path.matchAll(/:(\w+)/g)).map(
                        (e) => e[1]
                      );
                    return Object.fromEntries(o.map((e, o) => [e, t[o]]));
                  })(t),
                  e
                )
              : s.change("404");
          });
        }
        (t.navigate = f),
          window.addEventListener("popstate", () => {
            h();
          }),
          document.addEventListener("DOMContentLoaded", () => {
            document.body.addEventListener("click", (e) => {
              const t = null == e ? void 0 : e.target;
              t.matches("[router-link]") &&
                (null == t ? void 0 : t.href) &&
                (e.preventDefault(), f(t.href));
            });
          }),
          $("#popups").on("click", "#leaderboards a.entryName", () => {
            u.hide();
          });
      },
      5929: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.playError =
            t.playClick =
            t.playNote =
            t.scaleConfigurations =
            t.previewClick =
              void 0);
        const s = r(o(6705)),
          u = o(1766),
          l = a(o(1446)),
          d = o(3388),
          c = o(5578),
          p = o(4173),
          f = a(o(3368));
        let h = null,
          m = null;
        function g() {
          null === m &&
            (m = {
              1: [
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click1/click1_1.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click1/click1_1.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click1/click1_2.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click1/click1_2.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click1/click1_3.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click1/click1_3.wav",
                    }),
                  ],
                  counter: 0,
                },
              ],
              2: [
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click2/click2_1.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click2/click2_1.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click2/click2_2.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click2/click2_2.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click2/click2_3.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click2/click2_3.wav",
                    }),
                  ],
                  counter: 0,
                },
              ],
              3: [
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click3/click3_1.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click3/click3_1.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click3/click3_2.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click3/click3_2.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click3/click3_3.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click3/click3_3.wav",
                    }),
                  ],
                  counter: 0,
                },
              ],
              4: [
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click4/click4_1.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click4/click4_11.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click4/click4_2.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click4/click4_22.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click4/click4_3.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click4/click4_33.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click4/click4_4.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click4/click4_44.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click4/click4_5.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click4/click4_55.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click4/click4_6.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click4/click4_66.wav",
                    }),
                  ],
                  counter: 0,
                },
              ],
              5: [
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click5/click5_1.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click5/click5_11.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click5/click5_2.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click5/click5_22.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click5/click5_3.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click5/click5_33.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click5/click5_4.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click5/click5_44.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click5/click5_5.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click5/click5_55.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click5/click5_6.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click5/click5_66.wav",
                    }),
                  ],
                  counter: 0,
                },
              ],
              6: [
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click6/click6_1.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click6/click6_11.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click6/click6_2.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click6/click6_22.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click6/click6_3.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click6/click6_33.wav",
                    }),
                  ],
                  counter: 0,
                },
              ],
              7: [
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click7/click7_1.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click7/click7_11.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click7/click7_2.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click7/click7_22.wav",
                    }),
                  ],
                  counter: 0,
                },
                {
                  sounds: [
                    new u.Howl({
                      src: "../sound/click7/click7_3.wav",
                    }),
                    new u.Howl({
                      src: "../sound/click7/click7_33.wav",
                    }),
                  ],
                  counter: 0,
                },
              ],
            });
        }
        t.previewClick = function (e) {
          null === m && g();
          const t = m;
          Object.keys(t).includes(e) &&
            (t[e][0].sounds[0].seek(0), t[e][0].sounds[0].play());
        };
        let v = "KeyA";
        $(document).on("keydown", (e) => {
          v = e.code || "KeyA";
        });
        const y = {
          C: [
            16.35, 32.7, 65.41, 130.81, 261.63, 523.25, 1046.5, 2093, 4186.01,
          ],
          Db: [
            17.32, 34.65, 69.3, 138.59, 277.18, 554.37, 1108.73, 2217.46,
            4434.92,
          ],
          D: [
            18.35, 36.71, 73.42, 146.83, 293.66, 587.33, 1174.66, 2349.32,
            4698.64,
          ],
          Eb: [
            19.45, 38.89, 77.78, 155.56, 311.13, 622.25, 1244.51, 2489.02,
            4978.03,
          ],
          E: [20.6, 41.2, 82.41, 164.81, 329.63, 659.26, 1318.51, 2637.02],
          F: [21.83, 43.65, 87.31, 174.61, 349.23, 698.46, 1396.91, 2793.83],
          Gb: [23.12, 46.25, 92.5, 185, 369.99, 739.99, 1479.98, 2959.96],
          G: [24.5, 49, 98, 196, 392, 783.99, 1567.98, 3135.96],
          Ab: [25.96, 51.91, 103.83, 207.65, 415.3, 830.61, 1661.22, 3322.44],
          A: [27.5, 55, 110, 220, 440, 880, 1760, 3520],
          Bb: [29.14, 58.27, 116.54, 233.08, 466.16, 932.33, 1864.66, 3729.31],
          B: [30.87, 61.74, 123.47, 246.94, 493.88, 987.77, 1975.53, 3951.07],
        };
        function b(e, t = 0) {
          return (o) => {
            var n;
            return null !== (n = e[o + t]) && void 0 !== n ? n : 0;
          };
        }
        const w = {
            KeyZ: b(y.C),
            KeyS: b(y.Db),
            KeyX: b(y.D),
            KeyD: b(y.Eb),
            KeyC: b(y.E),
            KeyV: b(y.F),
            KeyG: b(y.Gb),
            KeyB: b(y.G),
            KeyH: b(y.Ab),
            KeyN: b(y.A),
            KeyJ: b(y.Bb),
            KeyM: b(y.B),
            Comma: b(y.C, 1),
            KeyL: b(y.Db, 1),
            Period: b(y.D, 1),
            Semicolon: b(y.Eb, 1),
            Slash: b(y.E, 1),
            KeyQ: b(y.C, 1),
            Digit2: b(y.Db, 1),
            KeyW: b(y.D, 1),
            Digit3: b(y.Eb, 1),
            KeyE: b(y.E, 1),
            KeyR: b(y.F, 1),
            Digit5: b(y.Gb, 1),
            KeyT: b(y.G, 1),
            Digit6: b(y.Ab, 1),
            KeyY: b(y.A, 1),
            Digit7: b(y.Bb, 1),
            KeyU: b(y.B, 1),
            KeyI: b(y.C, 2),
            Digit9: b(y.Db, 2),
            KeyO: b(y.D, 2),
            Digit0: b(y.Eb, 2),
            KeyP: b(y.E, 2),
            BracketLeft: b(y.F, 2),
            Equal: b(y.Gb, 2),
            BracketRight: b(y.G, 2),
          },
          _ = {
            8: "sine",
            9: "sawtooth",
            10: "square",
            11: "triangle",
          };
        let C;
        function S() {
          if (null !== C)
            try {
              C = new AudioContext();
            } catch (e) {
              (C = null),
                console.error(e),
                f.add(
                  (0, d.createErrorMessage)(
                    e,
                    "Error initializing audio context"
                  ) + ". Notes will not play.",
                  -1
                );
            }
        }
        const x = {
          pentatonic: ["C", "D", "E", "G", "A"],
          wholetone: ["C", "D", "E", "Gb", "Ab", "Bb"],
        };
        function P(e) {
          const t = {
            position: 0,
            octave: 4,
            direction: 1,
          };
          return () => {
            null === m && g(), T(e, t);
          };
        }
        const k = {
          position: 0,
          octave: 4,
          direction: 1,
        };
        function T(e, t) {
          if ((void 0 === C && S(), !C)) return;
          const o = (0, d.randomIntFromRange)(0, x[e].length - 1);
          Math.random() < 0.5 && (t.octave += t.direction),
            t.octave >= 6 && (t.direction = -1),
            t.octave <= 4 && (t.direction = 1);
          const n = x[e][o],
            i = y[n][t.octave],
            a = C.createOscillator(),
            r = C.createGain();
          (a.type = "sine"),
            (r.gain.value = parseFloat(s.default.soundVolume) / 10),
            a.connect(r),
            r.connect(C.destination),
            (a.frequency.value = i),
            a.start(C.currentTime),
            r.gain.setTargetAtTime(0, C.currentTime, 0.3),
            a.stop(C.currentTime + 2);
        }
        function O(e, t) {
          var o;
          if ((void 0 === C && S(), !C)) return;
          if (((v = null != e ? e : v), !(v in w))) return;
          const n = 3 + (c.leftState || c.rightState || p.capsState ? 1 : 0),
            i = null === (o = w[v]) || void 0 === o ? void 0 : o.call(w, n),
            a = C.createOscillator(),
            r = C.createGain();
          (a.type = null != t ? t : _[s.default.playSoundOnClick]),
            (r.gain.value = parseFloat(s.default.soundVolume) / 10),
            a.connect(r),
            r.connect(C.destination),
            (a.frequency.value = i),
            a.start(C.currentTime),
            r.gain.setTargetAtTime(0, C.currentTime, 0.15),
            a.stop(C.currentTime + 0.5);
        }
        (t.scaleConfigurations = {
          12: {
            name: "pentatonic",
            preview: P("pentatonic"),
            meta: k,
          },
          13: {
            name: "wholetone",
            preview: P("wholetone"),
            meta: k,
          },
        }),
          (t.playNote = O),
          (t.playClick = function (e) {
            if ("off" === s.default.playSoundOnClick) return;
            if (s.default.playSoundOnClick in t.scaleConfigurations) {
              const { name: e, meta: o } =
                t.scaleConfigurations[s.default.playSoundOnClick];
              return void T(e, o);
            }
            if (s.default.playSoundOnClick in _)
              return void O(null != e ? e : void 0);
            null === m && g();
            const o = m[s.default.playSoundOnClick];
            if (void 0 === o) throw new Error("Invalid click sound ID");
            const n = (0, d.randomElementFromArray)(o),
              i = n.sounds[n.counter];
            n.counter++,
              2 === n.counter && (n.counter = 0),
              i.seek(0),
              i.play();
          }),
          (t.playError = function () {
            if ("off" === s.default.playSoundOnError) return;
            null === h &&
              null === h &&
              (h = {
                1: [
                  {
                    sounds: [
                      new u.Howl({
                        src: "../sound/error1/error1_1.wav",
                      }),
                      new u.Howl({
                        src: "../sound/error1/error1_1.wav",
                      }),
                    ],
                    counter: 0,
                  },
                ],
                2: [
                  {
                    sounds: [
                      new u.Howl({
                        src: "../sound/error2/error2_1.wav",
                      }),
                      new u.Howl({
                        src: "../sound/error2/error2_1.wav",
                      }),
                    ],
                    counter: 0,
                  },
                ],
                3: [
                  {
                    sounds: [
                      new u.Howl({
                        src: "../sound/error3/error3_1.wav",
                      }),
                      new u.Howl({
                        src: "../sound/error3/error3_1.wav",
                      }),
                    ],
                    counter: 0,
                  },
                ],
              });
            const e = h[s.default.playSoundOnError];
            if (void 0 === e) throw new Error("Invalid error sound ID");
            const t = (0, d.randomElementFromArray)(e),
              o = t.sounds[t.counter];
            t.counter++,
              2 === t.counter && (t.counter = 0),
              o.seek(0),
              o.play();
          }),
          l.subscribe((e, t) => {
            var o;
            "playSoundOnClick" === e && "off" !== t && g(),
              "soundVolume" === e && ((o = parseFloat(t)), u.Howler.volume(o));
          });
      },
      9343: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.loadActiveFromLocalStorage =
            t.toggle =
            t.set =
            t.clear =
            t.saveActiveToLocalStorage =
              void 0);
        const r = a(o(6350)),
          s = a(o(2453));
        function u() {
          var e, t;
          const o = [];
          try {
            null ===
              (t =
                null === (e = r.getSnapshot()) || void 0 === e
                  ? void 0
                  : e.tags) ||
              void 0 === t ||
              t.forEach((e) => {
                !0 === e.active && o.push(e._id);
              }),
              window.localStorage.setItem("activeTags", JSON.stringify(o));
          } catch (e) {}
        }
        function l(e, t = !1) {
          var o, n;
          null ===
            (n =
              null === (o = r.getSnapshot()) || void 0 === o
                ? void 0
                : o.tags) ||
            void 0 === n ||
            n.forEach((t) => {
              t._id === e &&
                (void 0 === t.active
                  ? (t.active = !0)
                  : (t.active = !t.active));
            }),
            s.update(),
            t || u();
        }
        (t.saveActiveToLocalStorage = u),
          (t.clear = function (e = !1) {
            var t;
            const o = r.getSnapshot();
            o &&
              ((o.tags =
                null === (t = o.tags) || void 0 === t
                  ? void 0
                  : t.map((e) => ((e.active = !1), e))),
              r.setSnapshot(o),
              s.update(),
              e || u());
          }),
          (t.set = function (e, t, o = !1) {
            var n;
            const i = r.getSnapshot();
            i &&
              ((i.tags =
                null === (n = i.tags) || void 0 === n
                  ? void 0
                  : n.map((o) => (o._id === e && (o.active = t), o))),
              r.setSnapshot(i),
              s.update(),
              o || u());
          }),
          (t.toggle = l),
          (t.loadActiveFromLocalStorage = function () {
            var e;
            let t = window.localStorage.getItem("activeTags");
            if (null != t && "" !== t) {
              try {
                t = null !== (e = JSON.parse(t)) && void 0 !== e ? e : [];
              } catch (e) {
                t = [];
              }
              t.forEach((e) => {
                l(e, !0);
              }),
                u();
            }
          });
      },
      743: function (e, t, o) {
        var n,
          i,
          a,
          r =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          s =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          u =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    r(t, e, o);
              return s(t, e), t;
            },
          l =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.randomizeTheme =
            t.clearPreview =
            t.preview =
            t.loadStyle =
            t.colorVars =
            t.randomTheme =
              void 0);
        const d = u(o(4203)),
          c = u(o(1833)),
          p = u(o(3388)),
          f = u(o(6705)),
          h = u(o(2183)),
          m = u(o(1446)),
          g = u(o(6350)),
          v = u(o(3368)),
          y = u(o(9817)),
          b = u(o(3326)),
          w = o(2189);
        t.randomTheme = null;
        let _ = !1,
          C = 0;
        t.colorVars = [
          "--bg-color",
          "--main-color",
          "--caret-color",
          "--sub-color",
          "--sub-alt-color",
          "--text-color",
          "--error-color",
          "--error-extra-color",
          "--colorful-error-color",
          "--colorful-error-extra-color",
        ];
        let S = [];
        function x(e) {
          return l(this, void 0, void 0, function* () {
            return new Promise((t) => {
              function o() {
                console.debug("Theme controller swapping elements");
                const e = $("#currentTheme"),
                  t = $("#nextTheme");
                0 !== t.length
                  ? (e.remove(), t.attr("id", "currentTheme"))
                  : console.debug(
                      "Theme controller failed to swap elements, next is missing"
                    );
              }
              console.debug("Theme controller loading style", e),
                S.push(
                  setTimeout(() => {
                    y.show();
                  }, 100)
                ),
                $("#nextTheme").remove();
              const n = document.querySelector("#currentTheme"),
                i = document.createElement("link");
              (i.type = "text/css"),
                (i.rel = "stylesheet"),
                (i.id = "nextTheme"),
                (i.onload = () => {
                  console.debug("Theme controller loaded style", e),
                    y.hide(),
                    o(),
                    S.map((e) => clearTimeout(e)),
                    (S = []),
                    $("#keymap .keymapKey").stop(!0, !0).removeAttr("style"),
                    t();
                }),
                (i.onerror = (n) => {
                  console.debug("Theme controller failed to load style", e, n),
                    console.error(`Failed to load theme ${e}`, n),
                    y.hide(),
                    v.add("Failed to load theme", 0),
                    o(),
                    S.map((e) => clearTimeout(e)),
                    (S = []),
                    $("#keymap .keymapKey").stop(!0, !0).removeAttr("style"),
                    t();
                }),
                (i.href =
                  "custom" === e
                    ? "/./themes/serika_dark.css"
                    : `/./themes/${e}.css`),
                n
                  ? (console.debug(
                      "Theme controller inserting link after current theme",
                      i
                    ),
                    n.after(i))
                  : (console.debug(
                      "Theme controller appending link to the head",
                      i
                    ),
                    document.head.appendChild(i));
            });
          });
        }
        function P(e, o, n = !1) {
          return l(this, void 0, void 0, function* () {
            console.debug("Theme controller applying theme", e, o, n),
              (function () {
                console.debug("Theme controller clearing custom theme");
                for (const e of t.colorVars)
                  document.documentElement.style.setProperty(e, "");
              })();
            const i = o ? "custom" : e;
            if (
              (d.reset(),
              $(".keymapKey").attr("style", ""),
              yield x(i),
              d.update(),
              (f.default.customTheme && !n) || o)
            ) {
              const e = null != o ? o : f.default.customThemeColors;
              for (let o = 0; o < t.colorVars.length; o++) {
                const n = t.colorVars[o];
                document.documentElement.style.setProperty(n, e[o]);
              }
            }
            b.log("changedTheme", {
              theme: i,
            });
            const a = yield d.getAll();
            $(".keymapKey").attr("style", ""),
              c.updateAllChartColors(),
              (function () {
                l(this, void 0, void 0, function* () {
                  setTimeout(
                    () =>
                      l(this, void 0, void 0, function* () {
                        let e, t;
                        (t = yield d.get("bg")),
                          (e = yield d.get("main")),
                          p.isDevEnvironment() && ([e, t] = [t, e]),
                          t === e && ((t = "#111"), (e = "#eee"));
                        const o = `\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">\n  <style>\n    #bg{fill:${t};}\n    path{fill:${e};}\n  </style>\n  <g>\n    <path id="bg" d="M0 16Q0 0 16 0h32q16 0 16 16v32q0 16-16 16H16Q0 64 0 48"/>\n    <path d="M9.09 24.1v21.2h5.12V33.1q.256-4.61 4.48-4.61 3.46.384 3.46 3.84v12.9h5.12v-11.5q-.128-5.25 4.48-5.25 3.46.384 3.46 3.84v12.9h5.12v-12.2q0-9.47-7.04-9.47-4.22 0-7.04 3.46-2.18-3.46-6.02-3.46-3.46 0-6.02 2.43v-2.05M47 18.9v5.12h-4.61v5.12H47v16.1h5.12v-16.1h4.61v-5.12h-4.61V18.9"/>\n  </g>\n</svg>`;
                        $("#favicon").attr(
                          "href",
                          "data:image/svg+xml;base64," + btoa(o)
                        );
                      }),
                    125
                  );
                });
              })(),
              $("#metaThemeColor").attr("content", a.bg),
              (function (e) {
                let t = f.default.theme;
                f.default.customTheme && (t = "custom"),
                  e && (t = e),
                  (t = t.replace(/_/g, " ")),
                  $(".current-theme .text").text(t);
              })(n ? e : void 0);
          });
        }
        function k(e, t) {
          T(e, t);
        }
        (t.loadStyle = x), (t.preview = k);
        const T = (0, w.debounce)(250, (e, t) => {
          (_ = !0), P(e, t, !0);
        });
        function O(e, t = !1) {
          return l(this, void 0, void 0, function* () {
            console.debug("Theme controller setting theme", e, t),
              yield P(e, void 0, t),
              !t &&
                f.default.autoSwitchTheme &&
                ((0, f.setAutoSwitchTheme)(!1),
                v.add("Auto switch theme disabled", 0));
          });
        }
        function M(e = !0) {
          return l(this, void 0, void 0, function* () {
            _ &&
              ((_ = !1),
              (t.randomTheme = null),
              e &&
                (f.default.customTheme
                  ? yield P("custom")
                  : yield P(f.default.theme)));
          });
        }
        t.clearPreview = M;
        let A = [];
        function j() {
          var e, t;
          return l(this, void 0, void 0, function* () {
            let o;
            try {
              o = yield p.getThemesList();
            } catch (e) {
              return void console.error(
                p.createErrorMessage(e, "Failed to update random theme list")
              );
            }
            "fav" === f.default.randomTheme && f.default.favThemes.length > 0
              ? (A = f.default.favThemes)
              : "light" === f.default.randomTheme
              ? (A = o
                  .filter((e) => p.isColorLight(e.bgColor))
                  .map((e) => e.name))
              : "dark" === f.default.randomTheme
              ? (A = o
                  .filter((e) => p.isColorDark(e.bgColor))
                  .map((e) => e.name))
              : "on" === f.default.randomTheme
              ? (A = o.map((e) => e.name))
              : "custom" === f.default.randomTheme &&
                g.getSnapshot() &&
                (A =
                  null !==
                    (t =
                      null === (e = g.getSnapshot()) || void 0 === e
                        ? void 0
                        : e.customThemes.map((e) => e._id)) && void 0 !== t
                    ? t
                    : []),
              p.shuffle(A),
              (C = 0);
          });
        }
        function W() {
          "max" === f.default.customBackgroundSize
            ? $(".customBackground img").css({
                objectFit: "",
              })
            : $(".customBackground img").css({
                objectFit: f.default.customBackgroundSize,
              });
        }
        (t.randomizeTheme = function () {
          var e, o, n, i;
          return l(this, void 0, void 0, function* () {
            if (0 === A.length && (yield j(), 0 === A.length)) return;
            let a;
            if (
              ((t.randomTheme = A[C]),
              C++,
              C >= A.length && (p.shuffle(A), (C = 0)),
              "custom" === f.default.randomTheme)
            ) {
              const o =
                null === (e = g.getSnapshot()) || void 0 === e
                  ? void 0
                  : e.customThemes.find((e) => e._id === t.randomTheme);
              (a = null == o ? void 0 : o.colors), (t.randomTheme = "custom");
            }
            if ((k(t.randomTheme, a), C >= A.length)) {
              let e = t.randomTheme.replace(/_/g, " ");
              "custom" === f.default.randomTheme &&
                (e = (
                  null !==
                    (i =
                      null ===
                        (n =
                          null === (o = g.getSnapshot()) || void 0 === o
                            ? void 0
                            : o.customThemes.find(
                                (e) => e._id === t.randomTheme
                              )) || void 0 === n
                        ? void 0
                        : n.name) && void 0 !== i
                    ? i
                    : "custom"
                ).replace(/_/g, " ")),
                v.add(e, 0);
            }
          });
        }),
          null ===
            (a =
              null ===
                (i =
                  null === (n = window.matchMedia) || void 0 === n
                    ? void 0
                    : n.call(window, "(prefers-color-scheme: dark)")) ||
              void 0 === i
                ? void 0
                : i.addEventListener) ||
            void 0 === a ||
            a.call(i, "change", (e) => {
              f.default.autoSwitchTheme &&
                !f.default.customTheme &&
                (e.matches
                  ? O(f.default.themeDark, !0)
                  : O(f.default.themeLight, !0));
            }),
          m.subscribe((e, o, n) =>
            l(void 0, void 0, void 0, function* () {
              "randomTheme" === e && j(),
                "customTheme" === e &&
                  (o ? yield O("custom") : yield O(f.default.theme)),
                "customThemeColors" === e &&
                  (n ? k("custom") : yield O("custom")),
                "theme" === e && (yield M(!1), yield O(o)),
                "setThemes" === e &&
                  (yield M(!1),
                  f.default.autoSwitchTheme
                    ? window.matchMedia &&
                      window.matchMedia("(prefers-color-scheme: dark)").matches
                      ? yield O(f.default.themeDark, !0)
                      : yield O(f.default.themeLight, !0)
                    : o
                    ? yield O("custom")
                    : yield O(f.default.theme)),
                "randomTheme" === e &&
                  "off" === o &&
                  (yield (function () {
                    return l(this, void 0, void 0, function* () {
                      null !== t.randomTheme &&
                        ((t.randomTheme = null),
                        f.default.customTheme
                          ? yield P("custom")
                          : yield P(f.default.theme));
                    });
                  })()),
                "customBackground" === e &&
                  ("" === f.default.customBackground
                    ? ($("#words").removeClass("noErrorBorder"),
                      $("#resultWordsHistory").removeClass("noErrorBorder"),
                      $(".customBackground img").remove())
                    : ($("#words").addClass("noErrorBorder"),
                      $("#resultWordsHistory").addClass("noErrorBorder"),
                      $(".customBackground").html(
                        `<img src="${f.default.customBackground}" alt="" />`
                      ),
                      h.apply(),
                      W())),
                "customBackgroundSize" === e && W(),
                "autoSwitchTheme" === e &&
                  (o
                    ? window.matchMedia &&
                      window.matchMedia("(prefers-color-scheme: dark)").matches
                      ? yield O(f.default.themeDark, !0)
                      : yield O(f.default.themeLight, !0)
                    : yield O(f.default.theme)),
                "themeLight" !== e ||
                  !f.default.autoSwitchTheme ||
                  (window.matchMedia &&
                    window.matchMedia("(prefers-color-scheme: dark)")
                      .matches) ||
                  n ||
                  (yield O(f.default.themeLight, !0)),
                "themeDark" === e &&
                  f.default.autoSwitchTheme &&
                  window.matchMedia &&
                  window.matchMedia("(prefers-color-scheme: dark)").matches &&
                  !n &&
                  (yield O(f.default.themeDark, !0));
            })
          );
      },
      6350: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.setStreak =
            t.addBadge =
            t.addXp =
            t.updateLocalStats =
            t.saveLocalResult =
            t.saveConfig =
            t.updateLbMemory =
            t.saveLocalTagPB =
            t.getLocalTagPB =
            t.saveLocalPB =
            t.getLocalPB =
            t.getUserDailyBest =
            t.getUserAverage10 =
            t.deleteCustomTheme =
            t.editCustomTheme =
            t.addCustomTheme =
            t.getUserResults =
            t.initSnapshot =
            t.setSnapshot =
            t.getSnapshot =
              void 0);
        const u = s(o(7355)),
          l = a(o(3368)),
          d = a(o(4335)),
          c = s(o(2191)),
          p = o(6617),
          f = o(8361),
          h = a(o(3285)),
          m = o(3388);
        let g;
        function v() {
          return g;
        }
        function y(e) {
          const t = null == g ? void 0 : g.banned,
            o = null == g ? void 0 : g.verified,
            n = null == g ? void 0 : g.lbOptOut;
          try {
            null == e || delete e.banned;
          } catch (e) {}
          try {
            null == e || delete e.verified;
          } catch (e) {}
          try {
            null == e || delete e.lbOptOut;
          } catch (e) {}
          (g = e), g && ((g.banned = t), (g.verified = o), (g.lbOptOut = n));
        }
        function b(e) {
          var t;
          return r(this, void 0, void 0, function* () {
            if (
              !(null === p.Auth || void 0 === p.Auth
                ? void 0
                : p.Auth.currentUser)
            )
              return !1;
            if (!g) return !1;
            if (void 0 !== g.results && (void 0 === e || g.results.length > e))
              return !1;
            if (!h.get()) return !1;
            void 0 === g.results &&
              (d.updateText("Downloading results..."), d.updateBar(90));
            const o = yield u.default.results.get(e);
            if (200 !== o.status)
              return l.add("Error getting results: " + o.message, -1), !1;
            const n = o.data;
            if (
              (null == n || n.sort((e, t) => t.timestamp - e.timestamp),
              n.forEach((e) => {
                void 0 === e.bailedOut && (e.bailedOut = !1),
                  void 0 === e.blindMode && (e.blindMode = !1),
                  void 0 === e.lazyMode && (e.lazyMode = !1),
                  void 0 === e.difficulty && (e.difficulty = "normal"),
                  void 0 === e.funbox && (e.funbox = "none"),
                  (void 0 !== e.language && null !== e.language) ||
                    (e.language = "english"),
                  void 0 === e.numbers && (e.numbers = !1),
                  void 0 === e.punctuation && (e.punctuation = !1),
                  void 0 === e.quoteLength && (e.quoteLength = -1),
                  void 0 === e.restartCount && (e.restartCount = 0),
                  void 0 === e.incompleteTestSeconds &&
                    (e.incompleteTestSeconds = 0),
                  void 0 === e.afkDuration && (e.afkDuration = 0),
                  void 0 === e.tags && (e.tags = []),
                  void 0 !== e.correctChars &&
                    void 0 !== e.incorrectChars &&
                    (e.charStats = [e.correctChars, e.incorrectChars, 0, 0]);
              }),
              void 0 !== g.results && g.results.length > 0)
            ) {
              const e =
                  null === (t = (0, m.lastElementFromArray)(g.results)) ||
                  void 0 === t
                    ? void 0
                    : t.timestamp,
                o = n.filter((t) => t.timestamp < e);
              g.results.push(...o);
            } else g.results = n;
            return !0;
          });
        }
        (t.getSnapshot = v),
          (t.setSnapshot = y),
          (t.initSnapshot = function () {
            var e, t, o, n, i, a, s, l, d, h, m, v, y, b, w, $, _, C, S, x;
            return r(this, void 0, void 0, function* () {
              const r = Object.assign({}, f.defaultSnap);
              try {
                if (
                  !(null === p.Auth || void 0 === p.Auth
                    ? void 0
                    : p.Auth.currentUser)
                )
                  return !1;
                const f = yield u.default.users.getData(),
                  [P, k] = yield Promise.all([
                    u.default.configs.get(),
                    u.default.presets.get(),
                  ]);
                if (200 !== f.status)
                  throw {
                    message: `${f.message} (user)`,
                    responseCode: f.status,
                  };
                if (200 !== P.status)
                  throw {
                    message: `${P.message} (config)`,
                    responseCode: P.status,
                  };
                if (200 !== k.status)
                  throw {
                    message: `${k.message} (presets)`,
                    responseCode: k.status,
                  };
                const [T, O, M] = [f, P, k].map((e) => e.data);
                (r.name = T.name),
                  (r.personalBests = T.personalBests),
                  (null !== (e = r.personalBests) && void 0 !== e) ||
                    (r.personalBests = {
                      time: {},
                      words: {},
                      quote: {},
                      zen: {},
                      custom: {},
                    });
                for (const e of ["time", "words", "quote", "zen", "custom"])
                  (null !== (t = (S = r.personalBests)[(x = e)]) &&
                    void 0 !== t) ||
                    (S[x] = {});
                (r.banned = T.banned),
                  (r.lbOptOut = T.lbOptOut),
                  (r.verified = T.verified),
                  (r.discordId = T.discordId),
                  (r.discordAvatar = T.discordAvatar),
                  (r.needsToChangeName = T.needsToChangeName),
                  (r.typingStats = {
                    timeTyping: T.timeTyping,
                    startedTests: T.startedTests,
                    completedTests: T.completedTests,
                  }),
                  (r.quoteMod = T.quoteMod),
                  (r.favoriteQuotes =
                    null !== (o = T.favoriteQuotes) && void 0 !== o ? o : {}),
                  (r.quoteRatings = T.quoteRatings),
                  (r.favouriteThemes =
                    void 0 === T.favouriteThemes ? [] : T.favouriteThemes),
                  (r.details = T.profileDetails),
                  (r.addedAt = T.addedAt),
                  (r.inventory = T.inventory),
                  (r.xp = null !== (n = T.xp) && void 0 !== n ? n : 0),
                  (r.inboxUnreadSize =
                    null !== (i = T.inboxUnreadSize) && void 0 !== i ? i : 0),
                  (r.streak =
                    null !==
                      (s =
                        null === (a = null == T ? void 0 : T.streak) ||
                        void 0 === a
                          ? void 0
                          : a.length) && void 0 !== s
                      ? s
                      : 0),
                  (r.maxStreak =
                    null !==
                      (d =
                        null === (l = null == T ? void 0 : T.streak) ||
                        void 0 === l
                          ? void 0
                          : l.maxLength) && void 0 !== d
                      ? d
                      : 0),
                  (r.filterPresets =
                    null !== (h = T.resultFilterPresets) && void 0 !== h
                      ? h
                      : []),
                  (r.isPremium = null == T ? void 0 : T.isPremium);
                const A =
                  null === (m = null == T ? void 0 : T.streak) || void 0 === m
                    ? void 0
                    : m.hourOffset;
                if (
                  ((r.streakHourOffset = null == A ? void 0 : A),
                  (null === (v = T.lbMemory) || void 0 === v
                    ? void 0
                    : v.time15) ||
                  (null === (y = T.lbMemory) || void 0 === y
                    ? void 0
                    : y.time60)
                    ? (r.lbMemory = {})
                    : T.lbMemory && (r.lbMemory = T.lbMemory),
                  O)
                ) {
                  const e = Object.assign({}, c.default);
                  for (const t in O.config) {
                    const o = O.config[t];
                    e[t] = o;
                  }
                  r.config = e;
                }
                r.customThemes =
                  null !== (b = T.customThemes) && void 0 !== b ? b : [];
                const j = null !== (w = T.tags) && void 0 !== w ? w : [];
                return (
                  j.forEach((e) => {
                    var t, o, n, i;
                    (e.display = e.name.replaceAll("_", " ")),
                      (null !== (t = e.personalBests) && void 0 !== t) ||
                        (e.personalBests = {
                          time: {},
                          words: {},
                          quote: {},
                          zen: {},
                          custom: {},
                        });
                    for (const t of ["time", "words", "quote", "zen", "custom"])
                      (null !== (o = (n = e.personalBests)[(i = t)]) &&
                        void 0 !== o) ||
                        (n[i] = {});
                  }),
                  (r.tags = j),
                  (r.tags =
                    null === ($ = r.tags) || void 0 === $
                      ? void 0
                      : $.sort((e, t) =>
                          e.name > t.name ? 1 : e.name < t.name ? -1 : 0
                        )),
                  (r.presets = M),
                  null === (_ = r.presets) ||
                    void 0 === _ ||
                    _.forEach((e) => {
                      e.display = e.name.replaceAll("_", " ");
                    }),
                  (r.presets =
                    null === (C = r.presets) || void 0 === C
                      ? void 0
                      : C.sort((e, t) =>
                          e.name > t.name ? 1 : e.name < t.name ? -1 : 0
                        )),
                  (g = r),
                  g
                );
              } catch (e) {
                throw ((g = f.defaultSnap), e);
              }
            });
          }),
          (t.getUserResults = b),
          (t.addCustomTheme = function (e) {
            return r(this, void 0, void 0, function* () {
              if (!g) return !1;
              if (g.customThemes.length >= 10)
                return l.add("Too many custom themes!", 0), !1;
              const t = yield u.default.users.addCustomTheme(e);
              if (200 !== t.status)
                return l.add("Error adding custom theme: " + t.message, -1), !1;
              const o = Object.assign(Object.assign({}, e), {
                _id: t.data.theme._id,
              });
              return g.customThemes.push(o), !0;
            });
          }),
          (t.editCustomTheme = function (e, t) {
            return r(this, void 0, void 0, function* () {
              if (
                !(null === p.Auth || void 0 === p.Auth
                  ? void 0
                  : p.Auth.currentUser)
              )
                return !1;
              if (!g) return !1;
              const o = g.customThemes.find((t) => t._id === e);
              if (!o)
                return (
                  l.add(
                    "Editing failed: Custom theme with id: " +
                      e +
                      " does not exist",
                    -1
                  ),
                  !1
                );
              const n = yield u.default.users.editCustomTheme(e, t);
              if (200 !== n.status)
                return (
                  l.add("Error editing custom theme: " + n.message, -1), !1
                );
              const i = Object.assign(Object.assign({}, t), {
                _id: e,
              });
              return (g.customThemes[g.customThemes.indexOf(o)] = i), !0;
            });
          }),
          (t.deleteCustomTheme = function (e) {
            return r(this, void 0, void 0, function* () {
              if (
                !(null === p.Auth || void 0 === p.Auth
                  ? void 0
                  : p.Auth.currentUser)
              )
                return !1;
              if (!g) return !1;
              if (!g.customThemes.find((t) => t._id === e)) return !1;
              const t = yield u.default.users.deleteCustomTheme(e);
              return 200 !== t.status
                ? (l.add("Error deleting custom theme: " + t.message, -1), !1)
                : ((g.customThemes = g.customThemes.filter((t) => t._id !== e)),
                  !0);
            });
          }),
          (t.getUserAverage10 = function (e, t, o, n, i, a) {
            return r(this, void 0, void 0, function* () {
              const r = v();
              return r
                ? null === r || null === (yield b())
                  ? [0, 0]
                  : (function () {
                      var s;
                      const u = [];
                      null === (s = null == r ? void 0 : r.tags) ||
                        void 0 === s ||
                        s.forEach((e) => {
                          !0 === e.active && u.push(e._id);
                        });
                      let l = 0,
                        d = 0,
                        c = 0,
                        p = 0,
                        f = 0,
                        h = 0;
                      if (void 0 !== (null == r ? void 0 : r.results))
                        for (const s of r.results)
                          if (
                            s.mode === e &&
                            s.punctuation === o &&
                            s.language === n &&
                            s.difficulty === i &&
                            (s.lazyMode === a ||
                              (void 0 === s.lazyMode && !1 === a)) &&
                            (0 === u.length ||
                              u.some((e) => s.tags.includes(e)))
                          ) {
                            if (`${s.mode2}` != `${t}` && "quote" !== e)
                              continue;
                            if (
                              (h < 10 && ((c += s.wpm), (p += s.acc), h++),
                              `${s.mode2}` == `${t}` &&
                                ((l += s.wpm), (d += s.acc), f++, f >= 10))
                            )
                              break;
                          }
                      return 0 === f && "quote" === e
                        ? [c / h, p / h]
                        : [l / f, d / f];
                    })()
                : [0, 0];
            });
          }),
          (t.getUserDailyBest = function (e, t, o, n, i, a) {
            return r(this, void 0, void 0, function* () {
              const r = v();
              return r
                ? null === r || null === (yield b())
                  ? 0
                  : (function () {
                      var s;
                      const u = [];
                      null === (s = null == r ? void 0 : r.tags) ||
                        void 0 === s ||
                        s.forEach((e) => {
                          !0 === e.active && u.push(e._id);
                        });
                      let l = 0;
                      if (void 0 !== (null == r ? void 0 : r.results))
                        for (const s of r.results)
                          if (
                            s.mode === e &&
                            s.punctuation === o &&
                            s.language === n &&
                            s.difficulty === i &&
                            (s.lazyMode === a ||
                              (void 0 === s.lazyMode && !1 === a)) &&
                            (0 === u.length ||
                              u.some((e) => s.tags.includes(e)))
                          ) {
                            if (s.timestamp < Date.now() - 864e5) continue;
                            if (`${s.mode2}` != `${t}` && "quote" !== e)
                              continue;
                            s.wpm > l && (l = s.wpm);
                          }
                      return l;
                    })()
                : 0;
            });
          }),
          (t.getLocalPB = function (e, t, o, n, i, a, s) {
            return r(this, void 0, void 0, function* () {
              return (yield (0, m.getFunboxList)())
                .filter((e) =>
                  null == s ? void 0 : s.split("#").includes(e.name)
                )
                .every((e) => e.canGetPb)
                ? null === g
                  ? 0
                  : (function () {
                      let r = 0;
                      try {
                        return (null == g ? void 0 : g.personalBests)
                          ? (g.personalBests[e][t].forEach((e) => {
                              e.punctuation === o &&
                                e.difficulty === i &&
                                e.language === n &&
                                (e.lazyMode === a ||
                                  (void 0 === e.lazyMode && !1 === a)) &&
                                (r = e.wpm);
                            }),
                            r)
                          : r;
                      } catch (e) {
                        return r;
                      }
                    })()
                : 0;
            });
          }),
          (t.saveLocalPB = function (e, t, o, n, i, a, s, u, l, d) {
            return r(this, void 0, void 0, function* () {
              "quote" !== e &&
                g &&
                null !== g &&
                (function () {
                  var r, c, p, f, h;
                  if (!g) return;
                  let m = !1;
                  (null !== (r = g.personalBests) && void 0 !== r) ||
                    (g.personalBests = {
                      time: {},
                      words: {},
                      quote: {},
                      zen: {},
                      custom: {},
                    }),
                    (null !== (c = (f = g.personalBests)[e]) && void 0 !== c) ||
                      (f[e] = {
                        [t]: [],
                      }),
                    (null !== (p = (h = g.personalBests[e])[t]) &&
                      void 0 !== p) ||
                      (h[t] = []),
                    g.personalBests[e][t].forEach((e) => {
                      e.punctuation === o &&
                        e.difficulty === i &&
                        e.language === n &&
                        (e.lazyMode === a ||
                          (void 0 === e.lazyMode && !1 === a)) &&
                        ((m = !0),
                        (e.wpm = s),
                        (e.acc = u),
                        (e.raw = l),
                        (e.timestamp = Date.now()),
                        (e.consistency = d),
                        (e.lazyMode = a));
                    }),
                    m ||
                      g.personalBests[e][t].push({
                        language: n,
                        difficulty: i,
                        lazyMode: a,
                        punctuation: o,
                        wpm: s,
                        acc: u,
                        raw: l,
                        timestamp: Date.now(),
                        consistency: d,
                      });
                })();
            });
          }),
          (t.getLocalTagPB = function (e, t, o, n, i, a, s) {
            return r(this, void 0, void 0, function* () {
              return null === g
                ? 0
                : (function () {
                    var r, u, l, d, c, p, f, h, m, g;
                    let y = 0;
                    const b = (
                      null !==
                        (u =
                          null === (r = v()) || void 0 === r
                            ? void 0
                            : r.tags) && void 0 !== u
                        ? u
                        : []
                    ).filter((t) => t._id === e)[0];
                    return (
                      void 0 === b ||
                        ((null !== (l = b.personalBests) && void 0 !== l) ||
                          (b.personalBests = {
                            time: {},
                            words: {},
                            quote: {},
                            zen: {},
                            custom: {},
                          }),
                        (null !== (d = (m = b.personalBests)[t]) &&
                          void 0 !== d) ||
                          (m[t] = {
                            [o]: [],
                          }),
                        (null !== (c = (g = b.personalBests[t])[o]) &&
                          void 0 !== c) ||
                          (g[o] = []),
                        (y =
                          null !==
                            (h =
                              null ===
                                (f = (
                                  null !== (p = b.personalBests[t][o]) &&
                                  void 0 !== p
                                    ? p
                                    : []
                                ).find(
                                  (e) =>
                                    e.punctuation === n &&
                                    e.difficulty === a &&
                                    e.language === i &&
                                    (e.lazyMode === s ||
                                      (void 0 === e.lazyMode && !1 === s))
                                )) || void 0 === f
                                ? void 0
                                : f.wpm) && void 0 !== h
                            ? h
                            : 0)),
                      y
                    );
                  })();
            });
          }),
          (t.saveLocalTagPB = function (e, t, o, n, i, a, s, u, l, d, c) {
            return r(this, void 0, void 0, function* () {
              g &&
                "quote" !== t &&
                null !== g &&
                (function () {
                  var r, p, f, h, m, v;
                  const y =
                    null === (r = null == g ? void 0 : g.tags) || void 0 === r
                      ? void 0
                      : r.filter((t) => t._id === e)[0];
                  (null !== (p = y.personalBests) && void 0 !== p) ||
                    (y.personalBests = {
                      time: {},
                      words: {},
                      quote: {},
                      zen: {},
                      custom: {},
                    }),
                    (null !== (f = (m = y.personalBests)[t]) && void 0 !== f) ||
                      (m[t] = {
                        [o]: [],
                      }),
                    (null !== (h = (v = y.personalBests[t])[o]) &&
                      void 0 !== h) ||
                      (v[o] = []);
                  try {
                    let e = !1;
                    y.personalBests[t][o].forEach((t) => {
                      t.punctuation === n &&
                        t.difficulty === a &&
                        t.language === i &&
                        (t.lazyMode === s ||
                          (void 0 === t.lazyMode && !1 === s)) &&
                        ((e = !0),
                        (t.wpm = u),
                        (t.acc = l),
                        (t.raw = d),
                        (t.timestamp = Date.now()),
                        (t.consistency = c),
                        (t.lazyMode = s));
                    }),
                      e ||
                        y.personalBests[t][o].push({
                          language: i,
                          difficulty: a,
                          lazyMode: s,
                          punctuation: n,
                          wpm: u,
                          acc: l,
                          raw: d,
                          timestamp: Date.now(),
                          consistency: c,
                        });
                  } catch (e) {
                    (y.personalBests = {
                      time: {},
                      words: {},
                      quote: {},
                      zen: {},
                      custom: {},
                    }),
                      (y.personalBests[t][o] = [
                        {
                          language: i,
                          difficulty: a,
                          lazyMode: s,
                          punctuation: n,
                          wpm: u,
                          acc: l,
                          raw: d,
                          timestamp: Date.now(),
                          consistency: c,
                        },
                      ]);
                  }
                })();
            });
          }),
          (t.updateLbMemory = function (e, t, o, n, i = !1) {
            return r(this, void 0, void 0, function* () {
              if ("time" === e) {
                const a = e,
                  r = t,
                  s = v();
                if (!s) return;
                void 0 === s.lbMemory &&
                  (s.lbMemory = {
                    time: {
                      15: {
                        english: 0,
                      },
                      60: {
                        english: 0,
                      },
                    },
                  }),
                  void 0 === s.lbMemory[a] &&
                    (s.lbMemory[a] = {
                      15: {
                        english: 0,
                      },
                      60: {
                        english: 0,
                      },
                    }),
                  void 0 === s.lbMemory[a][r] && (s.lbMemory[a][r] = {});
                const l = s.lbMemory[a][r][o];
                (s.lbMemory[a][r][o] = n),
                  i &&
                    l !== n &&
                    (yield u.default.users.updateLeaderboardMemory(e, t, o, n)),
                  y(s);
              }
            });
          }),
          (t.saveConfig = function (e) {
            return r(this, void 0, void 0, function* () {
              if (
                null === p.Auth || void 0 === p.Auth
                  ? void 0
                  : p.Auth.currentUser
              ) {
                const t = yield u.default.configs.save(e);
                200 !== t.status &&
                  l.add("Failed to save config: " + t.message, -1);
              }
            });
          }),
          (t.saveLocalResult = function (e) {
            const t = v();
            t &&
              null !== t &&
              void 0 !== t.results &&
              (t.results.unshift(e), y(t));
          }),
          (t.updateLocalStats = function (e, t) {
            const o = v();
            o &&
              (void 0 === o.typingStats && (o.typingStats = {}),
              null !== o &&
                void 0 !== o.typingStats &&
                (void 0 === o.typingStats.timeTyping
                  ? (o.typingStats.timeTyping = t)
                  : (o.typingStats.timeTyping += t),
                void 0 === o.typingStats.startedTests
                  ? (o.typingStats.startedTests = e)
                  : (o.typingStats.startedTests += e),
                void 0 === o.typingStats.completedTests
                  ? (o.typingStats.completedTests = 1)
                  : (o.typingStats.completedTests += 1)),
              y(o));
          }),
          (t.addXp = function (e) {
            const t = v();
            t && (void 0 === t.xp && (t.xp = 0), (t.xp += e), y(t));
          }),
          (t.addBadge = function (e) {
            const t = v();
            t &&
              (void 0 === t.inventory &&
                (t.inventory = {
                  badges: [],
                }),
              t.inventory.badges.push(e),
              y(t));
          }),
          (t.setStreak = function (e) {
            const t = v();
            t &&
              ((t.streak = e),
              t.streak > t.maxStreak && (t.maxStreak = t.streak),
              y(t));
          });
      },
      5344: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.updateXpBar = t.update = t.loading = t.skipXpBreakdown = void 0);
        const s = o(6350),
          u = o(6617),
          l = a(o(3388)),
          d = o(4203),
          c = a(o(210));
        let p = !1,
          f = !1;
        function h() {
          return r(this, void 0, void 0, function* () {
            const e = yield (0, d.getAll)(),
              t = $("nav .level");
            t.text(parseInt(t.text()) + 1);
            const o = 2 * Math.random() - 1,
              n = Math.random() + 1;
            t.stop(!0, !0)
              .css({
                backgroundColor: e.main,
                borderSpacing: 100,
              })
              .animate(
                {
                  backgroundColor: e.sub,
                  borderSpacing: 0,
                },
                {
                  step(e) {
                    t.css(
                      "transform",
                      `scale(${1 + (e / 200) * n}) rotate(${(e / 10) * o}deg)`
                    );
                  },
                  duration: 2e3,
                  easing: "easeOutCubic",
                  complete: () => {
                    t.css("background-color", "");
                  },
                }
              );
          });
        }
        (t.skipXpBreakdown = function () {
          f = !0;
        }),
          (t.loading = function (e) {
            e
              ? ($("header nav .account")
                  .css("opacity", 1)
                  .css("pointer-events", "none"),
                p
                  ? ($("header nav .account .loading")
                      .css("opacity", 1)
                      .removeClass("hidden"),
                    $("header nav .account .avatar")
                      .stop(!0, !0)
                      .css({
                        opacity: 1,
                      })
                      .animate(
                        {
                          opacity: 0,
                        },
                        100,
                        () => {
                          $("header nav .account .avatar").addClass("hidden");
                        }
                      ))
                  : ($("header nav .account .loading")
                      .stop(!0, !0)
                      .removeClass("hidden")
                      .css({
                        opacity: 0,
                      })
                      .animate(
                        {
                          opacity: 1,
                        },
                        100
                      ),
                    $("header nav .account .user")
                      .stop(!0, !0)
                      .css({
                        opacity: 1,
                      })
                      .animate(
                        {
                          opacity: 0,
                        },
                        100,
                        () => {
                          $("header nav .account .user").addClass("hidden");
                        }
                      )))
              : ($("header nav .account")
                  .css("opacity", 1)
                  .css("pointer-events", "auto"),
                p
                  ? ($("header nav .account .loading")
                      .css("opacity", 1)
                      .addClass("hidden"),
                    $("header nav .account .avatar")
                      .stop(!0, !0)
                      .removeClass("hidden")
                      .css({
                        opacity: 0,
                      })
                      .animate(
                        {
                          opacity: 1,
                        },
                        100
                      ))
                  : ($("header nav .account .loading")
                      .stop(!0, !0)
                      .css({
                        opacity: 1,
                      })
                      .animate(
                        {
                          opacity: 0,
                        },
                        100,
                        () => {
                          $("header nav .account .loading").addClass("hidden");
                        }
                      ),
                    $("header nav .account .user")
                      .stop(!0, !0)
                      .removeClass("hidden")
                      .css({
                        opacity: 0,
                      })
                      .animate(
                        {
                          opacity: 1,
                        },
                        100
                      )));
          }),
          (t.update = function (e, t, o) {
            return r(this, void 0, void 0, function* () {
              (
                null === u.Auth || void 0 === u.Auth
                  ? void 0
                  : u.Auth.currentUser
              )
                ? (void 0 !== e &&
                    ($("header nav .level").text(Math.floor(l.getLevel(e))),
                    $("header nav .bar").css({
                      width: (l.getLevel(e) % 1) * 100 + "%",
                    })),
                  o && t
                    ? l.getDiscordAvatarUrl(t, o).then((e) => {
                        e &&
                          ($("header nav .account .avatar").css(
                            "background-image",
                            `url(${e})`
                          ),
                          (p = !0),
                          $("header nav .account .user").addClass("hidden"),
                          $("header nav .account .avatar").removeClass(
                            "hidden"
                          ));
                      })
                    : ($("header nav .account .avatar").addClass("hidden"),
                      $("header nav .account .user").removeClass("hidden")),
                  $("nav .textButton.account")
                    .removeClass("hidden")
                    .css({
                      opacity: 0,
                    })
                    .animate(
                      {
                        opacity: 1,
                      },
                      125
                    ))
                : $("nav .textButton.account")
                    .css({
                      opacity: 1,
                    })
                    .animate(
                      {
                        opacity: 0,
                      },
                      125,
                      () => {
                        $("nav .textButton.account").addClass("hidden");
                      }
                    );
            });
          }),
          (t.updateXpBar = function (e, t, o) {
            return r(this, void 0, void 0, function* () {
              f = !1;
              const n = l.getLevel(e),
                i = l.getLevel(e + t),
                a = (0, s.getSnapshot)();
              if (!a) return;
              if (f)
                return (
                  $("nav .level").text(Math.floor(l.getLevel(a.xp))),
                  void $("nav .xpBar")
                    .stop(!0, !0)
                    .css("opacity", 1)
                    .animate(
                      {
                        opacity: 0,
                      },
                      c.get() ? 0 : 250,
                      () => {
                        $("nav .xpBar .xpGain").text("");
                      }
                    )
                );
              const u = (function (e, t) {
                  return r(this, void 0, void 0, function* () {
                    const o = t - e;
                    $("nav .xpBar").stop(!0, !0).css("opacity", 0),
                      yield l.promiseAnimation(
                        $("nav .xpBar"),
                        {
                          opacity: "1",
                        },
                        c.get() ? 0 : 250,
                        "linear"
                      );
                    const n = $("nav .xpBar .bar");
                    if ((n.css("width", (e % 1) * 100 + "%"), t % 1 == 0))
                      yield l.promiseAnimation(
                        n,
                        {
                          width: "100%",
                        },
                        c.get() ? 0 : 1e3,
                        "easeOutExpo"
                      ),
                        h(),
                        n.css("width", "0%");
                    else if (Math.floor(e) === Math.floor(t))
                      yield l.promiseAnimation(
                        n,
                        {
                          width: (t % 1) * 100 + "%",
                        },
                        c.get() ? 0 : 1e3,
                        "easeOutExpo"
                      );
                    else {
                      const e = Math.min(1e3 / o, 200);
                      let t = o,
                        i = !1;
                      for (; t > 1; )
                        t - 1 < 1
                          ? (i && (h(), n.css("width", "0%")),
                            yield l.promiseAnimation(
                              n,
                              {
                                width: "100%",
                              },
                              c.get() ? 0 : l.mapRange(t - 1, 0, 0.5, 1e3, 200),
                              "easeOutQuad"
                            ),
                            t--)
                          : (i && (h(), n.css("width", "0%")),
                            yield l.promiseAnimation(
                              n,
                              {
                                width: "100%",
                              },
                              c.get() ? 0 : e,
                              "linear"
                            ),
                            t--),
                          (i = !0);
                      h(),
                        n.css("width", "0%"),
                        yield l.promiseAnimation(
                          n,
                          {
                            width: (t % 1) * 100 + "%",
                          },
                          c.get() ? 0 : 1e3,
                          "easeOutExpo"
                        );
                    }
                  });
                })(n, i),
                d = (function (e, t) {
                  var o;
                  return r(this, void 0, void 0, function* () {
                    if (!t) return void $("nav .xpBar .xpGain").text(`+${e}`);
                    const n = 1e3;
                    let i = 0;
                    const a = $("nav .xpBar .xpGain"),
                      s = $("nav .xpBar .xpBreakdown");
                    function u(t) {
                      return r(this, void 0, void 0, function* () {
                        f && ((i = e), (t = "")),
                          s
                            .find(".next")
                            .removeClass("next")
                            .addClass("previous"),
                          s.append(
                            `<div class='text next' style="opacity: 0; margin-top: 1rem;">${t}</div>`
                          );
                        const o = s.find(".previous");
                        o.animate(
                          {
                            marginTop: "-1rem",
                            opacity: 0,
                          },
                          c.get() ? 0 : 250,
                          () => {
                            o.remove();
                          }
                        ),
                          setTimeout(() => {
                            a.stop(!0, !0)
                              .text(`+${i}`)
                              .css({
                                borderSpacing: 100,
                              })
                              .animate(
                                {
                                  borderSpacing: 0,
                                },
                                {
                                  step(e) {
                                    a.css(
                                      "transform",
                                      `scale(${1 + e / 300}) translateY(-50%)`
                                    );
                                  },
                                  duration: c.get() ? 0 : 250,
                                  easing: "swing",
                                }
                              );
                          }, 125),
                          yield l.promiseAnimation(
                            s.find(".next"),
                            {
                              opacity: "1",
                              marginTop: "0",
                            },
                            c.get() ? 0 : 250,
                            "swing"
                          );
                      });
                    }
                    s.empty(),
                      a.text("+0"),
                      s.append(
                        `<div class='text next'>time typing +${t.base}</div>`
                      ),
                      (i += null !== (o = t.base) && void 0 !== o ? o : 0),
                      t["100%"]
                        ? (yield l.sleep(n),
                          yield u(`perfect +${t["100%"]}`),
                          (i += t["100%"]))
                        : t.corrected &&
                          (yield l.sleep(n),
                          yield u(`clean +${t.corrected}`),
                          (i += t.corrected)),
                      f ||
                        (t.quote
                          ? (yield l.sleep(n),
                            yield u(`quote +${t.quote}`),
                            (i += t.quote))
                          : (t.punctuation &&
                              (yield l.sleep(n),
                              yield u(`punctuation +${t.punctuation}`),
                              (i += t.punctuation)),
                            t.numbers &&
                              (yield l.sleep(n),
                              yield u(`numbers +${t.numbers}`),
                              (i += t.numbers))),
                        f ||
                          (t.funbox &&
                            (yield l.sleep(n),
                            yield u(`funbox +${t.funbox}`),
                            (i += t.funbox)),
                          f ||
                            (t.streak &&
                              (yield l.sleep(n),
                              yield u(`streak +${t.streak}`),
                              (i += t.streak)),
                            f ||
                              (t.accPenalty &&
                                (yield l.sleep(n),
                                yield u(`accuracy penalty -${t.accPenalty}`),
                                (i -= t.accPenalty)),
                              f ||
                                (t.incomplete &&
                                  (yield l.sleep(n),
                                  yield u(`incomplete tests +${t.incomplete}`),
                                  (i += t.incomplete)),
                                f ||
                                  (t.configMultiplier &&
                                    (yield l.sleep(n),
                                    yield u(
                                      `global multiplier x${t.configMultiplier}`
                                    ),
                                    (i *= t.configMultiplier)),
                                  f ||
                                    (t.daily &&
                                      (yield l.sleep(n),
                                      yield u(`daily bonus +${t.daily}`),
                                      (i += t.daily)),
                                    f || (yield l.sleep(n), yield u("")))))))));
                  });
                })(t, o);
              yield Promise.all([u, d]),
                yield l.sleep(2e3),
                $("nav .level").text(Math.floor(l.getLevel(a.xp))),
                $("nav .xpBar")
                  .stop(!0, !0)
                  .css("opacity", 1)
                  .animate(
                    {
                      opacity: 0,
                    },
                    c.get() ? 0 : 250,
                    () => {
                      $("nav .xpBar .xpGain").text("");
                    }
                  );
            });
          });
      },
      6001: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.setNotificationBubbleVisible = t.addPSA = void 0);
        const u = s(o(1715)),
          l = s(o(7355)),
          d = o(6617),
          c = a(o(5344)),
          p = a(o(6350)),
          f = a(o(8766)),
          h = a(o(7401)),
          m = a(o(3368)),
          g = a(o(3285)),
          v = o(3388),
          y = a(o(590)),
          b = "alertsPopupWrapper";
        let w = [],
          _ = 0,
          C = [],
          S = [];
        const x = {
          notifications: [],
          psas: [],
        };
        function P() {
          if ((0, v.isPopupVisible)(b)) {
            let e;
            k(!1);
            const t = new Promise((t) => {
                e = t;
              }),
              o = [];
            let n = 0;
            (C.length > 0 || S.length > 0) &&
              l.default.users
                .updateInbox({
                  mailIdsToMarkRead: C.length > 0 ? C : void 0,
                  mailIdsToDelete: S.length > 0 ? S : void 0,
                })
                .then((t) =>
                  r(this, void 0, void 0, function* () {
                    const i = (yield t).status,
                      a = (yield t).message;
                    if (200 === i) {
                      {
                        const e = w
                          .filter(
                            (e) => e.rewards.length > 0 && C.includes(e.id)
                          )
                          .map((e) => e.rewards)
                          .reduce(function (e, t) {
                            return e.concat(t);
                          }, []);
                        for (const t of e)
                          if ("xp" === t.type) n += t.item;
                          else if ("badge" === t.type) {
                            const e = h.getById(t.item.id);
                            e && (o.push(e.name), p.addBadge(t.item));
                          }
                      }
                      e();
                    } else m.add(`Failed to update inbox: ${a}`, -1);
                  })
                ),
              $("#alertsPopup").animate(
                {
                  marginRight: "-10rem",
                },
                100,
                "easeInCubic"
              ),
              $("#alertsPopupWrapper")
                .stop(!0, !0)
                .css("opacity", 1)
                .animate(
                  {
                    opacity: 0,
                  },
                  100,
                  () => {
                    t.then(() => {
                      var e, t;
                      if (
                        (o.length > 0 &&
                          m.add(
                            `New badge${
                              o.length > 1 ? "s" : ""
                            } unlocked: ${o.join(", ")}`,
                            1,
                            {
                              duration: 5,
                              customTitle: "Reward",
                              customIcon: "gift",
                            }
                          ),
                        n > 0)
                      ) {
                        const o =
                          null !==
                            (t =
                              null === (e = p.getSnapshot()) || void 0 === e
                                ? void 0
                                : e.xp) && void 0 !== t
                            ? t
                            : 0;
                        c.updateXpBar(o, n), p.addXp(n);
                      }
                    }),
                      $("#alertsPopupWrapper").addClass("hidden"),
                      $("#alertsPopup .notificationHistory .list").empty(),
                      $("#alertsPopup .psas .list").empty(),
                      y.remove(b);
                  }
                );
          }
        }
        function k(e) {
          e
            ? $("header nav .showAlerts .notificationBubble").removeClass(
                "hidden"
              )
            : $("header nav .showAlerts .notificationBubble").addClass(
                "hidden"
              );
        }
        function T() {
          $("#alertsPopup .accountAlerts .title .right").text(
            `${w.length}/${_}`
          );
        }
        function O(e) {
          S.push(e),
            $(
              `#alertsPopup .accountAlerts .list .item[data-id="${e}"]`
            ).remove(),
            0 == $("#alertsPopup .accountAlerts .list .item").length &&
              $("#alertsPopup .accountAlerts .list").html(
                '\n    <div class="nothing">\n    Nothing to show\n    </div>\n    '
              ),
            A(),
            T();
        }
        function M(e) {
          C.push(e);
          const t = $(
            `#alertsPopup .accountAlerts .list .item[data-id="${e}"]`
          );
          A(),
            t.find(".indicator").removeClass("main"),
            t.find(".buttons").empty(),
            t
              .find(".buttons")
              .append(
                '<div class="deleteAlert textButton" aria-label="Delete" data-balloon-pos="left"><i class="fas fa-trash"></i></div>'
              ),
            t.find(".rewards").animate(
              {
                opacity: 0,
                height: 0,
                marginTop: 0,
              },
              250,
              "easeOutCubic",
              () => {
                t.find(".rewards").remove();
              }
            );
        }
        function A() {
          const e = $("#alertsPopup .accountAlerts .claimAll"),
            t = $("#alertsPopup .accountAlerts .deleteAll");
          if ((e.addClass("hidden"), t.addClass("hidden"), w.length > 0)) {
            let o = 0;
            for (const e of w)
              !1 !== e.read || C.includes(e.id) || (o += e.rewards.length);
            o > 0 ? e.removeClass("hidden") : t.removeClass("hidden");
          }
          S.length === w.length && t.addClass("hidden");
        }
        (t.addPSA = function (e, t) {
          x.psas.push({
            message: e,
            level: t,
          });
        }),
          (t.setNotificationBubbleVisible = k),
          $("#alertsPopupWrapper .accountAlerts").on(
            "click",
            ".claimAll",
            () => {
              for (const e of w) !1 !== e.read || C.includes(e.id) || M(e.id);
            }
          ),
          $("#alertsPopupWrapper .accountAlerts").on(
            "click",
            ".deleteAll",
            () => {
              for (const e of w) S.includes(e.id) || O(e.id);
            }
          ),
          $("header nav .showAlerts").on("click", () => {
            !(function () {
              r(this, void 0, void 0, function* () {
                y.append(b),
                  (0, v.isPopupVisible)(b) ||
                    ($("#alertsPopup").css("marginRight", "-10rem").animate(
                      {
                        marginRight: 0,
                      },
                      100,
                      "easeOutCubic"
                    ),
                    (
                      null === d.Auth || void 0 === d.Auth
                        ? void 0
                        : d.Auth.currentUser
                    )
                      ? ($("#alertsPopup .accountAlerts").removeClass("hidden"),
                        $(
                          "#alertsPopup .separator.accountSeparator"
                        ).removeClass("hidden"),
                        $("#alertsPopup .accountAlerts .list").html(
                          '\n        <div class="preloader"><i class="fas fa-fw fa-spin fa-circle-notch"></i></div>'
                        ))
                      : ($("#alertsPopup .accountAlerts").addClass("hidden"),
                        $("#alertsPopup .separator.accountSeparator").addClass(
                          "hidden"
                        )),
                    (w = []),
                    (S = []),
                    (C = []),
                    (function () {
                      if (0 === x.notifications.length)
                        $("#alertsPopup .notificationHistory .list").html(
                          '<div class="nothing">Nothing to show</div>'
                        );
                      else {
                        $("#alertsPopup .notificationHistory .list").empty();
                        for (const e of x.notifications) {
                          const { message: t, level: o, customTitle: n } = e;
                          let i = "Notice",
                            a = "sub";
                          -1 === o
                            ? ((a = "error"), (i = "Error"))
                            : 1 === o && ((a = "main"), (i = "Success")),
                            n && (i = n),
                            $(
                              "#alertsPopup .notificationHistory .list"
                            ).prepend(
                              `\n      <div class="item">\n      <div class="indicator ${a}"></div>\n      <div class="title">${i}</div>\n      <div class="body">\n        ${(0,
                              v.escapeHTML)(t)}\n      </div>\n    </div>\n    `
                            );
                        }
                      }
                    })(),
                    (function () {
                      if (0 === x.psas.length)
                        $("#alertsPopup .psas .list").html(
                          '<div class="nothing">Nothing to show</div>'
                        );
                      else {
                        $("#alertsPopup .psas .list").empty();
                        for (const e of x.psas) {
                          const { message: t, level: o } = e;
                          let n = "";
                          -1 === o
                            ? (n = "error")
                            : 1 === o
                            ? (n = "main")
                            : 0 === o && (n = "sub"),
                            $("#alertsPopup .psas .list").prepend(
                              `\n        <div class="item">\n        <div class="indicator ${n}"></div>\n        <div class="body">\n          ${(0,
                              v.escapeHTML)(
                                t
                              )}\n        </div>\n      </div>\n      `
                            );
                        }
                      }
                    })(),
                    $("#alertsPopupWrapper")
                      .stop(!0, !0)
                      .css("opacity", 0)
                      .removeClass("hidden")
                      .animate(
                        {
                          opacity: 1,
                        },
                        100,
                        () => {
                          (null === d.Auth || void 0 === d.Auth
                            ? void 0
                            : d.Auth.currentUser) &&
                            (function () {
                              r(this, void 0, void 0, function* () {
                                if (!g.get())
                                  return void $(
                                    "#alertsPopup .accountAlerts .list"
                                  ).html(
                                    '\n    <div class="nothing">\n    You are offline\n    </div>\n    '
                                  );
                                const e = yield l.default.users.getInbox();
                                if (503 === e.status)
                                  return void $(
                                    "#alertsPopup .accountAlerts .list"
                                  ).html(
                                    '\n    <div class="nothing">\n    Account inboxes are temporarily unavailable\n    </div>\n    '
                                  );
                                if (200 !== e.status)
                                  return void $(
                                    "#alertsPopup .accountAlerts .list"
                                  ).html(
                                    `\n    <div class="nothing">\n    Error getting inbox: ${e.message} Please try again later\n    </div>\n    `
                                  );
                                const t = e.data;
                                if (((w = t.inbox), A(), 0 !== w.length)) {
                                  (_ = t.maxMail),
                                    T(),
                                    $(
                                      "#alertsPopup .accountAlerts .list"
                                    ).empty();
                                  for (const e of w) {
                                    e.read ||
                                      0 !== e.rewards.length ||
                                      C.push(e.id);
                                    let t = "";
                                    e.rewards.length > 0 &&
                                      !1 === e.read &&
                                      (t = `<div class="rewards">\n        <i class="fas fa-fw fa-gift"></i>\n        <span>${e.rewards.length}</span>\n      </div>`),
                                      $(
                                        "#alertsPopup .accountAlerts .list"
                                      ).append(
                                        `\n    \n      <div class="item" data-id="${
                                          e.id
                                        }">\n        <div class="indicator ${
                                          e.read ? "" : "main"
                                        }"></div>\n        <div class="timestamp">${(0,
                                        u.default)(
                                          new Date(e.timestamp)
                                        )} ago</div>\n        <div class="title">${
                                          e.subject
                                        }</div>\n        <div class="body">\n          ${
                                          e.body
                                        }\n\n${t}\n        </div>\n        <div class="buttons">\n          ${
                                          e.rewards.length > 0 && !1 === e.read
                                            ? '<div class="markReadAlert textButton" aria-label="Claim" data-balloon-pos="left"><i class="fas fa-gift"></i></div>'
                                            : ""
                                        }\n          ${
                                          (e.rewards.length > 0 &&
                                            !0 === e.read) ||
                                          0 === e.rewards.length
                                            ? '<div class="deleteAlert textButton" aria-label="Delete" data-balloon-pos="left"><i class="fas fa-trash"></i></div>'
                                            : ""
                                        }\n        </div>\n      </div>\n    \n    `
                                      );
                                  }
                                } else $("#alertsPopup .accountAlerts .list").html('\n    <div class="nothing">\n    Nothing to show\n    </div>\n    ');
                              });
                            })();
                        }
                      ));
              });
            })();
          }),
          $("#alertsPopupWrapper").on("mousedown", (e) => {
            "alertsPopupWrapper" === $(e.target).attr("id") && P();
          }),
          $("#alertsPopupWrapper .mobileClose").on("click", () => {
            P();
          }),
          $("#alertsPopupWrapper .accountAlerts .list").on(
            "click",
            ".item .buttons .deleteAlert",
            (e) => {
              O($(e.currentTarget).closest(".item").attr("data-id"));
            }
          ),
          $("#alertsPopupWrapper .accountAlerts .list").on(
            "click",
            ".item .buttons .markReadAlert",
            (e) => {
              M($(e.currentTarget).closest(".item").attr("data-id"));
            }
          ),
          $(document).on("keydown", (e) => {
            "Escape" === e.key && (0, v.isPopupVisible)(b) && P();
          }),
          f.subscribe((e, t, o) => {
            x.notifications.push({
              message: e,
              level: t,
              customTitle: o,
            }),
              x.notifications.length > 25 && x.notifications.shift();
          }),
          y.save(b);
      },
      2183: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.apply = void 0);
        const s = a(o(6705)),
          u = a(o(1446)),
          l = o(2189),
          d = {
            blur: {
              value: 0,
              default: 0,
            },
            brightness: {
              value: 1,
              default: 1,
            },
            saturate: {
              value: 1,
              default: 1,
            },
            opacity: {
              value: 1,
              default: 1,
            },
          };
        function c() {
          const e = {
            filter: (function () {
              let e = "";
              return (
                Object.keys(d).forEach((t) => {
                  const o = t;
                  d[o].value !== d[o].default &&
                    (e += `${t}(${d[o].value}${"blur" === t ? "rem" : ""}) `);
                }),
                e
              );
            })(),
            width: `calc(100% + ${4 * d.blur.value}rem)`,
            height: `calc(100% + ${4 * d.blur.value}rem)`,
            left: `-${2 * d.blur.value}rem`,
            top: `-${2 * d.blur.value}rem`,
            position: "absolute",
          };
          $(".customBackground img").css(e);
        }
        function p() {
          $(".section.customBackgroundFilter .blur .value").html(
            d.blur.value.toFixed(1)
          ),
            $(".section.customBackgroundFilter .brightness .value").html(
              d.brightness.value.toFixed(1)
            ),
            $(".section.customBackgroundFilter .saturate .value").html(
              d.saturate.value.toFixed(1)
            ),
            $(".section.customBackgroundFilter .opacity .value").html(
              d.opacity.value.toFixed(1)
            );
        }
        (t.apply = c),
          $(".section.customBackgroundFilter .blur input").on("input", () => {
            (d.blur.value = parseFloat(
              $(".section.customBackgroundFilter .blur input").val()
            )),
              p(),
              c();
          }),
          $(".section.customBackgroundFilter .brightness input").on(
            "input",
            () => {
              (d.brightness.value = parseFloat(
                $(".section.customBackgroundFilter .brightness input").val()
              )),
                p(),
                c();
            }
          ),
          $(".section.customBackgroundFilter .saturate input").on(
            "input",
            () => {
              (d.saturate.value = parseFloat(
                $(".section.customBackgroundFilter .saturate input").val()
              )),
                p(),
                c();
            }
          ),
          $(".section.customBackgroundFilter .opacity input").on(
            "input",
            () => {
              (d.opacity.value = parseFloat(
                $(".section.customBackgroundFilter .opacity input").val()
              )),
                p(),
                c();
            }
          ),
          $(".section.customBackgroundFilter input").on("input", () => {
            f();
          });
        const f = (0, l.debounce)(2e3, () =>
          r(void 0, void 0, void 0, function* () {
            const e = Object.keys(d).map((e) => d[e].value);
            s.setCustomBackgroundFilter(e, !1);
          })
        );
        u.subscribe((e, t) => {
          var o;
          "customBackgroundFilter" === e &&
            t &&
            ((o = t),
            (d.blur.value = o[0]),
            (d.brightness.value = o[1]),
            (d.saturate.value = o[2]),
            (d.opacity.value = o[3]),
            p(),
            $(".section.customBackgroundFilter .blur input").val(d.blur.value),
            $(".section.customBackgroundFilter .brightness input").val(
              d.brightness.value
            ),
            $(".section.customBackgroundFilter .saturate input").val(
              d.saturate.value
            ),
            $(".section.customBackgroundFilter .opacity input").val(
              d.opacity.value
            ),
            c());
        });
      },
      2560: function (e, t, o) {
        var n =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (i, a) {
              function r(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  a(e);
                }
              }
              function s(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  a(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(r, s);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.stop = t.start = void 0);
        const i = o(3388);
        let a,
          r,
          s = 0,
          u = !0;
        const l = document.querySelector("#fpsCounter");
        function d(e) {
          if (u) return;
          const t = e - r;
          if ((s++, t > 500)) {
            const o = (0, i.roundTo2)((1e3 * s) / t).toFixed(2);
            (s = 0),
              (r = e),
              (function (e) {
                n(this, void 0, void 0, function* () {
                  l.innerHTML = `FPS ${e}`;
                  const t = parseFloat(e);
                  l.classList.remove("error"),
                    l.classList.remove("main"),
                    t < 30
                      ? l.classList.add("error")
                      : t > 55 && l.classList.add("main");
                });
              })(o);
          }
          window.requestAnimationFrame(d);
        }
        (t.start = function () {
          (u = !1),
            (s = 0),
            (r = performance.now()),
            (a = window.requestAnimationFrame(d)),
            l.classList.remove("hidden");
        }),
          (t.stop = function () {
            cancelAnimationFrame(a), (u = !0), l.classList.add("hidden");
          });
      },
      5817: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.InputIndicator = void 0),
          (t.InputIndicator = class {
            constructor(e, t) {
              var o, n;
              (this.inputElement = e),
                $(this.inputElement).wrap(
                  '<div class="inputAndIndicator"></div>'
                ),
                (this.parentElement = $(this.inputElement).parent(
                  ".inputAndIndicator"
                )),
                (this.options = t),
                (this.currentStatus = null);
              let i = '<div class="statusIndicator">';
              for (const [e, a] of Object.entries(t))
                i += `\n      <div\n        class="indicator level${
                  a.level
                } hidden"\n        data-option-id="${e}"\n        \n        ${
                  (null !==
                    (n =
                      null === (o = a.message) || void 0 === o
                        ? void 0
                        : o.length) && void 0 !== n
                    ? n
                    : 0) > 27
                    ? 'data-balloon-length="large"'
                    : ""
                }\n        data-balloon-pos="up"\n        ${
                  a.message ? `aria-label="${a.message}"` : ""
                }\n      >\n        <i class="fas fa-fw ${a.icon} ${
                  a.spinIcon ? "fa-spin" : ""
                }"></i>\n      </div>\n      `;
              (i += "</div>"), this.parentElement.append(i);
            }
            hide() {
              this.parentElement
                .find(".statusIndicator div")
                .addClass("hidden"),
                (this.currentStatus = null),
                $(this.inputElement).css("padding-right", "0.5em");
            }
            show(e, t) {
              this.hide(), (this.currentStatus = e);
              const o = this.parentElement.find(`[data-option-id="${e}"]`);
              o.removeClass("hidden"),
                t &&
                  (t.length > 20
                    ? o.attr("data-balloon-length", "large")
                    : o.removeAttr("data-balloon-length"),
                  o.attr("aria-label", t)),
                $(this.inputElement).css("padding-right", "2.1em");
            }
            get() {
              return this.currentStatus;
            }
          });
      },
      2148: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.refresh = t.show = t.hide = void 0);
        const u = s(o(6705)),
          l = a(o(4203)),
          d = a(o(210)),
          c = a(o(1446)),
          p = a(o(5368)),
          f = a(o(3388)),
          h = a(o(6943)),
          m = a(o(3368)),
          g = a(o(7346)),
          v = a(o(9470)),
          y = {
            keymapShowTopRow: !0,
            type: "matrix",
            keys: {
              row1: [],
              row2: [
                "sS",
                "tT",
                "pP",
                "hH",
                "**",
                "fF",
                "pP",
                "lL",
                "tT",
                "dD",
              ],
              row3: [
                "sS",
                "kK",
                "wW",
                "rR",
                "**",
                "rR",
                "bB",
                "gG",
                "sS",
                "zZ",
              ],
              row4: ["aA", "oO", "eE", "uU"],
              row5: [],
            },
          };
        function b() {
          $("#keymap").addClass("hidden");
        }
        function w() {
          $("#keymap").removeClass("hidden");
        }
        function _(e = u.default.layout) {
          return r(this, void 0, void 0, function* () {
            if ("off" !== u.default.keymapMode && "test" === g.get() && e)
              try {
                let t;
                try {
                  t = yield f.getLayoutsList();
                } catch (e) {
                  return void m.add(
                    f.createErrorMessage(e, "Failed to refresh keymap"),
                    -1
                  );
                }
                let o = t[e],
                  n = e;
                "overrideSync" === u.default.keymapLayout
                  ? "default" === u.default.layout
                    ? ((o = t.qwerty), (n = "default"))
                    : ((o = t[u.default.layout]), (n = u.default.layout))
                  : ((o = t[u.default.keymapLayout]),
                    (n = u.default.keymapLayout));
                const i =
                    (v.hasNumbers && "next" === u.default.keymapMode) ||
                    "always" === u.default.keymapShowTopRow ||
                    (o.keymapShowTopRow &&
                      "never" !== u.default.keymapShowTopRow),
                  a =
                    "matrix" === u.default.keymapStyle ||
                    "split_matrix" === u.default.keymapStyle,
                  r =
                    "steno" === u.default.keymapStyle ||
                    "steno_matrix" === u.default.keymapStyle;
                if ((r && (o = y), void 0 === o))
                  throw new Error("Failed to refresh keymap: layout not found");
                let s = "";
                const l = Object.keys(o.keys);
                for (let e = 0; e < l.length; e++) {
                  const t = l[e];
                  let d = o.keys[t];
                  "row1" !== t ||
                    (!a && "staggered" !== u.default.keymapStyle) ||
                    (d = d.slice(1));
                  let c = "";
                  if ("row1" !== t || (i && !r)) {
                    if (
                      (("row2" !== t && "row3" !== t && "row4" !== t) ||
                        a ||
                        r ||
                        (c += "<div></div>"),
                      "row4" !== t ||
                        "iso" === o.type ||
                        a ||
                        r ||
                        (c += "<div></div>"),
                      a &&
                        ("row5" !== t && o.matrixShowRightColumn
                          ? (c += '<div class="keymapKey"></div>')
                          : (c += "<div></div>")),
                      "row5" === t)
                    ) {
                      if (r) continue;
                      const e = n.replace(/_/g, " ");
                      let t = "";
                      "blank" === u.default.keymapLegendStyle &&
                        (t = 'style="display: none;"'),
                        (c += "<div></div>"),
                        (c += `<div class="keymapKey keySpace">\n          <div class="letter" ${t}>${e}</div>\n        </div>`),
                        (c += '<div class="keymapSplitSpacer"></div>'),
                        (c +=
                          '<div class="keymapKey keySplitSpace">\n          <div class="letter"></div>\n        </div>');
                    } else
                      for (let e = 0; e < d.length; e++) {
                        if ("row2" === t && 12 === e) continue;
                        let n = 10;
                        if (
                          (o.matrixShowRightColumn && (n = 11),
                          ("matrix" === u.default.keymapStyle ||
                            "split_matrix" === u.default.keymapStyle) &&
                            e >= n)
                        )
                          continue;
                        const i = d[e],
                          s = "row3" === t && (3 === e || 6 === e);
                        let l = i[0],
                          p = "";
                        "blank" === u.default.keymapLegendStyle
                          ? (p = 'style="display: none;"')
                          : "uppercase" === u.default.keymapLegendStyle &&
                            (l = l.toUpperCase());
                        let f = "";
                        "row1" !== t ||
                          0 !== e ||
                          a ||
                          "staggered" === u.default.keymapStyle ||
                          (f = " invisible");
                        const h = `<div class="keymapKey${f}" data-key="${i.replace(
                          '"',
                          "&quot;"
                        )}">\n              <span class="letter" ${p}>${l}</span>\n              ${
                          s ? "<div class='bump'></div>" : ""
                        }\n          </div>`;
                        let m = "";
                        ("split" === u.default.keymapStyle ||
                          "split_matrix" === u.default.keymapStyle ||
                          "alice" === u.default.keymapStyle ||
                          r) &&
                          ("row4" !== t || !r || (0 !== e && 2 !== e && 4 !== e)
                            ? "row4" !== t ||
                              ("split" !== u.default.keymapStyle &&
                                "alice" !== u.default.keymapStyle) ||
                              "iso" !== o.type
                              ? "row1" !== t ||
                                ("split" !== u.default.keymapStyle &&
                                  "alice" !== u.default.keymapStyle)
                                ? 5 === e &&
                                  (m += '<div class="keymapSplitSpacer"></div>')
                                : 7 === e &&
                                  (m += '<div class="keymapSplitSpacer"></div>')
                              : 6 === e &&
                                (m += '<div class="keymapSplitSpacer"></div>')
                            : (m += '<div class="keymapSplitSpacer"></div>')),
                          "alice" === u.default.keymapStyle &&
                            "row4" === t &&
                            (("iso" === o.type && 6 === e) ||
                              ("iso" !== o.type && 5 === e)) &&
                            (m +=
                              '<div class="extraKey"><span class="letter"></span></div>'),
                          (c += m + h);
                      }
                    s += `<div class="row r${e + 1}">${c}</div>`;
                  }
                }
                $("#keymap").html(s),
                  $("#keymap").removeClass("staggered"),
                  $("#keymap").removeClass("matrix"),
                  $("#keymap").removeClass("split"),
                  $("#keymap").removeClass("split_matrix"),
                  $("#keymap").removeClass("alice"),
                  $("#keymap").removeClass("steno"),
                  $("#keymap").removeClass("steno_matrix"),
                  $("#keymap").addClass(u.default.keymapStyle);
              } catch (e) {
                e instanceof Error &&
                  console.log(
                    "something went wrong when changing layout, resettings: " +
                      e.message
                  );
              }
          });
        }
        (t.hide = b),
          (t.show = w),
          (t.refresh = _),
          c.subscribe((e, t) => {
            "layout" === e &&
              "overrideSync" === u.default.keymapLayout &&
              _(u.default.keymapLayout),
              ("keymapLayout" !== e &&
                "keymapStyle" !== e &&
                "keymapShowTopRow" !== e &&
                "keymapMode" !== e) ||
                _(),
              "keymapMode" === e && ("off" === t ? b() : w());
          }),
          p.subscribe((e, t, o) => {
            "highlight" === e &&
              (function (e) {
                var t;
                if ("zen" !== u.default.mode) {
                  "" === e && (e = " ");
                  try {
                    let o;
                    $(".activeKey").removeClass("activeKey"),
                      u.default.language.startsWith("korean") &&
                        (e =
                          null !== (t = h.disassemble(e)[0]) && void 0 !== t
                            ? t
                            : e),
                      (o =
                        " " === e
                          ? "#keymap .keySpace, #keymap .keySplitSpace"
                          : '"' === e
                          ? `#keymap .keymapKey[data-key*='${e}']`
                          : `#keymap .keymapKey[data-key*="${e}"]`),
                      $(o).addClass("activeKey");
                  } catch (e) {
                    e instanceof Error &&
                      console.log(
                        "could not update highlighted keymap key: " + e.message
                      );
                  }
                }
              })(t),
              "flash" === e &&
                (function (e, t) {
                  r(this, void 0, void 0, function* () {
                    if (void 0 === e) return;
                    e =
                      " " === e
                        ? "#keymap .keySpace, #keymap .keySplitSpace"
                        : '"' === e
                        ? `#keymap .keymapKey[data-key*='${e}']`
                        : `#keymap .keymapKey[data-key*="${e}"]`;
                    const o = yield l.getAll();
                    try {
                      let n = {
                        color: o.bg,
                        backgroundColor: o.sub,
                        borderColor: o.sub,
                      };
                      (n =
                        t || u.default.blindMode
                          ? {
                              color: o.bg,
                              backgroundColor: o.main,
                              borderColor: o.main,
                            }
                          : {
                              color: o.bg,
                              backgroundColor: o.error,
                              borderColor: o.error,
                            }),
                        $(e)
                          .stop(!0, !0)
                          .css(n)
                          .animate(
                            {
                              color: o.sub,
                              backgroundColor: o.subAlt,
                              borderColor: o.sub,
                            },
                            d.get() ? 0 : 500,
                            "easeOutExpo"
                          );
                    } catch (e) {}
                  });
                })(t, o);
          });
      },
      7274: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.getAcc = t.getWPM = t.update = void 0);
        const u = a(o(6350)),
          l = a(o(3388)),
          d = s(o(6705)),
          c = a(o(9470));
        let p = 0,
          f = 0;
        (t.update = function () {
          return r(this, void 0, void 0, function* () {
            const e = l.getMode2(d.default, c.randomQuote),
              [t, o] = (yield u.getUserAverage10(
                d.default.mode,
                e,
                d.default.punctuation,
                d.default.language,
                d.default.difficulty,
                d.default.lazyMode
              )).map(l.roundTo2);
            (p = d.default.alwaysShowDecimalPlaces ? t : Math.round(t)),
              (f = d.default.alwaysShowDecimalPlaces ? o : Math.floor(o));
          });
        }),
          (t.getWPM = function () {
            return p;
          }),
          (t.getAcc = function () {
            return f;
          });
      },
      41: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = t.hide = void 0);
        const u = s(o(7355)),
          l = a(o(6350)),
          d = s(o(6705)),
          c = a(o(3388)),
          p = o(8628),
          f = a(o(3368)),
          h = s(o(9546)),
          m = o(6617),
          g = s(o(1699)),
          v = o(7401),
          y = a(o(3285)),
          b = a(o(590)),
          w = o(2189),
          _ = "leaderboardsWrapper";
        let C = "allTime",
          S = "english",
          x = !1,
          P = {
            15: [],
            60: [],
          },
          k = {
            15: {},
            60: {},
          },
          T = {
            15: [],
            60: [],
          };
        const O = {
          15: !1,
          60: !1,
        };
        let M;
        function A(e) {
          "15" === e
            ? $("#leaderboardsWrapper table.left tbody").empty()
            : "60" === e && $("#leaderboardsWrapper table.right tbody").empty();
        }
        function j(e) {
          "15" === e
            ? $("#leaderboardsWrapper table.left tfoot").empty()
            : "60" === e && $("#leaderboardsWrapper table.right tfoot").empty();
        }
        function W() {
          if ("daily" === C) {
            const e = new Date();
            e.setUTCHours(0, 0, 0, 0), e.setDate(e.getDate() + 1);
            const t = new Date();
            t.setUTCMilliseconds(0);
            const o = (0, g.default)(e, t);
            $("#leaderboards .subTitle").text(
              "Next reset in: " + c.secondsToString(o, !0)
            );
          } else {
            const e = new Date(),
              t = 60 * (14 - (e.getMinutes() % 15)) + (60 - e.getSeconds());
            $("#leaderboards .subTitle").text(
              "Next update in: " + c.secondsToString(t, !0)
            );
          }
        }
        function L(e) {
          "15" === e
            ? $("#leaderboardsWrapper .leftTableLoader").removeClass("hidden")
            : "60" === e &&
              $("#leaderboardsWrapper .rightTableLoader").removeClass("hidden");
        }
        function B(e) {
          "15" === e
            ? $("#leaderboardsWrapper .leftTableLoader").addClass("hidden")
            : "60" === e &&
              $("#leaderboardsWrapper .rightTableLoader").addClass("hidden");
        }
        function E(e) {
          var t;
          return r(this, void 0, void 0, function* () {
            if (!P[e]) return;
            let o;
            (o = "15" === e ? "left" : "right"),
              0 === P[e].length &&
                $(`#leaderboardsWrapper table.${o} tbody`).html(
                  "<tr><td colspan='7'>No results found</td></tr>"
                );
            const n = (0, p.get)(d.default.typingSpeedUnit),
              i =
                null === (t = l.getSnapshot()) || void 0 === t
                  ? void 0
                  : t.name;
            let a = "";
            for (let t = 0; t < P[e].length; t++) {
              const o = P[e][t];
              if (!o) break;
              if (o.hidden) return;
              let r = "";
              o.name === i && (r = ' class="me"');
              const s = new Date(o.timestamp);
              "daily" !== C || o.rank || (o.rank = t + 1);
              let u =
                '<div class="avatarPlaceholder"><i class="fas fa-user-circle"></i></div>';
              o.discordAvatar &&
                (u =
                  '<div class="avatarPlaceholder"><i class="fas fa-circle-notch fa-spin"></i></div>'),
                (a += `\n    <tr ${r}>\n    <td>${
                  1 === o.rank ? '<i class="fas fa-fw fa-crown"></i>' : o.rank
                }</td>\n    <td>\n    <div class="avatarNameBadge">\n      <div class="lbav">${u}</div>\n      <a href="${
                  location.origin
                }/profile/${o.uid}?isUid" class="entryName" uid=${
                  o.uid
                } router-link>${o.name}</a>\n      ${
                  o.badgeId ? (0, v.getHTMLById)(o.badgeId) : ""
                }\n    </div>\n    </td>\n    <td class="alignRight">${n
                  .fromWpm(o.wpm)
                  .toFixed(2)}<br>\n    <div class="sub">${o.acc.toFixed(
                  2
                )}%</div></td>\n    <td class="alignRight">${n
                  .fromWpm(o.raw)
                  .toFixed(2)}<br>\n    <div class="sub">${
                  o.consistency && "-" !== o.consistency
                    ? o.consistency.toFixed(2) + "%"
                    : "-"
                }</div></td>\n    <td class="alignRight">${(0, h.default)(
                  s,
                  "dd MMM yyyy"
                )}<br>\n    <div class='sub'>${(0, h.default)(
                  s,
                  "HH:mm"
                )}</div></td>\n  </tr>\n  `);
            }
            $(`#leaderboardsWrapper table.${o} tbody`).html(a);
          });
        }
        const F = $("#leaderboardsWrapper .showYesterdayButton"),
          I = $("#leaderboardsWrapper .showYesterdayButton .text");
        function R() {
          $("#leaderboardsWrapper")
            .stop(!0, !0)
            .css("opacity", 1)
            .animate(
              {
                opacity: 0,
              },
              100,
              () => {
                A("15"),
                  A("60"),
                  j("15"),
                  j("60"),
                  (P = {
                    15: [],
                    60: [],
                  }),
                  (k = {
                    15: {},
                    60: {},
                  }),
                  (T = {
                    15: [],
                    60: [],
                  }),
                  clearInterval(M),
                  (M = void 0),
                  $("#leaderboards .subTitle").text("-"),
                  (x = !1),
                  V(),
                  $("#leaderboardsWrapper").addClass("hidden"),
                  b.remove(_);
              }
            );
        }
        function D() {
          const e = $("#leaderboardsWrapper .mainTitle");
          let t = `${"daily" === C ? "Daily" : "All-Time"} ${
            S.charAt(0).toUpperCase() + S.slice(1)
          } Leaderboards`;
          x && "allTime" !== C && (t += " (Yesterday)"), e.text(t);
        }
        function V() {
          F.addClass("hidden"),
            "daily" === C && F.removeClass("hidden"),
            x ? I.text("Show today") : I.text("Show yesterday");
        }
        function q() {
          const e = "daily" === C;
          return {
            isDaily: e,
            daysBefore: e && x ? 1 : 0,
          };
        }
        function H() {
          return r(this, void 0, void 0, function* () {
            (G = !1), (Y = !1), L("15"), L("60");
            const e = ["15", "60"],
              t = e.map((e) =>
                r(this, void 0, void 0, function* () {
                  return u.default.leaderboards.get(
                    Object.assign(
                      {
                        language: S,
                        mode: "time",
                        mode2: e,
                      },
                      q()
                    )
                  );
                })
              );
            (null === m.Auth || void 0 === m.Auth
              ? void 0
              : m.Auth.currentUser) &&
              t.push(
                ...e.map((e) =>
                  r(this, void 0, void 0, function* () {
                    return u.default.leaderboards.getRank(
                      Object.assign(
                        {
                          language: S,
                          mode: "time",
                          mode2: e,
                        },
                        q()
                      )
                    );
                  })
                )
              );
            const o = yield Promise.all(t),
              n = o.find((e) => 200 !== e.status);
            if (n)
              return (
                B("15"),
                B("60"),
                f.add("Failed to load leaderboards: " + n.message, -1)
              );
            const [i, a, s, g] = o.map((e) => e.data);
            (P[15] = i),
              (P[60] = a),
              (k[15] = s),
              (k[60] = g),
              ["15", "60"].forEach((e) => {
                B(e),
                  A(e),
                  (function (e) {
                    var t, o, n, i, a;
                    let r;
                    if (
                      ((r = "15" === e ? "left" : "right"),
                      !(null === m.Auth || void 0 === m.Auth
                        ? void 0
                        : m.Auth.currentUser))
                    )
                      return void $(
                        `#leaderboardsWrapper table.${r} tfoot`
                      ).html(
                        '\n    <tr>\n      <td colspan="6" style="text-align:center;"></>\n    </tr>\n    '
                      );
                    if (
                      !c.isDevEnvironment() &&
                      (null !==
                        (n =
                          null ===
                            (o =
                              null === (t = l.getSnapshot()) || void 0 === t
                                ? void 0
                                : t.typingStats) || void 0 === o
                            ? void 0
                            : o.timeTyping) && void 0 !== n
                        ? n
                        : 0) < 7200
                    )
                      return void $(
                        `#leaderboardsWrapper table.${r} tfoot`
                      ).html(
                        '\n    <tr>\n      <td colspan="6" style="text-align:center;">Your account must have 2 hours typed to be placed on the leaderboard.</>\n    </tr>\n    '
                      );
                    const s = (0, p.get)(d.default.typingSpeedUnit);
                    if (
                      !0 ===
                      (null === (i = l.getSnapshot()) || void 0 === i
                        ? void 0
                        : i.lbOptOut)
                    )
                      return void $(
                        `#leaderboardsWrapper table.${r} tfoot`
                      ).html(
                        '\n    <tr>\n      <td colspan="6" style="text-align:center;">You have opted out of the leaderboards</>\n    </tr>\n    '
                      );
                    const u = k[e];
                    if ("daily" === C && null !== u && void 0 === u.minWpm)
                      return void $(
                        `#leaderboardsWrapper table.${r} tfoot`
                      ).html(
                        '\n    <tr>\n      <td colspan="6" style="text-align:center;">Looks like the server returned data in a new format, please refresh</>\n    </tr>\n    '
                      );
                    let f;
                    if ("allTime" === C && u && (null == u ? void 0 : u.rank)) {
                      const t = c.roundTo2((u.rank / k[e].count) * 100);
                      (f = 1 === k[e].rank ? "GOAT" : `Top ${t}%`),
                        (f = `<br><span class="sub">${f}</span>`);
                    }
                    const g = null == u ? void 0 : u.entry;
                    if (g) {
                      const e = new Date(g.timestamp);
                      $(`#leaderboardsWrapper table.${r} tfoot`).html(
                        `\n    <tr>\n    <td>${
                          u.rank
                        }</td>\n    <td><span class="top">You</span>${
                          f || ""
                        }</td>\n    <td class="alignRight">${s
                          .fromWpm(g.wpm)
                          .toFixed(
                            2
                          )}<br>\n    <div class="sub">${g.acc.toFixed(
                          2
                        )}%</div></td>\n    <td class="alignRight">${s
                          .fromWpm(g.raw)
                          .toFixed(2)}<br>\n    <div class="sub">${
                          g.consistency && "-" !== g.consistency
                            ? g.consistency.toFixed(2) + "%"
                            : "-"
                        }</div></td>\n    <td class="alignRight">${(0,
                        h.default)(
                          e,
                          "dd MMM yyyy"
                        )}<br>\n    <div class='sub'>${(0, h.default)(
                          e,
                          "HH:mm"
                        )}</div></td>\n  </tr>\n  `
                      );
                    } else
                      "daily" === C
                        ? $(`#leaderboardsWrapper table.${r} tfoot`).html(
                            `\n    <tr>\n      <td colspan="6" style="text-align:center;">Not qualified (min speed required: ${
                              null === (a = k[e]) || void 0 === a
                                ? void 0
                                : a.minWpm
                            } wpm)</>\n    </tr>\n    `
                          )
                        : $(`#leaderboardsWrapper table.${r} tfoot`).html(
                            '\n    <tr>\n      <td colspan="6" style="text-align:center;">Not qualified</>\n    </tr>\n    '
                          );
                  })(e),
                  (function (e) {
                    var t, o, n, i, a, r;
                    if ("daily" === C) return;
                    let s;
                    s = "15" === e ? "left" : "right";
                    const u =
                        null !==
                          (a =
                            null ===
                              (i =
                                null ===
                                  (n =
                                    null ===
                                      (o =
                                        null === (t = l.getSnapshot()) ||
                                        void 0 === t
                                          ? void 0
                                          : t.lbMemory) || void 0 === o
                                      ? void 0
                                      : o.time) || void 0 === n
                                  ? void 0
                                  : n[e]) || void 0 === i
                              ? void 0
                              : i.english) && void 0 !== a
                          ? a
                          : 0,
                      d = null === (r = k[e]) || void 0 === r ? void 0 : r.rank;
                    if (d) {
                      const t = u - d;
                      t > 0
                        ? (l.updateLbMemory("time", e, "english", d, !0),
                          0 !== u &&
                            $(
                              `#leaderboardsWrapper table.${s} tfoot tr td .top`
                            ).append(
                              ` (<i class="fas fa-fw fa-angle-up"></i>${Math.abs(
                                t
                              )} since you last checked)`
                            ))
                        : t < 0
                        ? (l.updateLbMemory("time", e, "english", d, !0),
                          0 !== u &&
                            $(
                              `#leaderboardsWrapper table.${s} tfoot tr td .top`
                            ).append(
                              ` (<i class="fas fa-fw fa-angle-down"></i>${Math.abs(
                                t
                              )} since you last checked)`
                            ))
                        : 0 !== u &&
                          $(
                            `#leaderboardsWrapper table.${s} tfoot tr td .top`
                          ).append(" ( = since you last checked)");
                    }
                  })(e),
                  E(e),
                  N(P[e]).then((t) => {
                    (T[e] = t), z(e);
                  });
              }),
              $("#leaderboardsWrapper .leftTableWrapper").removeClass(
                "invisible"
              ),
              $("#leaderboardsWrapper .rightTableWrapper").removeClass(
                "invisible"
              ),
              D(),
              V(),
              $("#leaderboardsWrapper .buttons .button").removeClass("active"),
              $(
                "#leaderboardsWrapper .buttonGroup.timeRange .button." + C
              ).addClass("active"),
              $(
                "#leaderboardsWrapper #leaderboards .leftTableWrapper"
              ).scrollTop(0),
              $(
                "#leaderboardsWrapper #leaderboards .rightTableWrapper"
              ).scrollTop(0),
              (G = !0),
              (Y = !0);
          });
        }
        function K(e, t) {
          return r(this, void 0, void 0, function* () {
            L(e);
            const o = yield u.default.leaderboards.get(
                Object.assign(
                  {
                    language: S,
                    mode: "time",
                    mode2: e,
                    skip: t,
                  },
                  q()
                )
              ),
              n = o.data;
            503 !== o.status
              ? (A(e),
                (P[e] = []),
                (T[e] = []),
                200 === o.status && 0 !== n.length
                  ? ((P[e] = n),
                    yield E(e),
                    N(n).then((t) => {
                      (T[e] = t), z(e);
                    }),
                    B(e))
                  : B(e))
              : f.add(
                  "Leaderboards are currently updating - please try again later",
                  -1
                );
          });
        }
        function N(e) {
          return r(this, void 0, void 0, function* () {
            return Promise.allSettled(
              e.map((e) =>
                r(this, void 0, void 0, function* () {
                  return c.getDiscordAvatarUrl(e.discordId, e.discordAvatar);
                })
              )
            ).then((e) =>
              e.map((e) => ("fulfilled" === e.status ? e.value : null))
            );
          });
        }
        function z(e) {
          const t = $(
            `#leaderboardsWrapper table.${
              "15" === e ? "left" : "right"
            } tbody .lbav`
          );
          for (const [o, n] of T[e].entries()) {
            const e = t[o];
            null !== n
              ? $(e).html(
                  `<div class="avatar" style="background-image:url(${n})"></div>`
                )
              : $(e).html(
                  '<div class="avatarPlaceholder"><i class="fas fa-user-circle"></i></div>'
                );
          }
        }
        function U() {
          y.get()
            ? (b.append(_),
              c.isPopupVisible("leaderboardsWrapper") ||
                ((
                  null === m.Auth || void 0 === m.Auth
                    ? void 0
                    : m.Auth.currentUser
                )
                  ? ($(
                      "#leaderboardsWrapper #leaderboards .rightTableJumpToMe"
                    ).removeClass("disabled"),
                    $(
                      "#leaderboardsWrapper #leaderboards .leftTableJumpToMe"
                    ).removeClass("disabled"))
                  : ($(
                      "#leaderboardsWrapper #leaderboards .rightTableJumpToMe"
                    ).addClass("disabled"),
                    $(
                      "#leaderboardsWrapper #leaderboards .leftTableJumpToMe"
                    ).addClass("disabled")),
                $("#leaderboards table thead tr td:nth-child(3)").html(
                  d.default.typingSpeedUnit +
                    '<br><div class="sub">accuracy</div>'
                ),
                $("#leaderboardsWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: 1,
                    },
                    125,
                    () => {
                      H(),
                        W(),
                        (M = setInterval(() => {
                          W();
                        }, 1e3));
                    }
                  )))
            : f.add("You can't view leaderboards while offline", 0);
        }
        (t.hide = R),
          (t.show = U),
          $("#leaderboardsWrapper").on("click", (e) => {
            "leaderboardsWrapper" === $(e.target).attr("id") && R();
          });
        const Q = $(
          "#leaderboardsWrapper #leaderboards .leaderboardsTop .buttonGroup.timeRange .languageSelect"
        ).select2({
          placeholder: "select a language",
          width: "100%",
          data: [
            {
              id: "english",
              text: "english",
              selected: !0,
            },
            {
              id: "spanish",
              text: "spanish",
            },
            {
              id: "german",
              text: "german",
            },
            {
              id: "french",
              text: "french",
            },
            {
              id: "portuguese",
              text: "portuguese",
            },
            {
              id: "indonesian",
              text: "indonesian",
            },
            {
              id: "italian",
              text: "italian",
            },
            {
              id: "russian",
              text: "russian",
            },
          ],
        });
        Q.on("select2:select", (e) => {
          (S = e.params.data.id), D(), H();
        });
        let G = !0;
        $("#leaderboardsWrapper #leaderboards .leftTableWrapper").on(
          "scroll",
          (e) => {
            if (!G) return;
            const t = $(e.currentTarget);
            Math.round(t.scrollTop()) <= 50 && J("15", !0);
          }
        );
        const J = (0, w.debounce)(500, function (e, t = !1) {
          var o, n, i, a;
          return r(this, void 0, void 0, function* () {
            if (
              t &&
              1 === (null === (o = P[e][0]) || void 0 === o ? void 0 : o.rank)
            )
              return;
            if (O[e]) return;
            (O[e] = !0), L(e);
            let r,
              s =
                null === (n = P[e][P[e].length - 1]) || void 0 === n
                  ? void 0
                  : n.rank;
            t &&
              (s =
                (null !==
                  (a =
                    null === (i = P[e][0]) || void 0 === i ? void 0 : i.rank) &&
                void 0 !== a
                  ? a
                  : 0) - 50),
              s < 0 && ((r = Math.abs(s) - 1), (s = 0));
            const l = yield u.default.leaderboards.get(
                Object.assign(
                  {
                    language: S,
                    mode: "time",
                    mode2: e,
                    skip: s,
                    limit: r,
                  },
                  q()
                )
              ),
              d = l.data;
            if (200 !== l.status || 0 === d.length)
              return B(e), void (O[e] = !1);
            t ? P[e].unshift(...d) : P[e].push(...d),
              t && !r && (r = 49),
              yield E(e),
              N(d).then((o) => {
                t ? T[e].unshift(...o) : T[e].push(...o), z(e);
              }),
              B(e),
              (O[e] = !1);
          });
        });
        $("#leaderboardsWrapper #leaderboards .leftTableWrapper").on(
          "scroll",
          (e) => {
            if (!G) return;
            const t = $(e.currentTarget);
            t &&
              t[0] &&
              Math.round(t[0].scrollHeight - t.scrollTop()) <=
                Math.round(t.outerHeight()) + 50 &&
              J("15");
          }
        );
        let Y = !0;
        $("#leaderboardsWrapper #leaderboards .rightTableWrapper").on(
          "scroll",
          (e) => {
            if (!Y) return;
            const t = $(e.currentTarget);
            Math.round(t.scrollTop()) <= 50 && J("60", !0);
          }
        ),
          $("#leaderboardsWrapper #leaderboards .rightTableWrapper").on(
            "scroll",
            (e) => {
              const t = $(e.currentTarget);
              t &&
                t[0] &&
                Math.round(t[0].scrollHeight - t.scrollTop()) <=
                  Math.round(t.outerHeight() + 50) &&
                J("60");
            }
          ),
          $("#leaderboardsWrapper #leaderboards .leftTableJumpToTop").on(
            "click",
            () =>
              r(void 0, void 0, void 0, function* () {
                (G = !1),
                  $(
                    "#leaderboardsWrapper #leaderboards .leftTableWrapper"
                  ).scrollTop(0),
                  yield K("15", 0),
                  (G = !0);
              })
          ),
          $("#leaderboardsWrapper #leaderboards .leftTableJumpToMe").on(
            "click",
            () =>
              r(void 0, void 0, void 0, function* () {
                var e;
                if (!(null === (e = k[15]) || void 0 === e ? void 0 : e.rank))
                  return;
                (G = !1), yield K("15", k[15].rank - 25);
                const t = $(
                  "#leaderboardsWrapper #leaderboards .leftTableWrapper table tbody td"
                ).outerHeight();
                $(
                  "#leaderboardsWrapper #leaderboards .leftTableWrapper"
                ).animate(
                  {
                    scrollTop:
                      t * Math.min(k[15].rank, 25) -
                      $(
                        "#leaderboardsWrapper #leaderboards .leftTableWrapper"
                      ).outerHeight() /
                        2.25,
                  },
                  0,
                  () => {
                    G = !0;
                  }
                );
              })
          ),
          $("#leaderboardsWrapper #leaderboards .rightTableJumpToTop").on(
            "click",
            () =>
              r(void 0, void 0, void 0, function* () {
                (Y = !1),
                  $(
                    "#leaderboardsWrapper #leaderboards .rightTableWrapper"
                  ).scrollTop(0),
                  yield K("60", 0),
                  (Y = !0);
              })
          ),
          $("#leaderboardsWrapper #leaderboards .rightTableJumpToMe").on(
            "click",
            () =>
              r(void 0, void 0, void 0, function* () {
                var e;
                if (!(null === (e = k[60]) || void 0 === e ? void 0 : e.rank))
                  return;
                (G = !1), yield K("60", k[60].rank - 25);
                const t = $(
                  "#leaderboardsWrapper #leaderboards .rightTableWrapper table tbody td"
                ).outerHeight();
                $(
                  "#leaderboardsWrapper #leaderboards .rightTableWrapper"
                ).animate(
                  {
                    scrollTop:
                      t * Math.min(k[60].rank, 25) -
                      $(
                        "#leaderboardsWrapper #leaderboards .rightTableWrapper"
                      ).outerHeight() /
                        2.25,
                  },
                  0,
                  () => {
                    G = !0;
                  }
                );
              })
          ),
          $(
            "#leaderboardsWrapper #leaderboards .leaderboardsTop .buttonGroup.timeRange .allTime"
          ).on("click", () => {
            (C = "allTime"),
              (S = "english"),
              Q.prop("disabled", !0),
              Q.val("english"),
              Q.trigger("change"),
              H();
          }),
          $(
            "#leaderboardsWrapper #leaderboards .leaderboardsTop .buttonGroup.timeRange .daily"
          ).on("click", () => {
            (C = "daily"), V(), Q.prop("disabled", !1), H();
          }),
          $("#leaderboardsWrapper .showYesterdayButton").on("click", () => {
            (x = !x), H();
          }),
          $(document).on("keydown", (e) => {
            "Escape" === e.key &&
              c.isPopupVisible("leaderboardsWrapper") &&
              (R(), e.preventDefault());
          }),
          $("header nav").on("click", ".textButton", (e) => {
            $(e.currentTarget).hasClass("leaderboards") && U();
          }),
          b.save(_);
      },
      9817: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.hide = t.show = void 0),
          (t.show = function () {
            $("#backgroundLoader").stop(!0, !0).fadeIn(125);
          }),
          (t.hide = function () {
            $("#backgroundLoader").stop(!0, !0).fadeOut(125);
          });
      },
      2453: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.update = void 0);
        const u = a(o(5886)),
          l = a(o(1322)),
          d = a(o(6350)),
          c = a(o(7274)),
          p = s(o(6705)),
          f = a(o(9470)),
          h = a(o(1446)),
          m = o(6617),
          g = a(o(7717)),
          v = o(8628),
          y = o(3388);
        function b() {
          var e, t, o, n;
          return r(this, void 0, void 0, function* () {
            $(".pageTest #testModesNotice").empty(),
              l.isRepeated &&
                "quote" !== p.default.mode &&
                $(".pageTest #testModesNotice").append(
                  '<div class="textButton noInteraction" style="color:var(--error-color);"><i class="fas fa-sync-alt"></i>repeated</div>'
                ),
              l.savingEnabled ||
                $(".pageTest #testModesNotice").append(
                  '<div class="textButton" commands="resultSaving" style="color:var(--error-color);"><i class="fas fa-save"></i>saving disabled</div>'
                ),
              f.hasTab &&
                ("esc" === p.default.quickRestart
                  ? $(".pageTest #testModesNotice").append(
                      '<div class="textButton noInteraction"><i class="fas fa-long-arrow-alt-right"></i>shift + tab to open commandline</div>'
                    )
                  : $(".pageTest #testModesNotice").append(
                      '<div class="textButton noInteraction"><i class="fas fa-long-arrow-alt-right"></i>shift + tab to restart</div>'
                    )),
              f.hasNewline &&
                "enter" === p.default.quickRestart &&
                $(".pageTest #testModesNotice").append(
                  '<div class="textButton noInteraction"><i class="fas fa-level-down-alt fa-rotate-90"></i>shift + enter to restart</div>'
                );
            const i = g.getCustomTextName(),
              a = g.isCustomTextLong();
            if (
              ("custom" === p.default.mode &&
                "" !== i &&
                a &&
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton noInteraction"><i class="fas fa-book"></i>${i} (shift + enter to save progress)</div>`
                ),
              l.activeChallenge &&
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton noInteraction"><i class="fas fa-award"></i>${l.activeChallenge.display}</div>`
                ),
              "zen" === p.default.mode &&
                $(".pageTest #testModesNotice").append(
                  '<div class="textButton noInteraction"><i class="fas fa-poll"></i>shift + enter to finish zen </div>'
                ),
              "zen" !== p.default.mode &&
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton" commands="languages"><i class="fas fa-globe-americas"></i>${p.default.language.replace(
                    /_/g,
                    " "
                  )}</div>`
                ),
              "expert" === p.default.difficulty
                ? $(".pageTest #testModesNotice").append(
                    '<div class="textButton" commands="difficulty"><i class="fas fa-star-half-alt"></i>expert</div>'
                  )
                : "master" === p.default.difficulty &&
                  $(".pageTest #testModesNotice").append(
                    '<div class="textButton" commands="difficulty"><i class="fas fa-star"></i>master</div>'
                  ),
              p.default.blindMode &&
                $(".pageTest #testModesNotice").append(
                  '<div class="textButton" commands="blindMode"><i class="fas fa-eye-slash"></i>blind</div>'
                ),
              p.default.lazyMode &&
                $(".pageTest #testModesNotice").append(
                  '<div class="textButton" commands="lazyMode"><i class="fas fa-couch"></i>lazy</div>'
                ),
              "off" !== p.default.paceCaret ||
                (p.default.repeatedPace && l.isPaceRepeat))
            ) {
              let o = "";
              try {
                o = ` (${(0, y.roundTo2)(
                  (0, v.get)(p.default.typingSpeedUnit).fromWpm(
                    null !==
                      (t =
                        null === (e = u.settings) || void 0 === e
                          ? void 0
                          : e.wpm) && void 0 !== t
                      ? t
                      : 0
                  )
                )} ${p.default.typingSpeedUnit})`;
              } catch (e) {}
              $(".pageTest #testModesNotice").append(
                `<div class="textButton" commands="paceCaretMode"><i class="fas fa-tachometer-alt"></i>${
                  "average" === p.default.paceCaret
                    ? "average"
                    : "pb" === p.default.paceCaret
                    ? "pb"
                    : "last" === p.default.paceCaret
                    ? "last"
                    : "daily" === p.default.paceCaret
                    ? "daily"
                    : "custom"
                } pace${o}</div>`
              );
            }
            if ("off" !== p.default.showAverage) {
              let e = c.getWPM(),
                t = c.getAcc();
              if (
                (p.default.alwaysShowDecimalPlaces ||
                  ((e = Math.round(e)), (t = Math.round(t))),
                (null === m.Auth || void 0 === m.Auth
                  ? void 0
                  : m.Auth.currentUser) && e > 0)
              ) {
                const o = `${
                  ["speed", "both"].includes(p.default.showAverage)
                    ? (0, v.get)(
                        p.default.typingSpeedUnit
                      ).convertWithUnitSuffix(
                        e,
                        p.default.alwaysShowDecimalPlaces
                      )
                    : ""
                } ${
                  ["acc", "both"].includes(p.default.showAverage)
                    ? `${t}% acc`
                    : ""
                }`.trim();
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton" commands="showAverage"><i class="fas fa-chart-bar"></i>avg: ${o}</div>`
                );
              }
            }
            "off" !== p.default.minWpm &&
              $(".pageTest #testModesNotice").append(
                `<div class="textButton" commands="minWpm"><i class="fas fa-bomb"></i>min ${(0,
                y.roundTo2)(
                  (0, v.get)(p.default.typingSpeedUnit).fromWpm(
                    p.default.minWpmCustomSpeed
                  )
                )} ${p.default.typingSpeedUnit}</div>`
              ),
              "off" !== p.default.minAcc &&
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton" commands="minAcc"><i class="fas fa-bomb"></i>min ${p.default.minAccCustom}% acc</div>`
                ),
              "off" !== p.default.minBurst &&
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton" commands="minBurst"><i class="fas fa-bomb"></i>min ${(0,
                  y.roundTo2)(
                    (0, v.get)(p.default.typingSpeedUnit).fromWpm(
                      p.default.minBurstCustomSpeed
                    )
                  )} ${p.default.typingSpeedUnit} burst ${
                    "flex" === p.default.minBurst ? "(flex)" : ""
                  }</div>`
                ),
              "none" !== p.default.funbox &&
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton" commands="funbox"><i class="fas fa-gamepad"></i>${p.default.funbox
                    .replace(/_/g, " ")
                    .replace(/#/g, ", ")}</div>`
                ),
              "on" === p.default.confidenceMode &&
                $(".pageTest #testModesNotice").append(
                  '<div class="textButton" commands="confidenceMode"><i class="fas fa-backspace"></i>confidence</div>'
                ),
              "max" === p.default.confidenceMode &&
                $(".pageTest #testModesNotice").append(
                  '<div class="textButton" commands="confidenceMode"><i class="fas fa-backspace"></i>max confidence</div>'
                ),
              "off" !== p.default.stopOnError &&
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton" commands="stopOnError"><i class="fas fa-hand-paper"></i>stop on ${p.default.stopOnError}</div>`
                ),
              "default" !== p.default.layout &&
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton" commands="layouts"><i class="fas fa-keyboard"></i>emulating ${p.default.layout.replace(
                    /_/g,
                    " "
                  )}</div>`
                ),
              "off" !== p.default.oppositeShiftMode &&
                $(".pageTest #testModesNotice").append(
                  `<div class="textButton" commands="oppositeShiftMode"><i class="fas fa-exchange-alt"></i>opposite shift${
                    "keymap" === p.default.oppositeShiftMode ? " (keymap)" : ""
                  }</div>`
                );
            let r = "";
            try {
              null ===
                (n =
                  null === (o = d.getSnapshot()) || void 0 === o
                    ? void 0
                    : o.tags) ||
                void 0 === n ||
                n.forEach((e) => {
                  !0 === e.active && (r += e.display + ", ");
                }),
                "" !== r &&
                  $(".pageTest #testModesNotice").append(
                    `<div class="textButton" commands="tags"><i class="fas fa-tag"></i>${r.substring(
                      0,
                      r.length - 2
                    )}</div>`
                  );
            } catch (e) {}
          });
        }
        h.subscribe((e) => {
          [
            "difficulty",
            "blindMode",
            "stopOnError",
            "paceCaret",
            "minWpm",
            "minAcc",
            "minBurst",
            "confidenceMode",
            "layout",
            "showAverage",
            "typingSpeedUnit",
          ].includes(e) && b();
        }),
          (t.update = b);
      },
      6578: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.addPower = t.reset = t.init = void 0);
        const u = a(o(4203)),
          l = a(o(210)),
          d = s(o(6705)),
          c = {
            particles: [],
            rendering: !1,
          },
          p = 1500,
          f = [6, 3];
        function h(e, t, o) {
          return {
            x: e,
            y: t,
            color: o,
            alpha: 1,
            prev: {
              x: e,
              y: t,
            },
            vel: {
              x: p - Math.random() * p * 2,
              y: p - Math.random() * p * 2,
            },
          };
        }
        function m(e) {
          c.canvas &&
            c.deltaTime &&
            ((e.prev.x = e.x),
            (e.prev.y = e.y),
            (e.x += e.vel.x * c.deltaTime),
            (e.y += e.vel.y * c.deltaTime),
            e.x > c.canvas.width
              ? ((e.vel.x *= -0.3),
                (e.x = c.canvas.width - 0.3 * (e.x - c.canvas.width)))
              : e.x < 0 && ((e.vel.x *= -0.3), (e.x *= -0.3)),
            e.y > c.canvas.height
              ? ((e.vel.y *= -0.3),
                (e.y = c.canvas.height - 0.3 * (e.y - c.canvas.height)))
              : e.y < 0 && ((e.vel.y *= -1), (e.y *= -1)),
            (e.vel.y += 1e3 * c.deltaTime),
            (e.vel.x *= 1 - 0.05 * c.deltaTime),
            (e.alpha *= 1 - 0.6 * c.deltaTime));
        }
        function g() {
          if (!c.lastFrame || !c.context2d || !c.canvas) return;
          c.rendering = !0;
          const e = Date.now();
          (c.deltaTime = (e - c.lastFrame) / 1e3),
            (c.lastFrame = e),
            c.context2d.clearRect(0, 0, c.canvas.width, c.canvas.height);
          const t = [];
          for (const e of c.particles)
            e.alpha < 0.1 ||
              (m(e),
              (c.context2d.globalAlpha = e.alpha),
              (c.context2d.strokeStyle = e.color),
              (c.context2d.lineWidth = 4),
              c.context2d.beginPath(),
              c.context2d.moveTo(Math.round(e.prev.x), Math.round(e.prev.y)),
              c.context2d.lineTo(Math.round(e.x), Math.round(e.y)),
              c.context2d.stroke(),
              t.push(e));
          (c.particles = t),
            c.particles.length && !l.get()
              ? requestAnimationFrame(g)
              : (c.context2d.clearRect(0, 0, c.canvas.width, c.canvas.height),
                (c.rendering = !1));
        }
        function v(e = !1) {
          if (!c.resetTimeOut) return;
          delete c.resetTimeOut, clearTimeout(c.resetTimeOut);
          const t = $(document.body);
          t.css("transition", "all .25s, transform 0.8s"),
            t.css("transform", "translate(0,0)"),
            setTimeout(
              () => {
                t.css("transition", "all .25s, transform .05s"),
                  $("html").css("overflow", "inherit"),
                  $("html").css("overflow-y", "scroll");
              },
              e ? 0 : 1e3
            );
        }
        (t.init = function () {
          (c.caret = $("#caret")),
            (c.canvas = (function () {
              const e = document.createElement("canvas");
              return (
                (e.style.cssText =
                  "position:fixed;top:0;left:0;pointer-events:none;z-index:999999"),
                (e.height = window.innerHeight),
                (e.width = window.innerWidth),
                window.addEventListener("resize", () => {
                  (e.height = window.innerHeight),
                    (e.width = window.innerWidth);
                }),
                document.body.appendChild(e),
                e
              );
            })()),
            (c.context2d = c.canvas.getContext("2d"));
        }),
          (t.reset = v),
          (t.addPower = function (e = !0, t = !1) {
            var o, n, i, a, s;
            return r(this, void 0, void 0, function* () {
              if ("off" === d.default.monkeyPowerLevel || l.get()) return;
              if (
                (d.default.blindMode && (e = !0),
                ["3", "4"].includes(d.default.monkeyPowerLevel))
              ) {
                $("html").css("overflow", "hidden");
                const e = [
                  Math.round(10 - 10 * Math.random()),
                  Math.round(10 - 10 * Math.random()),
                ];
                $(document.body).css(
                  "transform",
                  `translate(${e[0]}px, ${e[1]}px)`
                ),
                  c.resetTimeOut && clearTimeout(c.resetTimeOut),
                  (c.resetTimeOut = setTimeout(v, 2e3));
              }
              const r =
                  null === (o = c.caret) || void 0 === o ? void 0 : o.offset(),
                p = [
                  null !== (n = null == r ? void 0 : r.left) && void 0 !== n
                    ? n
                    : 0,
                  (null !== (i = null == r ? void 0 : r.top) && void 0 !== i
                    ? i
                    : 0) +
                    (null !==
                      (s =
                        null === (a = c.caret) || void 0 === a
                          ? void 0
                          : a.height()) && void 0 !== s
                      ? s
                      : 0),
                ];
              for (
                let o = Math.round((f[0] + Math.random() * f[1]) * (t ? 2 : 1));
                o > 0;
                o--
              ) {
                const t = ["2", "4"].includes(d.default.monkeyPowerLevel)
                  ? `#${Math.floor(256 * Math.random()).toString(
                      16
                    )}${Math.floor(256 * Math.random()).toString(
                      16
                    )}${Math.floor(256 * Math.random()).toString(16)}`
                  : e
                  ? yield u.get("caret")
                  : yield u.get("error");
                c.particles.push(h(...p, t));
              }
              c.rendering || ((c.lastFrame = Date.now()), g());
            });
          });
      },
      5185: function (e, t, o) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const n = o(6144);
        $("#nocss .requestedStylesheets").html(
          "Requested stylesheets:<br>" +
            [...document.querySelectorAll("link[rel=stylesheet")]
              .map((e) => e.href)
              .filter((e) => /\/css\/style/gi.test(e))
              .join("<br>")
        ),
          $("#nocss .requestedJs").html(
            "Requested Javascript files:<br>" +
              [...document.querySelectorAll("script")]
                .map((e) => e.src)
                .filter((e) => /(\/js\/mon|\/js\/vendor)/gi.test(e))
                .join("<br>") +
              "<br><br>Client version:<br>" +
              n.CLIENT_VERSION
          ),
          window.navigator.userAgent.toLowerCase().includes("mac")
            ? $("#nocss .keys").html(
                '\n    <span\n      style="\n        padding: 1rem;\n        display: inline-block;\n        border-radius: 1rem;\n        background: #2c2e31;\n        margin-top: 1rem;\n        margin-bottom: 1rem;\n      "\n    >\n      Cmd\n    </span>\n    +\n    <span\n      style="\n        padding: 1rem;\n        display: inline-block;\n        border-radius: 1rem;\n        background: #2c2e31;\n      "\n    >\n      Shift\n    </span>\n    +\n    <span\n      style="\n        padding: 1rem;\n        display: inline-block;\n        border-radius: 1rem;\n        background: #2c2e31;\n      "\n    >\n      R\n    </span>\n  '
              )
            : $("#nocss .keys").html(
                '\n    <span\n      style="\n        padding: 1rem;\n        display: inline-block;\n        border-radius: 1rem;\n        background: #2c2e31;\n        margin-bottom: 1rem;\n      "\n    >\n      Ctrl\n    </span>\n    +\n    <span\n      style="\n        padding: 1rem;\n        display: inline-block;\n        border-radius: 1rem;\n        background: #2c2e31;\n      "\n    >\n      Shift\n    </span>\n    +\n    <span\n      style="\n        padding: 1rem;\n        display: inline-block;\n        border-radius: 1rem;\n        background: #2c2e31;\n      "\n    >\n      R\n    </span>\n  '
              );
      },
      3368: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.clearAllNotifications = t.addBanner = t.add = void 0);
        const r = o(2189),
          s = a(o(3388)),
          u = a(o(6389)),
          l = a(o(8766));
        function d() {
          const e = $("#bannerCenter").height();
          $("#contentWrapper").css(
            "padding-top",
            e + s.convertRemToPixels(2) + "px"
          ),
            $("#notificationCenter").css("margin-top", e + "px");
        }
        let c = 0,
          p = 0;
        class f {
          constructor(e, t, o, n, i, a, r, u = () => {}, l) {
            (this.type = e),
              (this.message = l ? t : s.escapeHTML(t)),
              (this.level = o),
              (this.important = n || !1),
              (this.duration =
                "banner" === e
                  ? i
                  : void 0 === i
                  ? -1 === o
                    ? 0
                    : 3e3
                  : 1e3 * i),
              (this.customTitle = a),
              (this.customIcon = r),
              (this.id = p++),
              (this.closeCallback = u);
          }
          show() {
            let e = "notice",
              t = '<i class="fas fa-info-circle"></i>',
              o = "Notice";
            if (
              (1 === this.level
                ? ((e = "good"),
                  (t = '<i class="fas fa-check-circle"></i>'),
                  (o = "Success"))
                : -1 === this.level &&
                  ((e = "bad"),
                  (t = '<i class="fas fa-times-circle"></i>'),
                  (o = "Error"),
                  console.error(this.message)),
              this.important && (e += " important"),
              void 0 !== this.customTitle && (o = this.customTitle),
              "banner" === this.type &&
                (t = '<i class="fas fa-fw fa-bullhorn"></i>'),
              void 0 !== this.customIcon &&
                (t = `<i class="fas fa-fw fa-${this.customIcon}"></i>`),
              "notification" === this.type)
            ) {
              0 === this.duration && (c++, h());
              const n = $("#notificationCenter .history").height();
              $("#notificationCenter .history").prepend(
                `\n\n          <div class="notif ${e}" id=${this.id}>\n              <div class="message"><div class="title"><div class="icon">${t}</div>${o}</div>${this.message}</div>\n          </div>\n\n          `
              );
              const i = $("#notificationCenter .history").height();
              $(`#notificationCenter .notif[id='${this.id}']`).remove(),
                $("#notificationCenter .history")
                  .css("margin-top", 0)
                  .animate(
                    {
                      marginTop: i - n,
                    },
                    125,
                    () => {
                      $("#notificationCenter .history").css("margin-top", 0),
                        $("#notificationCenter .history").prepend(
                          `\n\n                  <div class="notif ${e}" id=${this.id}>\n                      <div class="message"><div class="title"><div class="icon">${t}</div>${o}</div>${this.message}</div>\n                  </div>\n\n              `
                        ),
                        $(`#notificationCenter .notif[id='${this.id}']`)
                          .css("opacity", 0)
                          .animate(
                            {
                              opacity: 1,
                            },
                            125,
                            () => {
                              $(
                                `#notificationCenter .notif[id='${this.id}']`
                              ).css("opacity", "");
                            }
                          ),
                        $(`#notificationCenter .notif[id='${this.id}']`).on(
                          "click",
                          () => {
                            this.hide(),
                              this.closeCallback(),
                              0 === this.duration && c--,
                              h();
                          }
                        );
                    }
                  ),
                $(`#notificationCenter .notif[id='${this.id}']`).on(
                  "hover",
                  () => {
                    $(
                      `#notificationCenter .notif[id='${this.id}']`
                    ).toggleClass("hover");
                  }
                );
            } else if ("banner" === this.type) {
              let o = `<div class="icon lefticon">${t}</div>`;
              /images\/.*/.test(this.customIcon) &&
                (o = `<div class="image" style="background-image: url(${this.customIcon})"></div>`),
                $("#bannerCenter").prepend(
                  `\n        <div class="banner ${e}" id="${
                    this.id
                  }">\n        <div class="container">\n          ${o}\n          <div class="text">\n            ${
                    this.message
                  }\n          </div>\n          ${
                    this.duration >= 0
                      ? '\n          <div class="closeButton">\n            <i class="fas fa-fw fa-times"></i>\n          </div>\n          '
                      : `<div class="righticon">${t}</div>`
                  }\n        </div>\n      </div>\n      `
                ),
                d(),
                u.dispatch(),
                this.duration >= 0 &&
                  $(`#bannerCenter .banner[id='${this.id}'] .closeButton`).on(
                    "click",
                    () => {
                      this.hide(), this.closeCallback();
                    }
                  ),
                this.message.includes("please refresh") &&
                  ($(`#bannerCenter .banner[id='${this.id}']`).css(
                    "cursor",
                    "pointer"
                  ),
                  $(`#bannerCenter .banner[id='${this.id}']`).on(
                    "click",
                    () => {
                      window.location.reload();
                    }
                  ));
            }
            this.duration > 0 &&
              setTimeout(() => {
                this.hide();
              }, this.duration + 250);
          }
          hide() {
            "notification" === this.type
              ? $(`#notificationCenter .notif[id='${this.id}']`)
                  .css("opacity", 1)
                  .animate(
                    {
                      opacity: 0,
                    },
                    125,
                    () => {
                      $(`#notificationCenter .notif[id='${this.id}']`).animate(
                        {
                          height: 0,
                        },
                        125,
                        () => {
                          $(
                            `#notificationCenter .notif[id='${this.id}']`
                          ).remove();
                        }
                      );
                    }
                  )
              : "banner" === this.type &&
                $(`#bannerCenter .banner[id='${this.id}']`)
                  .css("opacity", 1)
                  .animate(
                    {
                      opacity: 0,
                    },
                    125,
                    () => {
                      $(`#bannerCenter .banner[id='${this.id}']`).remove(),
                        d(),
                        u.dispatch();
                    }
                  );
          }
        }
        function h() {
          c > 1
            ? ($("#notificationCenter .clearAll").removeClass("invisible"),
              $("#notificationCenter .clearAll").slideDown(125))
            : c < 1 &&
              ($("#notificationCenter .clearAll").addClass("invisible"),
              $("#notificationCenter .clearAll").slideUp(125));
        }
        (t.add = function (e, t = 0, o = {}) {
          l.dispatch(e, t, o.customTitle),
            new f(
              "notification",
              e,
              t,
              o.important,
              o.duration,
              o.customTitle,
              o.customIcon,
              o.closeCallback,
              o.allowHTML
            ).show();
        }),
          (t.addBanner = function (e, t = -1, o = "bullhorn", n = !1, i, a) {
            const r = new f("banner", e, t, !1, n ? -1 : 0, void 0, o, i, a);
            return r.show(), r.id;
          }),
          (t.clearAllNotifications = function () {
            $("#notificationCenter .notif").remove();
          });
        const m = (0, r.debounce)(100, d);
        $(window).on("resize", () => {
          m();
        }),
          $("#notificationCenter .clearAll").on("click", () => {
            $("#notificationCenter .notif.bad").each((e, t) => {
              var o;
              null === (o = $(t)[0]) || void 0 === o || o.click();
            }),
              (c = 0),
              h();
          });
      },
      7686: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.updateNameFontSize = t.update = void 0);
        const u = a(o(6350)),
          l = s(o(9546)),
          d = s(o(4673)),
          c = a(o(3388)),
          p = o(7401),
          f = o(2189),
          h = a(o(8281)),
          m = a(o(7346)),
          g = s(o(1715));
        function v(e, t) {
          var o,
            n,
            i,
            a,
            s,
            f,
            h,
            m,
            v,
            b,
            w,
            _,
            C,
            S,
            x,
            P,
            k,
            T,
            O,
            M,
            A,
            j,
            W,
            L,
            B,
            E,
            F,
            I,
            R,
            D;
          return r(this, void 0, void 0, function* () {
            const r = e.charAt(0).toUpperCase() + e.slice(1),
              V = $(`.page${r} .profile`),
              q = $(`.page${r} .profile .details`);
            V.attr("uid", null !== (o = t.uid) && void 0 !== o ? o : ""),
              V.attr("name", null !== (n = t.name) && void 0 !== n ? n : "");
            const H = !0 === t.banned,
              K = !0 === t.lbOptOut;
            if (!(q && t && t.name && t.addedAt)) return;
            if (
              (q.find(".placeholderAvatar").removeClass("hidden"),
              t.discordAvatar && t.discordId && !H
                ? c
                    .getDiscordAvatarUrl(t.discordId, t.discordAvatar, 256)
                    .then((e) => {
                      e &&
                        (q.find(".placeholderAvatar").addClass("hidden"),
                        q.find(".avatar").css("background-image", `url(${e})`));
                    })
                : q.find(".avatar").removeAttr("style"),
              (null === (i = t.inventory) || void 0 === i
                ? void 0
                : i.badges) && !H)
            ) {
              let e = "",
                o = "";
              for (const n of t.inventory.badges)
                !0 === n.selected
                  ? (e = (0, p.getHTMLById)(n.id))
                  : (o += (0, p.getHTMLById)(n.id, !0));
              q.find(".badges").empty().append(e),
                q.find(".allBadges").empty().append(o);
            }
            q.find(".name").text(t.name),
              H &&
                q
                  .find(".name")
                  .append(
                    '<div class="bannedIcon" aria-label="This account is banned" data-balloon-pos="up"><i class="fas fa-gavel"></i></div>'
                  ),
              K &&
                (q
                  .find(".name")
                  .append(
                    '<div class="bannedIcon" aria-label="This account has opted out of leaderboards" data-balloon-pos="up"><i class="fas fa-crown"></i></div>'
                  ),
                "profile" === e
                  ? V.find(".lbOptOutReminder")
                      .removeClass("hidden")
                      .text(
                        "Note: This account has opted out of the leaderboards, meaning their results aren't verified by the anticheat system and may not be legitimate."
                      )
                  : V.find(".lbOptOutReminder").addClass("hidden")),
              setTimeout(() => {
                y(e);
              }, 10);
            const N =
                "Joined " +
                (0, l.default)(
                  null !== (a = t.addedAt) && void 0 !== a ? a : 0,
                  "dd MMM yyyy"
                ),
              z = new Date(t.addedAt),
              U = (0, d.default)(new Date(), z),
              Q = `${U} day${1 !== U ? "s" : ""} ago`;
            q.find(".joined").text(N).attr("aria-label", Q);
            let G = "";
            if (
              (t.streak && (null == t ? void 0 : t.streak) > 1
                ? (q
                    .find(".streak")
                    .text(
                      `Current streak: ${t.streak} ${
                        1 === t.streak ? "day" : "days"
                      }`
                    ),
                  (G = `Longest streak: ${t.maxStreak} ${
                    1 === t.maxStreak ? "day" : "days"
                  }`))
                : (q.find(".streak").text(""), (G = "")),
              "account" === e)
            ) {
              const e =
                  null === (s = u.getSnapshot()) || void 0 === s
                    ? void 0
                    : s.results,
                o = null == e ? void 0 : e[0],
                n = 864e5;
              let i = c.getCurrentDayTimestamp(t.streakHourOffset) + n;
              i < Date.now() && (i += n);
              const a = (0, g.default)(i);
              if (
                (console.debug("Streak hour offset"),
                console.debug("date.now()", Date.now(), new Date(Date.now())),
                console.debug("dayInMilis", n),
                console.debug(
                  "difTarget",
                  new Date(c.getCurrentDayTimestamp(t.streakHourOffset) + n)
                ),
                console.debug("timeDif", a),
                console.debug(
                  "Misc.getCurrentDayTimestamp()",
                  c.getCurrentDayTimestamp(),
                  new Date(c.getCurrentDayTimestamp())
                ),
                console.debug("profile.streakHourOffset", t.streakHourOffset),
                o)
              ) {
                const e = c.isToday(o.timestamp, t.streakHourOffset),
                  n = c.isYesterday(o.timestamp, t.streakHourOffset);
                console.debug(
                  "lastResult.timestamp",
                  o.timestamp,
                  new Date(o.timestamp)
                ),
                  console.debug("isToday", e),
                  console.debug("isYesterday", n);
                const i = t.streakHourOffset
                  ? `(${t.streakHourOffset > 0 ? "+" : ""}${
                      t.streakHourOffset
                    } offset)`
                  : "";
                e
                  ? ((G += "\nClaimed today: yes"),
                    (G += `\nCome back in: ${a} ${i}`))
                  : ((G += "\nClaimed today: no"),
                    (G += `\nStreak lost in: ${a} ${i}`)),
                  console.debug(G),
                  void 0 === t.streakHourOffset &&
                    (G +=
                      "\n\nIf the streak reset time doesn't line up with your timezone, you can change it in Settings > Danger zone > Update streak hour offset.");
              }
            }
            q.find(".streak")
              .attr("aria-label", G)
              .attr("data-balloon-break", "");
            const J = q.find(".typingStats");
            J.find(".started .value").text(
              null !==
                (h =
                  null === (f = t.typingStats) || void 0 === f
                    ? void 0
                    : f.startedTests) && void 0 !== h
                ? h
                : 0
            ),
              J.find(".completed .value").text(
                null !==
                  (v =
                    null === (m = t.typingStats) || void 0 === m
                      ? void 0
                      : m.completedTests) && void 0 !== v
                  ? v
                  : 0
              ),
              J.find(".timeTyping .value").text(
                c.secondsToString(
                  Math.round(
                    null !==
                      (w =
                        null === (b = t.typingStats) || void 0 === b
                          ? void 0
                          : b.timeTyping) && void 0 !== w
                      ? w
                      : 0
                  ),
                  !0,
                  !0
                )
              );
            let Y = !1,
              Z = !1,
              X = !1;
            if (
              !H &&
              ((Y = !!(null === (_ = t.details) || void 0 === _
                ? void 0
                : _.bio)),
              q
                .find(".bio .value")
                .text(
                  null !==
                    (S =
                      null === (C = t.details) || void 0 === C
                        ? void 0
                        : C.bio) && void 0 !== S
                    ? S
                    : ""
                ),
              (Z = !!(null === (x = t.details) || void 0 === x
                ? void 0
                : x.keyboard)),
              q
                .find(".keyboard .value")
                .text(
                  null !==
                    (k =
                      null === (P = t.details) || void 0 === P
                        ? void 0
                        : P.keyboard) && void 0 !== k
                    ? k
                    : ""
                ),
              (null === (T = t.details) || void 0 === T
                ? void 0
                : T.socialProfiles.github) ||
                (null === (O = t.details) || void 0 === O
                  ? void 0
                  : O.socialProfiles.twitter) ||
                (null === (M = t.details) || void 0 === M
                  ? void 0
                  : M.socialProfiles.website))
            ) {
              X = !0;
              const e = q.find(".socials .value");
              e.empty();
              const o =
                null === (A = t.details) || void 0 === A
                  ? void 0
                  : A.socialProfiles.github;
              o &&
                e.append(
                  `<a href='https://github.com/${c.escapeHTML(
                    o
                  )}/' target="_blank" rel="nofollow me" aria-label="${c.escapeHTML(
                    o
                  )}" data-balloon-pos="up" class="textButton"><i class="fab fa-fw fa-github"></i></a>`
                );
              const n =
                null === (j = t.details) || void 0 === j
                  ? void 0
                  : j.socialProfiles.twitter;
              n &&
                e.append(
                  `<a href='https://twitter.com/${c.escapeHTML(
                    n
                  )}' target="_blank" rel="nofollow me" aria-label="${c.escapeHTML(
                    n
                  )}" data-balloon-pos="up" class="textButton"><i class="fab fa-fw fa-twitter"></i></a>`
                );
              const i =
                  null === (W = t.details) || void 0 === W
                    ? void 0
                    : W.socialProfiles.website,
                a = /^https?:\/\/(?:www\.)?([^/]+)/,
                r =
                  null !==
                    (B =
                      null === (L = null == i ? void 0 : i.match(a)) ||
                      void 0 === L
                        ? void 0
                        : L[1]) && void 0 !== B
                    ? B
                    : i;
              i &&
                e.append(
                  `<a href='${c.escapeHTML(
                    i
                  )}' target="_blank" rel="nofollow me" aria-label="${c.escapeHTML(
                    null != r ? r : ""
                  )}" data-balloon-pos="up" class="textButton"><i class="fas fa-fw fa-globe"></i></a>`
                );
            }
            const ee = null !== (E = t.xp) && void 0 !== E ? E : 0,
              te = c.getLevel(ee),
              oe = Math.floor(te),
              ne = c.getXpForLevel(oe),
              ie = Math.round(ne * (te % 1));
            if (
              (q
                .find(".level")
                .text(oe)
                .attr("aria-label", `${c.abbreviateNumber(ee)} total xp`),
              q
                .find(".xp")
                .text(`${c.abbreviateNumber(ie)}/${c.abbreviateNumber(ne)}`),
              q.find(".xpBar .bar").css("width", (ie / ne) * 100 + "%"),
              q
                .find(".xp")
                .attr(
                  "aria-label",
                  `${c.abbreviateNumber(ne - ie)} xp until next level`
                ),
              H)
            )
              V.find(".leaderboardsPositions").addClass("hidden");
            else {
              V.find(".leaderboardsPositions").removeClass("hidden");
              const o = "profile" === e ? t.allTimeLbs : t.lbMemory,
                n =
                  null ===
                    (I =
                      null === (F = null == o ? void 0 : o.time) || void 0 === F
                        ? void 0
                        : F[15]) || void 0 === I
                    ? void 0
                    : I.english,
                i =
                  null ===
                    (D =
                      null === (R = null == o ? void 0 : o.time) || void 0 === R
                        ? void 0
                        : R[60]) || void 0 === D
                    ? void 0
                    : D.english;
              if (n || i) {
                const e = n ? c.getPositionString(n) : "-";
                V.find(".leaderboardsPositions .group.t15 .pos").text(e);
                const t = i ? c.getPositionString(i) : "-";
                V.find(".leaderboardsPositions .group.t60 .pos").text(t);
              } else V.find(".leaderboardsPositions").addClass("hidden");
            }
            const ae = Y || Z;
            Y
              ? q.find(".bio").removeClass("hidden")
              : q.find(".bio").addClass("hidden"),
              Z
                ? q.find(".keyboard").removeClass("hidden")
                : q.find(".keyboard").addClass("hidden"),
              ae
                ? (q.find(".bioAndKeyboard").removeClass("hidden"),
                  q.find(".sep2").removeClass("hidden"))
                : (q.find(".bioAndKeyboard").addClass("hidden"),
                  q.find(".sep2").addClass("hidden")),
              X
                ? (q.find(".socials").removeClass("hidden"),
                  q.find(".sep3").removeClass("hidden"))
                : (q.find(".socials").addClass("hidden"),
                  q.find(".sep3").addClass("hidden")),
              q.removeClass("none"),
              q.removeClass("bioAndKey"),
              q.removeClass("soc"),
              q.removeClass("both"),
              X || ae
                ? X && !ae
                  ? q.addClass("soc")
                  : !X && ae
                  ? q.addClass("bioAndKey")
                  : X && ae && q.addClass("both")
                : q.addClass("none");
          });
        }
        function y(e) {
          if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent))
            return;
          let t;
          if (
            ("account" === e
              ? (t = $(".pageAccount .profile .details"))
              : "profile" === e && (t = $(".pageProfile .profile .details")),
            !t)
          )
            return;
          const o = t.find(".name"),
            n = o.parent()[0],
            i = o[0],
            a = c.convertRemToPixels(2);
          if (!i || !n) return;
          i.style.fontSize = "10px";
          const r = (n.clientWidth / i.clientWidth) * 10,
            s = Math.min(Math.max(r, 10), a);
          i.style.fontSize = `${s}px`;
        }
        (t.update = v),
          (t.updateNameFontSize = y),
          $(".details .editProfileButton").on("click", () => {
            const e = u.getSnapshot();
            e &&
              h.show(() => {
                v("account", e);
              });
          });
        const b = (0, f.throttle)(1e3, () => {
          const e = m.get();
          e && ["account", "profile"].includes(e) && y(e);
        });
        $(window).on("resize", () => {
          b();
        });
      },
      2709: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0);
        const u = s(o(7355)),
          l = o(3388),
          d = a(o(3368)),
          c = s(o(9546)),
          p = a(o(6001));
        function f() {
          var e, t;
          return null !==
            (t = JSON.parse(
              null !== (e = window.localStorage.getItem("confirmedPSAs")) &&
                void 0 !== e
                ? e
                : "[]"
            )) && void 0 !== t
            ? t
            : [];
        }
        t.show = function () {
          return r(this, void 0, void 0, function* () {
            const e = yield (function () {
              return r(this, void 0, void 0, function* () {
                const e = yield u.default.psas.get();
                return 500 === e.status
                  ? ((0, l.isDevEnvironment)()
                      ? d.addBanner(
                          "Dev Info: Backend server not running",
                          0,
                          "exclamation-triangle",
                          !1
                        )
                      : d.addBanner(
                          "Looks like the server is experiencing maintenance or some unexpected down time.<br>Check the <a target= '_blank' href='https://monkeytype.instatus.com/'>status page</a> or <a target= '_blank' href='https://twitter.com/monkeytypegame'>Twitter</a> for more information.",
                          -1,
                          "exclamation-triangle",
                          !1,
                          void 0,
                          !0
                        ),
                    null)
                  : 503 === e.status
                  ? (d.addBanner(
                      "Server is currently under maintenance. <a target= '_blank' href='https://monkeytype.instatus.com/'>Check the status page</a> for more info.",
                      -1,
                      "bullhorn",
                      !0,
                      void 0,
                      !0
                    ),
                    null)
                  : 200 !== e.status
                  ? null
                  : e.data;
              });
            })();
            if (null === e) return;
            if (0 === e.length)
              return void window.localStorage.setItem(
                "confirmedPSAs",
                JSON.stringify([])
              );
            const t = f();
            e.forEach((e) => {
              var o, n;
              if (e.date) {
                const t = new Date(e.date),
                  o = e.date - Date.now(),
                  n = (0, l.secondsToString)(o / 1e3, !1, !1, "text", !1, !0);
                (e.message = e.message.replace("{dateDifference}", n)),
                  (e.message = e.message.replace(
                    "{dateNoTime}",
                    (0, c.default)(t, "dd MMM yyyy")
                  )),
                  (e.message = e.message.replace(
                    "{date}",
                    (0, c.default)(t, "dd MMM yyyy HH:mm")
                  ));
              }
              p.addPSA(
                e.message,
                null !== (o = e.level) && void 0 !== o ? o : -1
              ),
                (t.includes(e._id) &&
                  !1 === (null !== (n = e.sticky) && void 0 !== n && n)) ||
                  d.addBanner(
                    e.message,
                    e.level,
                    "bullhorn",
                    e.sticky,
                    () => {
                      !(function (e) {
                        const t = f();
                        t.push(e),
                          window.localStorage.setItem(
                            "confirmedPSAs",
                            JSON.stringify(t)
                          );
                      })(e._id);
                    },
                    !0
                  );
            });
          });
        };
      },
      7553: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.showOrHideIfNeeded =
            t.updateButtonText =
            t.enableButton =
            t.disableButton =
            t.update =
            t.show =
            t.hide =
              void 0);
        const s = a(o(6350)),
          u = a(o(2207)),
          l = o(3388),
          d = a(o(4203));
        function c() {
          $(".pageAccount .resultBatches").addClass("hidden");
        }
        function p() {
          $(".pageAccount .resultBatches").removeClass("hidden");
        }
        function f() {
          $(".pageAccount .resultBatches button").prop("disabled", !0);
        }
        function h() {
          $(".pageAccount .resultBatches button").prop("disabled", !1);
        }
        function m(e) {
          $(".pageAccount .resultBatches button").text(e);
        }
        (t.hide = c),
          (t.show = p),
          (t.update = function () {
            var e, t, o, n, i, a, p;
            return r(this, void 0, void 0, function* () {
              const r =
                null === (e = s.getSnapshot()) || void 0 === e
                  ? void 0
                  : e.results;
              if (void 0 === r)
                return (
                  console.error(
                    "(Result batches) Results are missing but they should be available at the time of drawing the account page?"
                  ),
                  void c()
                );
              h();
              const g =
                  null !==
                    (n =
                      null ===
                        (o =
                          null === (t = s.getSnapshot()) || void 0 === t
                            ? void 0
                            : t.typingStats) || void 0 === o
                        ? void 0
                        : o.completedTests) && void 0 !== n
                    ? n
                    : 0,
                v = Math.round((r.length / g) * 100),
                y =
                  null !==
                    (a =
                      null === (i = u.get()) || void 0 === i
                        ? void 0
                        : i.results.limits) && void 0 !== a
                    ? a
                    : {
                        regularUser: 0,
                        premiumUser: 0,
                      },
                b = (
                  null === (p = s.getSnapshot()) || void 0 === p
                    ? void 0
                    : p.isPremium
                )
                  ? y.premiumUser
                  : y.regularUser,
                w = Math.round(((null == r ? void 0 : r.length) / b) * 100),
                _ = $(".pageAccount .resultBatches .bars"),
                C = {
                  downloaded: {
                    fill: _.find(".downloaded .fill"),
                    rightText: _.find(".downloaded.rightText"),
                  },
                  limit: {
                    fill: _.find(".limit .fill"),
                    rightText: _.find(".limit.rightText"),
                  },
                };
              C.downloaded.fill.css("width", Math.min(v, 100) + "%"),
                C.downloaded.rightText.text(
                  `${null == r ? void 0 : r.length} / ${g} (${v}%)`
                );
              const S = yield d.getAll();
              C.limit.fill.css({
                width: Math.min(w, 100) + "%",
                background: (0, l.blendTwoHexColors)(
                  S.sub,
                  S.error,
                  (0, l.mapRange)(w, 50, 100, 0, 1)
                ),
              }),
                C.limit.rightText.text(
                  `${null == r ? void 0 : r.length} / ${b} (${w}%)`
                ),
                $(".pageAccount .resultBatches > .text").text(""),
                r.length >= g && (f(), m("all results loaded")),
                r.length >= b && (f(), m("limit reached"));
            });
          }),
          (t.disableButton = f),
          (t.enableButton = h),
          (t.updateButtonText = m),
          (t.showOrHideIfNeeded = function () {
            var e, t, o, n, i, a, r;
            null !==
              (t =
                null === (e = s.getSnapshot()) || void 0 === e
                  ? void 0
                  : e.isPremium) &&
            void 0 !== t &&
            t
              ? (null !==
                  (i =
                    null ===
                      (n =
                        null === (o = s.getSnapshot()) || void 0 === o
                          ? void 0
                          : o.typingStats) || void 0 === n
                      ? void 0
                      : n.completedTests) && void 0 !== i
                  ? i
                  : 0) <=
                (null !==
                  (r =
                    null === (a = u.get()) || void 0 === a
                      ? void 0
                      : a.results.maxBatchSize) && void 0 !== r
                  ? r
                  : 0)
                ? c()
                : p()
              : c();
          });
      },
      1294: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.updateToggleWordsHistoryTime =
            t.setIsHoverChart =
            t.destroy =
            t.clear =
            t.highlightWordsInRange =
              void 0);
        const u = a(o(3388)),
          l = s(o(6705)),
          d = 16;
        let c,
          p,
          f,
          h = [],
          m = {},
          g = [],
          v = [],
          y = [],
          b = [],
          w = [],
          _ = new Date(),
          C = !1,
          S = !1,
          x = !0,
          P = !0,
          k = !1,
          T = !1;
        (t.highlightWordsInRange = function (e, t) {
          return r(this, void 0, void 0, function* () {
            if (!S) return !1;
            if (w && e === w[0] && t === w[1]) return !1;
            if (
              !C &&
              !(yield (function () {
                return r(this, void 0, void 0, function* () {
                  if (C || T) return !1;
                  T = !0;
                  const e = new Date().getTime() - _.getTime();
                  e < 250 && (yield new Promise((t) => setTimeout(t, 250 - e)));
                  const t = yield u.getCurrentLanguage(l.default.language);
                  if (
                    ((k = t.rightToLeft),
                    (p = $("#resultWordsHistory")[0]),
                    (f = p.getBoundingClientRect()),
                    (c = $(p).find(".words .word[input]")),
                    0 === c.length)
                  )
                    return (T = !1), !1;
                  let o,
                    n = -1,
                    i = 0;
                  m[0] = 0;
                  for (let e = 1; e < c.length; e++) {
                    const t = c[e],
                      a = c[e - 1];
                    t.offsetTop != a.offsetTop &&
                      (i++,
                      (o = u.getBoundingRectOfElements([c[n + 1], a])),
                      h.push({
                        firstWordIndex: n + 1,
                        lastWordIndex: e - 1,
                        rect: o,
                      }),
                      (n = e - 1)),
                      (m[e] = i);
                  }
                  (o = u.getBoundingRectOfElements([
                    c[n + 1],
                    c[c.length - 1],
                  ])),
                    h.push({
                      firstWordIndex: n + 1,
                      lastWordIndex: c.length - 1,
                      rect: o,
                    });
                  const a = f.width,
                    r = f.height,
                    s = f.top,
                    w = f.left;
                  return (
                    h.forEach((e) => {
                      const t = document.createElement("div");
                      t.classList.add("highlightContainer"), g.push(t);
                      const o = e.rect.top - 6,
                        n = e.rect.left - 8,
                        i = o - s,
                        u = n - w,
                        l = e.rect.width + d,
                        h = e.rect.height + 12,
                        m = e.rect.width,
                        $ = e.rect.height,
                        _ = (i / r) * 100 + "%",
                        C = (u / a) * 100 + "%",
                        S = (l / a) * 100 + "%",
                        x = (h / r) * 100 + "%";
                      (t.style.width = S),
                        (t.style.top = _),
                        (t.style.left = C),
                        (t.style.height = x);
                      const P = document.createElement("div"),
                        T = document.createElement("div");
                      (T.style.top = e.rect.top - o + "px"),
                        (T.style.left = e.rect.left - n + "px"),
                        (T.style.width = m + "px"),
                        (T.style.height = $ + "px"),
                        (P.className = "highlight highlight-hidden"),
                        (T.className = "inputWordsContainer");
                      for (
                        let t = e.firstWordIndex;
                        t <= e.lastWordIndex;
                        t += 1
                      ) {
                        const o = c[t],
                          n = o.getAttribute("input");
                        if (!n) continue;
                        const i = document.createElement("div");
                        let a;
                        (a = k ? e.rect.left - f.left + d : 0),
                          (i.style.left = o.offsetLeft + 8 - a + "px"),
                          (i.innerHTML = n
                            .replace(/\t/g, "_")
                            .replace(/\n/g, "_")
                            .replace(/</g, "&lt")
                            .replace(/>/g, "&gt")
                            .slice(0, o.childElementCount)),
                          (i.className = "inputWord"),
                          T.append(i),
                          b.push(i);
                      }
                      y.push(T),
                        v.push(P),
                        P.append(T),
                        t.append(P),
                        p.append(t);
                    }),
                    (C = !0),
                    (T = !1),
                    !0
                  );
                });
              })())
            )
              return !1;
            if (void 0 === e || void 0 === t || e < 0 || t < 0 || t < e)
              return !1;
            t = Math.min(t, c.length - 1);
            const o = (function (e, t, o = !1) {
              const n = m[e],
                i = new Array(h.length).fill(null).map(() => ({
                  highlightLeft: 0,
                  highlightRight: 0,
                  inputContainerLeft: 0,
                  inputContainerRight: 0,
                })),
                a = (function (e, t) {
                  var o, n, i, a;
                  const r = m[e],
                    s = m[t];
                  if (void 0 === r || void 0 === s) return 0;
                  const l = c[e],
                    p = c[t],
                    f = b[t],
                    g =
                      c[
                        null !==
                          (n =
                            null === (o = h[r]) || void 0 === o
                              ? void 0
                              : o.lastWordIndex) && void 0 !== n
                          ? n
                          : -1
                      ],
                    v =
                      c[
                        null !==
                          (a =
                            null === (i = h[s]) || void 0 === i
                              ? void 0
                              : i.firstWordIndex) && void 0 !== a
                          ? a
                          : -1
                      ];
                  if (
                    void 0 === l ||
                    void 0 === p ||
                    void 0 === f ||
                    void 0 === g ||
                    void 0 === v
                  )
                    return 0;
                  if (r == s) {
                    const e = u.getBoundingRectOfElements([l, p]),
                      t = p.getBoundingClientRect(),
                      o = f.getBoundingClientRect();
                    let n = e.width + d;
                    return (n -= t.width - o.width), n;
                  }
                  const y = u.getBoundingRectOfElements([l, g]),
                    w = u.getBoundingRectOfElements([v, p]);
                  let $ = y.width + w.width;
                  for (let e = r + 1; e < s; e++) $ += h[e].rect.width;
                  $ += 32 * (s - r);
                  const _ = p.getBoundingClientRect(),
                    C = f.getBoundingClientRect();
                  return ($ -= _.width - C.width), $;
                })(e, t),
                r = c[e],
                s = h[n],
                l = i[n],
                p = g[n],
                f = y[n];
              if (
                void 0 === r ||
                void 0 === s ||
                void 0 === l ||
                void 0 === p ||
                void 0 === f
              )
                return i;
              if (o) {
                const e = p.offsetLeft;
                (l.highlightRight =
                  s.rect.width - (r.offsetLeft + r.offsetWidth) + e + 8),
                  (l.highlightLeft = s.rect.width - (l.highlightRight + a) + d);
              } else
                (l.highlightLeft = r.offsetLeft),
                  (l.highlightRight = s.rect.width - (l.highlightLeft + a) + d);
              l.inputContainerLeft = o
                ? -1 * (f.getBoundingClientRect().width - a - l.highlightRight)
                : -1 * l.highlightLeft;
              for (let e = n - 1; e >= 0; e--) {
                const t = i[e],
                  n = i[e + 1],
                  r = h[e],
                  s = y[e];
                void 0 !== t &&
                  void 0 !== r &&
                  void 0 !== n &&
                  void 0 !== s &&
                  (o
                    ? ((t.highlightRight = n.highlightRight + r.rect.width + d),
                      (t.highlightLeft =
                        r.rect.width - (t.highlightRight + a) + d),
                      (t.inputContainerLeft =
                        -1 *
                        (s.getBoundingClientRect().width -
                          a -
                          t.highlightRight)))
                    : ((t.highlightLeft = n.highlightLeft + r.rect.width + d),
                      (t.highlightRight =
                        r.rect.width - (t.highlightLeft + a) + d),
                      (t.inputContainerLeft = -1 * t.highlightLeft)));
              }
              for (let e = n + 1; e < h.length; e++) {
                const t = i[e],
                  n = h[e - 1],
                  r = h[e],
                  s = i[e - 1],
                  u = y[e];
                void 0 !== t &&
                  void 0 !== n &&
                  void 0 !== r &&
                  void 0 !== s &&
                  void 0 !== u &&
                  (o
                    ? ((t.highlightRight =
                        -1 * (n.rect.width - s.highlightRight + d)),
                      (t.highlightLeft =
                        r.rect.width - (t.highlightRight + a) + d),
                      (t.inputContainerLeft =
                        -1 *
                        (u.getBoundingClientRect().width -
                          a -
                          t.highlightRight)))
                    : ((t.highlightLeft =
                        -1 * (n.rect.width - s.highlightLeft + d)),
                      (t.highlightRight =
                        r.rect.width - (t.highlightLeft + a) + d),
                      (t.inputContainerLeft = -1 * t.highlightLeft)));
              }
              return i;
            })(e, t, k);
            for (let e = 0; e < h.length; e++) {
              const t = v[e],
                n = t.children[0];
              t.classList.remove("highlight-hidden"),
                x || P
                  ? (t.classList.remove("withAnimation"),
                    n.classList.remove("withAnimation"))
                  : (t.classList.add("withAnimation"),
                    n.classList.add("withAnimation"));
              const i = o[e];
              i &&
                ((t.style.right = i.highlightRight + "px"),
                (n.style.left = i.inputContainerLeft + "px"),
                (t.style.left = i.highlightLeft + "px"));
            }
            return (x = !1), (P = !1), (w = [e, t]), !0;
          });
        }),
          (t.clear = function () {
            for (let e = 0; e < v.length; e++)
              v[e].classList.add("highlight-hidden");
            (P = !0), (w = []);
          }),
          (t.destroy = function () {
            if (C) {
              for (let e = 0; e < g.length; e++) g[e].remove();
              (v = []),
                (g = []),
                (m = {}),
                (h = []),
                (y = []),
                (b = []),
                (C = !1),
                (x = !0),
                (P = !0),
                (w = []);
            }
          }),
          (t.setIsHoverChart = function (e) {
            S = e;
          }),
          (t.updateToggleWordsHistoryTime = function () {
            _ = new Date();
          });
      },
      9406: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(7346));
        let s = !1;
        $(document).on("click", ".scrollToTopButton", () => {
          window.scrollTo({
            top: 0,
            behavior: "smooth",
          });
        }),
          $(window).on("scroll", () => {
            const e = r.get();
            if (
              "test" !== e &&
              ("about" === e || "settings" === e || "account" === e)
            ) {
              const e = window.scrollY;
              !s && e > 100
                ? ($(".scrollToTopButton").removeClass("invisible"), (s = !0))
                : s &&
                  e < 100 &&
                  ($(".scrollToTopButton").addClass("invisible"), (s = !1));
            }
          });
      },
      4203: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (i, a) {
              function r(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  a(e);
                }
              }
              function s(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  a(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(r, s);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.update = t.reset = t.getAll = t.get = void 0);
        let n = {
          bg: "#323437",
          main: "#e2b714",
          caret: "#e2b714",
          sub: "#646669",
          subAlt: "#2c2e31",
          text: "#d1d0c5",
          error: "#ca4754",
          errorExtra: "#7e2a33",
          colorfulError: "#ca4754",
          colorfulErrorExtra: "#7e2a33",
        };
        function i() {
          const e = getComputedStyle(document.body);
          (n.bg = e.getPropertyValue("--bg-color").replace(" ", "")),
            (n.main = e.getPropertyValue("--main-color").replace(" ", "")),
            (n.caret = e.getPropertyValue("--caret-color").replace(" ", "")),
            (n.sub = e.getPropertyValue("--sub-color").replace(" ", "")),
            (n.subAlt = e.getPropertyValue("--sub-alt-color").replace(" ", "")),
            (n.text = e.getPropertyValue("--text-color").replace(" ", "")),
            (n.error = e.getPropertyValue("--error-color").replace(" ", "")),
            (n.errorExtra = e
              .getPropertyValue("--error-extra-color")
              .replace(" ", "")),
            (n.colorfulError = e
              .getPropertyValue("--colorful-error-color")
              .replace(" ", "")),
            (n.colorfulErrorExtra = e
              .getPropertyValue("--colorful-error-extra-color")
              .replace(" ", ""));
        }
        (t.get = function (e) {
          return o(this, void 0, void 0, function* () {
            return n[e] || i(), n[e];
          });
        }),
          (t.getAll = function () {
            return o(this, void 0, void 0, function* () {
              return n.bg || i(), n;
            });
          }),
          (t.reset = function () {
            n = {
              bg: "",
              main: "",
              caret: "",
              sub: "",
              subAlt: "",
              text: "",
              error: "",
              errorExtra: "",
              colorfulError: "",
              colorfulErrorExtra: "",
            };
          }),
          (t.update = i);
      },
      8980: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (i, a) {
              function r(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  a(e);
                }
              }
              function s(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  a(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(r, s);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        function n(e) {
          window.localStorage.setItem("lastSeenVersion", e);
        }
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0),
          (t.show = function (e) {
            return o(this, void 0, void 0, function* () {
              const t = yield null !==
                (o = window.localStorage.getItem("lastSeenVersion")) &&
              void 0 !== o
                ? o
                : "";
              var o;
              "" !== t
                ? t !== e &&
                  (caches.keys().then(function (e) {
                    for (const t of e) caches.delete(t);
                  }),
                  $("#newVersionIndicator").removeClass("hidden"),
                  n(e))
                : n(e);
            });
          });
      },
      9294: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          o(3268),
          o(6617);
        const s = a(o(1072)),
          u = a(o(6350));
        o(5209), o(1493);
        const l = r(o(6705)),
          d = a(o(2474)),
          c = a(o(4626)),
          p = a(o(6084)),
          f = a(o(3448));
        o(4674);
        const h = o(9029);
        o(4173),
          o(4660),
          o(5153),
          o(2666),
          o(2845),
          o(2994),
          o(9360),
          o(8553),
          o(8325),
          o(7193),
          o(5331),
          o(6327),
          o(9406),
          o(4611),
          o(7841),
          o(5764),
          o(3875);
        const m = a(o(7520));
        o(41), o(4487), o(5185);
        const g = o(2864);
        o(3285), o(6857), o(2560), o(2198);
        const v = o.g;
        (v.snapshot = u.getSnapshot),
          (v.config = l.default),
          (v.toggleFilterDebug = m.toggleFilterDebug),
          (v.glarsesMode = h.enable),
          (v.stats = d.getStats),
          (v.replay = c.getReplayExport),
          (v.enableTimerDebug = p.enableTimerDebug),
          (v.getTimerStats = p.getTimerStats),
          (v.toggleUnsmoothedRaw = f.toggleUnsmoothedRaw),
          (v.egVideoListener = g.egVideoListener),
          (v.toggleDebugLogs = s.toggleDebugLogs);
      },
      6389: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.dispatch = t.subscribe = void 0);
        const o = [];
        (t.subscribe = function (e) {
          o.push(e);
        }),
          (t.dispatch = function () {
            o.forEach((e) => {
              try {
                e();
              } catch (e) {
                console.error("Banner event subscriber threw an error"),
                  console.error(e);
              }
            });
          });
      },
      1446: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.dispatch = t.subscribe = void 0);
        const o = [];
        (t.subscribe = function (e) {
          o.push(e);
        }),
          (t.dispatch = function (e, t, n, i, a) {
            o.forEach((o) => {
              try {
                o(e, t, n, i, a);
              } catch (e) {
                console.error("Config event subscriber threw an error"),
                  console.error(e);
              }
            });
          });
      },
      5928: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.subscribe = void 0);
        const o = [];
        function n(e) {
          o.forEach((t) => {
            try {
              t(e);
            } catch (e) {
              console.error("Connection event subscriber threw an error"),
                console.error(e);
            }
          });
        }
        (t.subscribe = function (e) {
          o.push(e);
        }),
          window.addEventListener("load", () => {
            window.addEventListener("online", () => {
              n(!0);
            }),
              window.addEventListener("offline", () => {
                n(!1);
              });
          });
      },
      2100: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.dispatch = t.subscribe = void 0);
        const o = [];
        (t.subscribe = function (e) {
          o.push(e);
        }),
          (t.dispatch = function (e, t) {
            o.forEach((o) => {
              try {
                o(e, t);
              } catch (e) {
                console.error("Google Sign Up event subscriber threw an error"),
                  console.error(e);
              }
            });
          });
      },
      5368: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (i, a) {
              function r(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  a(e);
                }
              }
              function s(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  a(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(r, s);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.highlight = t.flash = t.subscribe = void 0);
        const n = [];
        (t.subscribe = function (e) {
          n.push(e);
        }),
          (t.flash = function (e, t) {
            return o(this, void 0, void 0, function* () {
              n.forEach((o) => {
                try {
                  o("flash", e, t);
                } catch (e) {
                  console.error("Keymap flash event subscriber threw an error"),
                    console.error(e);
                }
              });
            });
          }),
          (t.highlight = function (e) {
            return o(this, void 0, void 0, function* () {
              n.forEach((t) => {
                try {
                  t("highlight", e);
                } catch (e) {
                  console.error(
                    "Keymap highlight event subscriber threw an error"
                  ),
                    console.error(e);
                }
              });
            });
          });
      },
      8766: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.dispatch = t.subscribe = void 0);
        const o = [];
        (t.subscribe = function (e) {
          o.push(e);
        }),
          (t.dispatch = function (e, t, n) {
            o.forEach((o) => {
              try {
                o(e, t, n);
              } catch (e) {
                console.error("Notification event subscriber threw an error"),
                  console.error(e);
              }
            });
          });
      },
      6507: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.dispatch = t.subscribe = void 0);
        const o = [];
        (t.subscribe = function (e) {
          o.push(e);
        }),
          (t.dispatch = function (e, t, n) {
            o.forEach((o) => {
              try {
                o(e, t, n);
              } catch (e) {
                console.error("Timer event subscriber threw an error"),
                  console.error(e);
              }
            });
          });
      },
      5012: function (e, t) {
        var o =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (i, a) {
              function r(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  a(e);
                }
              }
              function s(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  a(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(r, s);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.dispatch = t.subscribe = void 0);
        const n = [];
        (t.subscribe = function (e) {
          n.push(e);
        }),
          (t.dispatch = function (e) {
            return o(this, void 0, void 0, function* () {
              n.forEach((t) => {
                try {
                  t(e);
                } catch (e) {
                  console.error("TTS event subscriber threw an error"),
                    console.error(e);
                }
              });
            });
          });
      },
      5973: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.page = void 0);
        const u = s(o(3361)),
          l = a(o(590));
        (t.page = new u.default(
          "404",
          $(".page.page404"),
          "/404",
          () => r(void 0, void 0, void 0, function* () {}),
          () =>
            r(void 0, void 0, void 0, function* () {
              l.remove("page404");
            }),
          () =>
            r(void 0, void 0, void 0, function* () {
              l.append("page404", "main");
            }),
          () => r(void 0, void 0, void 0, function* () {})
        )),
          l.save("page404");
      },
      5331: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.page = void 0);
        const u = a(o(3388)),
          l = s(o(3361)),
          d = s(o(7355)),
          c = a(o(3368)),
          p = a(o(1833)),
          f = a(o(3285)),
          h = s(o(4834)),
          m = a(o(590));
        let g, v;
        function y() {
          return r(this, void 0, void 0, function* () {
            let e, t;
            try {
              e = yield u.getSupportersList();
            } catch (t) {
              c.add(u.createErrorMessage(t, "Failed to get supporters"), -1),
                (e = []);
            }
            try {
              t = yield u.getContributorsList();
            } catch (e) {
              c.add(u.createErrorMessage(e, "Failed to get contributors"), -1),
                (t = []);
            }
            (function () {
              return r(this, void 0, void 0, function* () {
                if (g && v) return;
                if (!f.get())
                  return void c.add(
                    "Cannot update all time stats - offline",
                    0
                  );
                const e = yield d.default.publicStats.getSpeedHistogram({
                  language: "english",
                  mode: "time",
                  mode2: "60",
                });
                e.status >= 200 && e.status < 300
                  ? (g = e.data)
                  : c.add(
                      `Failed to get global speed stats for histogram: ${e.message}`,
                      -1
                    );
                const t = yield d.default.publicStats.getTypingStats();
                t.status >= 200 && t.status < 300
                  ? (v = t.data)
                  : c.add(
                      `Failed to get global typing stats: ${e.message}`,
                      -1
                    );
              });
            })().then(() => {
              !(function () {
                var e, t;
                if (g) {
                  p.globalSpeedHistogram.updateColors();
                  const e = (function (e) {
                    const t = [],
                      o = [],
                      n = Object.keys(e).sort(
                        (e, t) => parseInt(e, 10) - parseInt(t, 10)
                      );
                    for (const [i, a] of n.entries()) {
                      const r = n[i + 1],
                        s = parseInt(a, 10);
                      if (
                        (t.push({
                          x: s,
                          y: e[s],
                        }),
                        o.push(`${s} - ${s + 9}`),
                        void 0 !== r && s + 10 !== parseInt(r, 10))
                      )
                        for (let e = s + 10; e < parseInt(r, 10); e += 10)
                          t.push({
                            x: e,
                            y: 0,
                          }),
                            o.push(`${e} - ${e + 9}`);
                    }
                    return {
                      data: t,
                      labels: o,
                    };
                  })(g);
                  (p.globalSpeedHistogram.data.labels = e.labels),
                    (p.globalSpeedHistogram.getDataset("count").data = e.data);
                }
                if (v) {
                  const o = Math.round(v.timeTyping),
                    n = (0, h.default)({
                      start: 0,
                      end: 1e3 * o,
                    });
                  $(".pageAbout #totalTimeTypingStat .val").text(
                    null !==
                      (t =
                        null === (e = n.years) || void 0 === e
                          ? void 0
                          : e.toString()) && void 0 !== t
                      ? t
                      : ""
                  ),
                    $(".pageAbout #totalTimeTypingStat .valSmall").text(
                      "years"
                    ),
                    $(".pageAbout #totalTimeTypingStat").attr(
                      "aria-label",
                      u.numberWithSpaces(Math.round(o / 3600)) + " hours"
                    );
                  const i = u.getNumberWithMagnitude(v.testsStarted);
                  $(".pageAbout #totalStartedTestsStat .val").text(
                    i.rounded < 10 ? i.roundedTo2 : i.rounded
                  ),
                    $(".pageAbout #totalStartedTestsStat .valSmall").text(
                      i.orderOfMagnitude
                    ),
                    $(".pageAbout #totalStartedTestsStat").attr(
                      "aria-label",
                      u.numberWithSpaces(v.testsStarted) + " tests"
                    );
                  const a = u.getNumberWithMagnitude(v.testsCompleted);
                  $(".pageAbout #totalCompletedTestsStat .val").text(
                    a.rounded < 10 ? a.roundedTo2 : a.rounded
                  ),
                    $(".pageAbout #totalCompletedTestsStat .valSmall").text(
                      a.orderOfMagnitude
                    ),
                    $(".pageAbout #totalCompletedTestsStat").attr(
                      "aria-label",
                      u.numberWithSpaces(v.testsCompleted) + " tests"
                    );
                }
              })();
            });
            const o = document.querySelector(".pageAbout .supporters");
            let n = "";
            for (const t of e) n += `<div>${t}</div>`;
            o && (o.innerHTML = n);
            const i = document.querySelector(".pageAbout .contributors");
            let a = "";
            for (const e of t) a += `<div>${e}</div>`;
            i && (i.innerHTML = a);
          });
        }
        (t.page = new l.default(
          "about",
          $(".page.pageAbout"),
          "/about",
          () => r(void 0, void 0, void 0, function* () {}),
          () =>
            r(void 0, void 0, void 0, function* () {
              $(".pageAbout .contributors").empty(),
                $(".pageAbout .supporters").empty(),
                (p.globalSpeedHistogram.getDataset("count").data = []),
                p.globalSpeedHistogram.updateColors(),
                m.remove("pageAbout");
            }),
          () =>
            r(void 0, void 0, void 0, function* () {
              m.append("pageAbout", "main"), y();
            }),
          () => r(void 0, void 0, void 0, function* () {})
        )),
          m.save("pageAbout");
      },
      7520: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.page = t.downloadResults = t.toggleFilterDebug = void 0);
        const u = a(o(6350)),
          l = a(o(1329)),
          d = a(o(4203)),
          c = a(o(1833)),
          p = a(o(6705)),
          f = p,
          h = a(o(6472)),
          m = a(o(2681)),
          g = a(o(140)),
          v = a(o(4335)),
          y = a(o(8911)),
          b = a(o(2026)),
          w = a(o(3368)),
          _ = s(o(3361)),
          C = a(o(3388)),
          S = o(8628),
          x = a(o(7686)),
          P = s(o(9546)),
          k = a(o(3285)),
          T = a(o(590)),
          O = a(o(1446)),
          M = a(o(7346)),
          A = o(6617),
          j = a(o(9817)),
          W = a(o(7553));
        let L = !1;
        t.toggleFilterDebug = function () {
          (L = !L), L && console.log("filterDebug is on");
        };
        let B = [],
          E = 0;
        function F(e) {
          var t, o;
          const n = (0, S.get)(p.default.typingSpeedUnit);
          if (!B || 0 === B.length) return;
          let i;
          i = e && e > E ? 10 * Math.ceil(e / 10) : E + 10;
          for (let e = E; e < i; e++) {
            const i = B[e];
            if (!i) continue;
            let a,
              r = i.difficulty;
            void 0 === r && (r = "normal");
            try {
              (a = n.fromWpm(i.rawWpm).toFixed(2)), void 0 === a && (a = "-");
            } catch (e) {
              a = "-";
            }
            let s = `<span aria-label="${
              null === (t = i.language) || void 0 === t
                ? void 0
                : t.replace("_", " ")
            }" data-balloon-pos="up"><i class="fas fa-fw fa-globe-americas"></i></span>`;
            "normal" === r
              ? (s += `<span aria-label="${i.difficulty}" data-balloon-pos="up"><i class="far fa-fw fa-star"></i></span>`)
              : "expert" === r
              ? (s += `<span aria-label="${i.difficulty}" data-balloon-pos="up"><i class="fas fa-fw fa-star-half-alt"></i></span>`)
              : "master" === r &&
                (s += `<span aria-label="${i.difficulty}" data-balloon-pos="up"><i class="fas fa-fw fa-star"></i></span>`),
              i.punctuation &&
                (s +=
                  '<span aria-label="punctuation" data-balloon-pos="up"><i class="fas fa-fw fa-at"></i></span>'),
              i.numbers &&
                (s +=
                  '<span aria-label="numbers" data-balloon-pos="up"><i class="fas fa-fw fa-hashtag"></i></span>'),
              i.blindMode &&
                (s +=
                  '<span aria-label="blind mode" data-balloon-pos="up"><i class="fas fa-fw fa-eye-slash"></i></span>'),
              i.lazyMode &&
                (s +=
                  '<span aria-label="lazy mode" data-balloon-pos="up"><i class="fas fa-fw fa-couch"></i></span>'),
              "none" !== i.funbox &&
                void 0 !== i.funbox &&
                (s += `<span aria-label="${i.funbox
                  .replace(/_/g, " ")
                  .replace(
                    /#/g,
                    ", "
                  )}" data-balloon-pos="up"><i class="fas fa-gamepad"></i></span>`),
              void 0 === i.chartData
                ? (s +=
                    '<span class="miniResultChartButton" aria-label="No chart data found" data-balloon-pos="up"><i class="fas fa-chart-line"></i></span>')
                : "toolong" === i.chartData
                ? (s +=
                    '<span class="miniResultChartButton" aria-label="Chart history is not available for long tests" data-balloon-pos="up"><i class="fas fa-chart-line"></i></span>')
                : (s += `<span class="miniResultChartButton" aria-label="View graph" data-balloon-pos="up" filteredResultsId="${e}" style="opacity: 1"><i class="fas fa-chart-line"></i></span>`);
            let l,
              d = "";
            void 0 !== i.tags &&
              i.tags.length > 0 &&
              (i.tags.forEach((e) => {
                var t, o;
                null ===
                  (o =
                    null === (t = u.getSnapshot()) || void 0 === t
                      ? void 0
                      : t.tags) ||
                  void 0 === o ||
                  o.forEach((t) => {
                    e === t._id && (d += t.display + ", ");
                  });
              }),
              (d = d.substring(0, d.length - 2))),
              (l = void 0 === i.tags ? "[]" : JSON.stringify(i.tags));
            let c = `<span id="resultEditTags" resultId="${i._id}" tags='${l}' aria-label="no tags" data-balloon-pos="up" style="opacity: .25"><i class="fas fa-fw fa-tag"></i></span>`;
            "" !== d &&
              (c =
                void 0 !== i.tags && i.tags.length > 1
                  ? `<span id="resultEditTags" resultId="${i._id}" tags='${l}' aria-label="${d}" data-balloon-pos="up"><i class="fas fa-fw fa-tags"></i></span>`
                  : `<span id="resultEditTags" resultId="${i._id}" tags='${l}' aria-label="${d}" data-balloon-pos="up"><i class="fas fa-fw fa-tag"></i></span>`);
            let p = "-";
            i.consistency && (p = i.consistency.toFixed(2) + "%");
            let f =
              null === (o = i.isPb) || void 0 === o ? void 0 : o.toString();
            f = f ? '<i class="fas fa-fw fa-crown"></i>' : "";
            const h = i.charStats.join("/"),
              m = new Date(i.timestamp);
            $(".pageAccount .history table tbody").append(
              `\n    <tr class="resultRow" id="result-${e}">\n    <td>${f}</td>\n    <td>${n
                .fromWpm(i.wpm)
                .toFixed(2)}</td>\n    <td>${a}</td>\n    <td>${i.acc.toFixed(
                2
              )}%</td>\n    <td>${p}</td>\n    <td>${h}</td>\n    <td>${
                i.mode
              } ${
                i.mode2
              }</td>\n    <td class="infoIcons">${s}</td>\n    <td>${c}</td>\n    <td>${(0,
              P.default)(m, "dd MMM yyyy")}<br>\n    ${(0, P.default)(
                m,
                "HH:mm"
              )}\n    </td>\n    </tr>`
            );
          }
          (E = i),
            E >= B.length
              ? $(".pageAccount .loadMoreButton").addClass("hidden")
              : $(".pageAccount .loadMoreButton").removeClass("hidden");
        }
        let I = 0,
          R = [],
          D = [];
        function V() {
          var e, t, o;
          return r(this, void 0, void 0, function* () {
            v.updateText("Displaying stats..."),
              v.updateBar(100),
              console.log("updating account page"),
              d.update(),
              m.update();
            const n = u.getSnapshot();
            if (!n) return;
            g.update(n.personalBests),
              x.update("account", n),
              W.update(),
              (R = []),
              (D = []);
            const i = [];
            E = 0;
            let a = 0,
              s = "",
              f = 0,
              h = 0,
              b = 0,
              _ = 0,
              P = 0,
              k = 0,
              T = 0,
              O = 0;
            const M = {
              total: 0,
              count: 0,
              last10Total: 0,
              last10Count: 0,
              max: 0,
            };
            let A = 0;
            I = 0;
            let j = 0,
              V = 0,
              q = 0,
              K = 0;
            const N = {},
              z = [],
              U = (0, S.get)(p.default.typingSpeedUnit);
            (B = []),
              $(".pageAccount .history table tbody").empty(),
              null ===
                (t =
                  null === (e = u.getSnapshot()) || void 0 === e
                    ? void 0
                    : e.results) ||
                void 0 === t ||
                t.forEach((e) => {
                  var t, o, n, r, d, c, p, m, g;
                  try {
                    if (!l.getFilter("pb", !0 === e.isPb ? "yes" : "no"))
                      return void (
                        L && console.log("skipping result due to pb filter", e)
                      );
                    let i = e.difficulty;
                    if (
                      (void 0 === i && (i = "normal"),
                      !l.getFilter("difficulty", i))
                    )
                      return void (
                        L &&
                        console.log(
                          "skipping result due to difficulty filter",
                          e
                        )
                      );
                    if (!l.getFilter("mode", e.mode))
                      return void (
                        L &&
                        console.log("skipping result due to mode filter", e)
                      );
                    if ("time" === e.mode) {
                      let t = "custom";
                      if (
                        (["15", "30", "60", "120"].includes(`${e.mode2}`) &&
                          (t = `${e.mode2}`),
                        !l.getFilter("time", t))
                      )
                        return void (
                          L &&
                          console.log("skipping result due to time filter", e)
                        );
                    } else if ("words" === e.mode) {
                      let t = "custom";
                      if (
                        (["10", "25", "50", "100", "200"].includes(
                          `${e.mode2}`
                        ) && (t = `${e.mode2}`),
                        !l.getFilter("words", t))
                      )
                        return void (
                          L &&
                          console.log("skipping result due to word filter", e)
                        );
                    }
                    if (null !== e.quoteLength) {
                      let t;
                      if (
                        (0 === e.quoteLength
                          ? (t = "short")
                          : 1 === e.quoteLength
                          ? (t = "medium")
                          : 2 === e.quoteLength
                          ? (t = "long")
                          : 3 === e.quoteLength && (t = "thicc"),
                        void 0 !== t && !l.getFilter("quoteLength", t))
                      )
                        return void (
                          L &&
                          console.log(
                            "skipping result due to quoteLength filter",
                            e
                          )
                        );
                    }
                    let a = l.getFilter(
                      "language",
                      null !== (t = e.language) && void 0 !== t ? t : "english"
                    );
                    if (
                      ("english_expanded" === e.language &&
                        l.getFilter("language", "english_1k") &&
                        (a = !0),
                      !a)
                    )
                      return void (
                        L &&
                        console.log("skipping result due to language filter", e)
                      );
                    let s = "off";
                    if (
                      (e.punctuation && (s = "on"),
                      !l.getFilter("punctuation", s))
                    )
                      return void (
                        L &&
                        console.log(
                          "skipping result due to punctuation filter",
                          e
                        )
                      );
                    let p = "off";
                    if ((e.numbers && (p = "on"), !l.getFilter("numbers", p)))
                      return void (
                        L &&
                        console.log("skipping result due to numbers filter", e)
                      );
                    if ("none" === e.funbox || void 0 === e.funbox) {
                      if (!l.getFilter("funbox", "none"))
                        return void (
                          L &&
                          console.log("skipping result due to funbox filter", e)
                        );
                    } else {
                      let t = 0;
                      for (const o of e.funbox.split("#"))
                        if (l.getFilter("funbox", o)) {
                          t++;
                          break;
                        }
                      if (0 === t)
                        return void (
                          L &&
                          console.log("skipping result due to funbox filter", e)
                        );
                    }
                    let f = !0;
                    if (void 0 === e.tags || 0 === e.tags.length)
                      (null !==
                        (r =
                          null ===
                            (n =
                              null === (o = u.getSnapshot()) || void 0 === o
                                ? void 0
                                : o.tags) || void 0 === n
                            ? void 0
                            : n.length) && void 0 !== r
                        ? r
                        : 0) > 0
                        ? l.getFilter("tags", "none") && (f = !1)
                        : (f = !1);
                    else {
                      const t =
                        null ===
                          (c =
                            null === (d = u.getSnapshot()) || void 0 === d
                              ? void 0
                              : d.tags) || void 0 === c
                          ? void 0
                          : c.map((e) => e._id);
                      if (void 0 === t) return;
                      e.tags.forEach((e) => {
                        f &&
                          ((null == t ? void 0 : t.includes(e))
                            ? l.getFilter("tags", e) && (f = !1)
                            : l.getFilter("tags", "none") && (f = !1));
                      });
                    }
                    if (f)
                      return void (
                        L && console.log("skipping result due to tag filter", e)
                      );
                    const h = Math.abs(e.timestamp - Date.now()) / 1e3;
                    let m = !0;
                    if (
                      ((l.getFilter("date", "all") ||
                        (l.getFilter("date", "last_day") && h <= 86400) ||
                        (l.getFilter("date", "last_week") && h <= 604800) ||
                        (l.getFilter("date", "last_month") && h <= 2592e3) ||
                        (l.getFilter("date", "last_3months") && h <= 7776e3)) &&
                        (m = !1),
                      m)
                    )
                      return void (
                        L &&
                        console.log("skipping result due to date filter", e)
                      );
                    B.push(e);
                  } catch (t) {
                    w.add(
                      "Something went wrong when filtering. Resetting filters.",
                      0
                    ),
                      console.log(e),
                      console.error(t),
                      l.reset(),
                      l.updateActive(),
                      H();
                  }
                  A += Math.round((e.wpm / 60) * e.testDuration);
                  const v = new Date(e.timestamp);
                  v.setSeconds(0),
                    v.setMinutes(0),
                    v.setHours(0),
                    v.setMilliseconds(0);
                  const y = v.getTime(),
                    $ = N[y];
                  void 0 !== $
                    ? ($.amount++,
                      ($.time +=
                        e.testDuration +
                        e.incompleteTestSeconds -
                        (null !== (p = e.afkDuration) && void 0 !== p ? p : 0)),
                      ($.totalWpm += e.wpm))
                    : (N[y] = {
                        amount: 1,
                        time:
                          e.testDuration +
                          e.incompleteTestSeconds -
                          (null !== (m = e.afkDuration) && void 0 !== m
                            ? m
                            : 0),
                        totalWpm: e.wpm,
                      });
                  const S = U.histogramDataBucketSize,
                    x = Math.floor(Math.round(U.fromWpm(e.wpm)) / S);
                  if (z.length <= x)
                    for (let e = z.length; e <= x; e++) z.push(0);
                  z[x]++;
                  let W = 0;
                  if (
                    (void 0 === e.testDuration &&
                    "custom" !== e.mode2 &&
                    "zen" !== e.mode2
                      ? "time" === e.mode
                        ? (W = parseInt(e.mode2))
                        : "words" === e.mode &&
                          (W = (parseInt(e.mode2) / e.wpm) * 60)
                      : (W = parseFloat(e.testDuration)),
                    void 0 !== e.incompleteTestSeconds
                      ? (W += e.incompleteTestSeconds)
                      : void 0 !== e.restartCount &&
                        e.restartCount > 0 &&
                        (W += (W / 4) * e.restartCount),
                    (I += W),
                    _ < 10 &&
                      (_++,
                      (P += e.wpm),
                      (O += e.acc),
                      void 0 !== e.consistency && (q += e.consistency)),
                    b++,
                    void 0 !== e.consistency &&
                      (K++,
                      (V += e.consistency),
                      e.consistency > j && (j = e.consistency)),
                    null !== e.rawWpm &&
                      (M.last10Count < 10 &&
                        (M.last10Count++, (M.last10Total += e.rawWpm)),
                      (M.total += e.rawWpm),
                      M.count++,
                      e.rawWpm > M.max && (M.max = e.rawWpm)),
                    e.acc > k && (k = e.acc),
                    (T += e.acc),
                    void 0 !== e.restartCount && (f += e.restartCount),
                    R.push({
                      x: B.length,
                      y: C.roundTo2(U.fromWpm(e.wpm)),
                      wpm: C.roundTo2(U.fromWpm(e.wpm)),
                      acc: e.acc,
                      mode: e.mode,
                      mode2: e.mode2,
                      punctuation: e.punctuation,
                      language: e.language,
                      timestamp: e.timestamp,
                      difficulty: e.difficulty,
                      raw: C.roundTo2(U.fromWpm(e.rawWpm)),
                      isPb: null !== (g = e.isPb) && void 0 !== g && g,
                    }),
                    i.push(e.wpm),
                    D.push({
                      x: B.length,
                      y: e.acc,
                      errorRate: 100 - e.acc,
                    }),
                    e.wpm > a)
                  ) {
                    const t = e.punctuation ? ",<br>with punctuation" : "",
                      o = e.numbers
                        ? ",<br> " + (e.punctuation ? "&" : "") + "with numbers"
                        : "";
                    (a = e.wpm),
                      (s =
                        "custom" === e.mode
                          ? e.mode
                          : e.mode + " " + e.mode2 + t + o);
                  }
                  h += e.wpm;
                }),
              $(
                ".pageAccount .group.history table thead tr td:nth-child(2)"
              ).text(p.default.typingSpeedUnit),
              yield C.sleep(0),
              F();
            const Q = [],
              G = [],
              J = U.historyStepSize;
            for (const e of Object.keys(N)) {
              const t = parseInt(e),
                o = N[t];
              void 0 !== o &&
                (Q.push({
                  x: t,
                  y: o.time / 60,
                  amount: o.amount,
                }),
                G.push({
                  x: t,
                  y: C.roundTo2(U.fromWpm(o.totalWpm) / o.amount),
                }));
            }
            const Y = c.accountActivity.options.scales.avgWpm;
            (Y.title.text = "Average " + p.default.typingSpeedUnit),
              (Y.ticks.stepSize = J),
              (c.accountActivity.getDataset("count").data = Q),
              (c.accountActivity.getDataset("avgWpm").data = G);
            const Z = [],
              X = [],
              ee = U.histogramDataBucketSize,
              te = ee - (ee <= 1 ? 0.01 : 1);
            z.forEach((e, t) => {
              const o = t * ee;
              X.push(`${o} - ${o + te}`),
                Z.push({
                  x: o,
                  y: e,
                });
            }),
              (c.accountHistogram.data.labels = X),
              (c.accountHistogram.getDataset("count").data = Z);
            const oe = c.accountHistory.options.scales.wpm;
            if (((oe.title.text = U.fullUnitString), R.length > 0)) {
              let e = 0;
              const t = [];
              for (let o = R.length - 1; o >= 0; o--) {
                const n = R[o];
                n.y > e && ((e = n.y), t.push(n));
              }
              t.push({
                x: 1,
                y:
                  null === (o = C.lastElementFromArray(t)) || void 0 === o
                    ? void 0
                    : o.y,
              });
              const n = [],
                i = [],
                a = [],
                r = [];
              for (let e = 0; e < R.length; e++) {
                const t = R.slice(e, e + 10),
                  o = D.slice(e, e + 10),
                  s = t.reduce((e, { y: t }) => e + t, 0) / t.length,
                  u = o.reduce((e, { y: t }) => e + t, 0) / o.length;
                n.push({
                  x: e + 1,
                  y: s,
                }),
                  i.push({
                    x: e + 1,
                    y: u,
                  });
                const l = R.slice(e, e + 100),
                  d = D.slice(e, e + 100),
                  c = l.reduce((e, { y: t }) => e + t, 0) / l.length,
                  p = d.reduce((e, { y: t }) => e + t, 0) / d.length;
                a.push({
                  x: e + 1,
                  y: c,
                }),
                  r.push({
                    x: e + 1,
                    y: p,
                  });
              }
              (c.accountHistory.getDataset("wpm").data = R),
                (c.accountHistory.getDataset("pb").data = t),
                (c.accountHistory.getDataset("acc").data = D),
                (c.accountHistory.getDataset("wpmAvgTen").data = n),
                (c.accountHistory.getDataset("accAvgTen").data = i),
                (c.accountHistory.getDataset("wpmAvgHundred").data = a),
                (c.accountHistory.getDataset("accAvgHundred").data = r),
                (c.accountHistory.getScale("x").max = R.length + 1);
            }
            const ne = R.map((e) => e.y),
              ie = Math.min(...ne),
              ae = Math.max(...ne),
              re = isFinite(ie) ? ie : 0,
              se = isFinite(ae) ? ae : 0,
              ue = Math.floor(se) + (J - (Math.floor(se) % J));
            if (
              ((oe.max = ue),
              (oe.ticks.stepSize = J),
              (c.accountHistory.getScale("pb").max = ue),
              (c.accountHistory.getScale("wpmAvgTen").max = ue),
              (c.accountHistory.getScale("wpmAvgHundred").max = ue),
              p.default.startGraphsAtZero)
            )
              (c.accountHistory.getScale("wpm").min = 0),
                (c.accountHistory.getScale("pb").min = 0),
                (c.accountHistory.getScale("wpmAvgTen").min = 0),
                (c.accountHistory.getScale("wpmAvgHundred").min = 0);
            else {
              const e = Math.floor(re / J) * J;
              (c.accountHistory.getScale("wpm").min = e),
                (c.accountHistory.getScale("pb").min = e),
                (c.accountHistory.getScale("wpmAvgTen").min = e),
                (c.accountHistory.getScale("wpmAvgHundred").min = e);
            }
            R && 0 !== R.length
              ? ($(".pageAccount .group.noDataError").addClass("hidden"),
                $(".pageAccount .group.chart").removeClass("hidden"),
                $(".pageAccount .group.dailyActivityChart").removeClass(
                  "hidden"
                ),
                $(".pageAccount .group.histogramChart").removeClass("hidden"),
                $(".pageAccount .group.aboveHistory").removeClass("hidden"),
                $(".pageAccount .group.history").removeClass("hidden"),
                $(".pageAccount .triplegroup.stats").removeClass("hidden"),
                $(".pageAccount .group.estimatedWordsTyped").removeClass(
                  "hidden"
                ))
              : ($(".pageAccount .group.noDataError").removeClass("hidden"),
                $(".pageAccount .group.chart").addClass("hidden"),
                $(".pageAccount .group.dailyActivityChart").addClass("hidden"),
                $(".pageAccount .group.histogramChart").addClass("hidden"),
                $(".pageAccount .group.aboveHistory").addClass("hidden"),
                $(".pageAccount .group.history").addClass("hidden"),
                $(".pageAccount .triplegroup.stats").addClass("hidden"),
                $(".pageAccount .group.estimatedWordsTyped").addClass(
                  "hidden"
                )),
              $(".pageAccount .timeTotalFiltered .val").text(
                C.secondsToString(Math.round(I), !0, !0)
              );
            let le = U.fromWpm(a);
            le = p.default.alwaysShowDecimalPlaces
              ? C.roundTo2(le).toFixed(2)
              : Math.round(le);
            const de = p.default.typingSpeedUnit;
            $(".pageAccount .highestWpm .title").text(`highest ${de}`),
              $(".pageAccount .highestWpm .val").text(le);
            let ce = U.fromWpm(h);
            (ce = p.default.alwaysShowDecimalPlaces
              ? C.roundTo2(ce / b).toFixed(2)
              : Math.round(ce / b)),
              $(".pageAccount .averageWpm .title").text(`average ${de}`),
              $(".pageAccount .averageWpm .val").text(ce);
            let pe = U.fromWpm(P);
            (pe = p.default.alwaysShowDecimalPlaces
              ? C.roundTo2(pe / _).toFixed(2)
              : Math.round(pe / _)),
              $(".pageAccount .averageWpm10 .title").text(
                `average ${de} (last 10 tests)`
              ),
              $(".pageAccount .averageWpm10 .val").text(pe);
            let fe = U.fromWpm(M.max);
            (fe = p.default.alwaysShowDecimalPlaces
              ? C.roundTo2(fe).toFixed(2)
              : Math.round(fe)),
              $(".pageAccount .highestRaw .title").text(`highest raw ${de}`),
              $(".pageAccount .highestRaw .val").text(fe);
            let he = U.fromWpm(M.total);
            (he = p.default.alwaysShowDecimalPlaces
              ? C.roundTo2(he / M.count).toFixed(2)
              : Math.round(he / M.count)),
              $(".pageAccount .averageRaw .title").text(`average raw ${de}`),
              $(".pageAccount .averageRaw .val").text(he);
            let me = U.fromWpm(M.last10Total);
            (me = p.default.alwaysShowDecimalPlaces
              ? C.roundTo2(me / M.last10Count).toFixed(2)
              : Math.round(me / M.last10Count)),
              $(".pageAccount .averageRaw10 .title").text(
                `average raw ${de} (last 10 tests)`
              ),
              $(".pageAccount .averageRaw10 .val").text(me),
              $(".pageAccount .highestWpm .mode").html(s),
              $(".pageAccount .testsTaken .val").text(b);
            let ge = k;
            (ge = p.default.alwaysShowDecimalPlaces
              ? C.roundTo2(ge).toFixed(2)
              : Math.floor(ge)),
              $(".pageAccount .highestAcc .val").text(ge + "%");
            let ve = T;
            (ve = p.default.alwaysShowDecimalPlaces
              ? C.roundTo2(ve / b)
              : Math.floor(ve / b)),
              $(".pageAccount .avgAcc .val").text(ve + "%");
            let ye = O;
            if (
              ((ye = p.default.alwaysShowDecimalPlaces
                ? C.roundTo2(ye / _)
                : Math.floor(ye / _)),
              $(".pageAccount .avgAcc10 .val").text(ye + "%"),
              0 === V || void 0 === V)
            )
              $(".pageAccount .avgCons .val").text("-"),
                $(".pageAccount .avgCons10 .val").text("-");
            else {
              let e = j;
              (e = p.default.alwaysShowDecimalPlaces
                ? C.roundTo2(e).toFixed(2)
                : Math.round(e)),
                $(".pageAccount .highestCons .val").text(e + "%");
              let t = V;
              (t = p.default.alwaysShowDecimalPlaces
                ? C.roundTo2(t / K).toFixed(2)
                : Math.round(t / K)),
                $(".pageAccount .avgCons .val").text(t + "%");
              let o = q;
              (o = p.default.alwaysShowDecimalPlaces
                ? C.roundTo2(o / Math.min(_, K)).toFixed(2)
                : Math.round(o / Math.min(_, K))),
                $(".pageAccount .avgCons10 .val").text(o + "%");
            }
            $(".pageAccount .testsStarted .val").text(`${b + f}`),
              $(".pageAccount .testsCompleted .val").text(
                `${b}(${Math.floor((b / (b + f)) * 100)}%)`
              ),
              $(".pageAccount .testsCompleted .avgres").text(
                `\n    ${(f / b).toFixed(1)} restarts per completed test\n  `
              );
            const be = B.map((e) => e.wpm).reverse(),
              we = C.findLineByLeastSquares(be);
            if (we) {
              const e = (we[1][1] - we[0][1]) * (3600 / I),
                t = e > 0 ? "+" : "";
              $(".pageAccount .group.chart .below .text").text(
                `Speed change per hour spent typing: ${
                  t + C.roundTo2(U.fromWpm(e))
                } ${p.default.typingSpeedUnit}`
              );
            }
            $(".pageAccount .estimatedWordsTyped .val").text(A),
              (R.length || D.length) &&
                (c.updateAccountChartButtons(),
                (c.accountHistory.options.animation = !1),
                c.accountHistory.update(),
                delete c.accountHistory.options.animation),
              yield C.sleep(0),
              c.accountActivity.update(),
              c.accountHistogram.update(),
              v.updateBar(100, !0),
              y.set(!1),
              C.swapElements(
                $(".pageAccount .preloader"),
                $(".pageAccount .content"),
                250,
                () =>
                  r(this, void 0, void 0, function* () {
                    $(".page.pageAccount").css("height", "unset");
                  }),
                () =>
                  r(this, void 0, void 0, function* () {
                    setTimeout(() => {
                      x.updateNameFontSize("account");
                    }, 10);
                  })
              );
          });
        }
        function q(e) {
          return r(this, void 0, void 0, function* () {
            const t = yield u.getUserResults(e);
            !1 !== t || k.get()
              ? (b.addAllFromToday(), t && l.updateActive())
              : w.add("Could not get results - you are offline", -1, {
                  duration: 5,
                });
          });
        }
        function H() {
          return r(this, void 0, void 0, function* () {
            if ((v.updateBar(0, !0), null === u.getSnapshot()))
              w.add("Missing account data. Please refresh.", -1),
                $(".pageAccount .preloader").html(
                  "Missing account data. Please refresh."
                );
            else {
              v.updateBar(90), yield q();
              try {
                yield C.sleep(0), yield V();
              } catch (e) {
                console.error(e), w.add(`Something went wrong: ${e}`, -1);
              }
            }
          });
        }
        function K(e, t, o = null) {
          var n, i;
          if (
            ($("td").removeClass("headerSorted"),
            $("td").children("i").remove(),
            $(t).addClass("headerSorted"),
            B.length < 2)
          )
            return;
          const a = e;
          let r = !0;
          null !== o
            ? !0 === o
              ? $(t).append(
                  '<i class="fas fa-sort-down" aria-hidden="true"></i>'
                )
              : ((r = !1),
                $(t).append(
                  '<i class="fas fa-sort-up" aria-hidden="true"></i>'
                ))
            : parseInt(
                null === (n = null == B ? void 0 : B[0]) || void 0 === n
                  ? void 0
                  : n[a]
              ) <=
              parseInt(
                null === (i = null == B ? void 0 : B[B.length - 1]) ||
                  void 0 === i
                  ? void 0
                  : i[a]
              )
            ? ((r = !0),
              $(t).append(
                '<i class="fas fa-sort-down" aria-hidden="true"></i>'
              ))
            : ((r = !1),
              $(t).append(
                '<i class="fas fa-sort-up", aria-hidden="true"></i>'
              ));
          const s = [],
            u = [];
          for (; s.length < B.length; ) {
            let e = Number.MAX_VALUE,
              t = -1,
              o = -1;
            for (const [n, i] of B.entries())
              r
                ? i[a] >= t && !u.includes(n) && ((t = i[a]), (o = n))
                : i[a] <= e && !u.includes(n) && ((e = i[a]), (o = n));
            s.push(B[o]), u.push(o);
          }
          (B = s), $(".pageAccount .history table tbody").empty(), (E = 0), F();
        }
        (t.downloadResults = q),
          $(".pageAccount button.toggleResultsOnChart").on("click", () => {
            f.setAccountChartResults(!("on" === p.default.accountChart[0]));
          }),
          $(".pageAccount button.toggleAccuracyOnChart").on("click", () => {
            f.setAccountChartAccuracy(!("on" === p.default.accountChart[1]));
          }),
          $(".pageAccount button.toggleAverage10OnChart").on("click", () => {
            f.setAccountChartAvg10(!("on" === p.default.accountChart[2]));
          }),
          $(".pageAccount button.toggleAverage100OnChart").on("click", () => {
            f.setAccountChartAvg100(!("on" === p.default.accountChart[3]));
          }),
          $(".pageAccount .loadMoreButton").on("click", () => {
            F();
          }),
          $(".pageAccount #accountHistoryChart").on("click", () => {
            var e, t, o;
            const n = c.accountHistoryActiveIndex;
            if ((F(n), !window)) return;
            const i = null !== (e = $(window).height()) && void 0 !== e ? e : 0,
              a =
                (null !==
                  (o =
                    null === (t = $(`#result-${n}`).offset()) || void 0 === t
                      ? void 0
                      : t.top) && void 0 !== o
                  ? o
                  : 0) -
                i / 2;
            $([document.documentElement, document.body]).animate(
              {
                scrollTop: a,
              },
              500
            ),
              $(".resultRow").removeClass("active"),
              $(`#result-${n}`).addClass("active");
          }),
          $(".pageAccount").on("click", ".miniResultChartButton", (e) => {
            var t, o;
            console.log("updating");
            const n = $(e.currentTarget).attr("filteredResultsId");
            void 0 !== n &&
              (h.updateData(
                null === (t = B[parseInt(n)]) || void 0 === t
                  ? void 0
                  : t.chartData
              ),
              h.show(),
              h.updatePosition(
                e.pageX -
                  (null !==
                    (o = $(
                      ".pageAccount .miniResultChartWrapper"
                    ).outerWidth()) && void 0 !== o
                    ? o
                    : 0),
                e.pageY + 30
              ));
          }),
          $(".pageAccount .group.history").on(
            "click",
            ".history-wpm-header",
            () => {
              K("wpm", ".history-wpm-header");
            }
          ),
          $(".pageAccount .group.history").on(
            "click",
            ".history-raw-header",
            () => {
              K("rawWpm", ".history-raw-header");
            }
          ),
          $(".pageAccount .group.history").on(
            "click",
            ".history-acc-header",
            () => {
              K("acc", ".history-acc-header");
            }
          ),
          $(".pageAccount .group.history").on(
            "click",
            ".history-correct-chars-header",
            () => {
              K("correctChars", ".history-correct-chars-header");
            }
          ),
          $(".pageAccount .group.history").on(
            "click",
            ".history-incorrect-chars-header",
            () => {
              K("incorrectChars", ".history-incorrect-chars-header");
            }
          ),
          $(".pageAccount .group.history").on(
            "click",
            ".history-consistency-header",
            () => {
              K("consistency", ".history-consistency-header");
            }
          ),
          $(".pageAccount .group.history").on(
            "click",
            ".history-date-header",
            () => {
              K("timestamp", ".history-date-header");
            }
          ),
          $(".pageAccount .group.history").on(
            "click",
            ".buttonsAndTitle .buttons button",
            () => {
              K("timestamp", ".history-date-header", !0);
            }
          ),
          $(".pageAccount .group.topFilters, .pageAccount .filterButtons").on(
            "click",
            "button",
            () => {
              setTimeout(() => {
                H();
              }, 0);
            }
          ),
          $(".pageAccount .group.presetFilterButtons").on(
            "click",
            ".filterBtns .filterPresets .select-filter-preset",
            (e) => {
              l.setFilterPreset($(e.target).data("id")), H();
            }
          ),
          $(".pageAccount .content .group.aboveHistory .exportCSV").on(
            "click",
            () => {
              C.downloadResultsCSV(B);
            }
          ),
          $(".pageAccount .profile").on("click", ".details .copyLink", () => {
            const e = u.getSnapshot();
            if (!e) return;
            const { name: t } = e,
              o = `${location.origin}/profile/${t}`;
            navigator.clipboard.writeText(o).then(
              function () {
                w.add("URL Copied to clipboard", 0);
              },
              function () {
                alert(
                  "Failed to copy using the Clipboard API. Here's the link: " +
                    o
                );
              }
            );
          }),
          $(".pageAccount button.loadMoreResults").on("click", () =>
            r(void 0, void 0, void 0, function* () {
              var e, t;
              const o =
                (null ===
                  (t =
                    null === (e = u.getSnapshot()) || void 0 === e
                      ? void 0
                      : e.results) || void 0 === t
                  ? void 0
                  : t.length) || 0;
              j.show(), W.disableButton(), yield q(o), yield V(), j.hide();
            })
          ),
          O.subscribe((e) => {
            "account" === M.get() && "typingSpeedUnit" === e && H();
          }),
          (t.page = new _.default(
            "account",
            $(".page.pageAccount"),
            "/account",
            () => r(void 0, void 0, void 0, function* () {}),
            () =>
              r(void 0, void 0, void 0, function* () {
                $(".pageAccount .history table tbody").empty(),
                  (c.accountHistogram.getDataset("count").data = []),
                  (c.accountActivity.getDataset("count").data = []),
                  (c.accountActivity.getDataset("avgWpm").data = []),
                  (c.accountHistory.getDataset("wpm").data = []),
                  (c.accountHistory.getDataset("pb").data = []),
                  (c.accountHistory.getDataset("acc").data = []),
                  (c.accountHistory.getDataset("wpmAvgTen").data = []),
                  (c.accountHistory.getDataset("accAvgTen").data = []),
                  (c.accountHistory.getDataset("wpmAvgHundred").data = []),
                  (c.accountHistory.getDataset("accAvgHundred").data = []),
                  l.removeButtons(),
                  T.remove("pageAccount");
              }),
            () =>
              r(void 0, void 0, void 0, function* () {
                var e, t;
                T.append("pageAccount", "main"),
                  yield l.appendButtons(),
                  l.updateActive(),
                  yield C.sleep(0),
                  void 0 ===
                    (null === (e = u.getSnapshot()) || void 0 === e
                      ? void 0
                      : e.results) &&
                    ($(".pageLoading .fill, .pageAccount .fill").css(
                      "width",
                      "0%"
                    ),
                    $(".pageAccount .content").addClass("hidden"),
                    $(".pageAccount .preloader").removeClass("hidden")),
                  yield H(),
                  yield C.sleep(0),
                  (function () {
                    r(this, void 0, void 0, function* () {
                      c.accountHistory.updateColors(),
                        yield C.sleep(0),
                        c.accountActivity.updateColors(),
                        yield C.sleep(0),
                        c.accountHistogram.updateColors(),
                        yield C.sleep(0);
                    });
                  })(),
                  $(
                    ".pageAccount .content p.accountVerificatinNotice"
                  ).remove(),
                  !1 ===
                    (null ===
                      (t =
                        null === A.Auth || void 0 === A.Auth
                          ? void 0
                          : A.Auth.currentUser) || void 0 === t
                      ? void 0
                      : t.emailVerified) &&
                    $(".pageAccount .content").prepend(
                      '<p class="accountVerificatinNotice" style="text-align:center">Your account is not verified - <button class="sendVerificationEmail">send the verification email again</button>'
                    ),
                  W.showOrHideIfNeeded();
              }),
            () => r(void 0, void 0, void 0, function* () {})
          )),
          $(() => {
            T.save("pageAccount");
          });
      },
      4335: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.page = t.showBar = t.updateText = t.updateBar = void 0);
        const u = a(o(3388)),
          l = s(o(3361)),
          d = a(o(590));
        (t.updateBar = function (e, t = !1) {
          const o = t ? 100 : 1e3;
          $(".pageLoading .fill, .pageAccount .preloader .fill")
            .stop(!0, t)
            .animate(
              {
                width: e + "%",
              },
              o
            );
        }),
          (t.updateText = function (e) {
            $(".pageLoading .text, .pageAccount .preloader .text").text(e);
          }),
          (t.showBar = function () {
            return r(this, void 0, void 0, function* () {
              return new Promise((e) => {
                u.swapElements(
                  $(".pageLoading .preloader .icon"),
                  $(".pageLoading .preloader .barWrapper"),
                  125,
                  () =>
                    r(this, void 0, void 0, function* () {
                      e();
                    })
                ),
                  u.swapElements(
                    $(".pageAccount .preloader .icon"),
                    $(".pageAccount .preloader .barWrapper"),
                    125,
                    () =>
                      r(this, void 0, void 0, function* () {
                        e();
                      })
                  );
              });
            });
          }),
          (t.page = new l.default(
            "loading",
            $(".page.pageLoading"),
            "/",
            () => r(void 0, void 0, void 0, function* () {}),
            () =>
              r(void 0, void 0, void 0, function* () {
                d.remove("pageLoading");
              }),
            () =>
              r(void 0, void 0, void 0, function* () {
                d.append("pageLoading");
              }),
            () => r(void 0, void 0, void 0, function* () {})
          ));
      },
      2588: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.page =
            t.updateSignupButton =
            t.hidePreloader =
            t.showPreloader =
            t.disableInputs =
            t.enableInputs =
            t.disableSignUpButton =
            t.enableSignUpButton =
              void 0);
        const u = o(2189),
          l = s(o(7355)),
          d = s(o(3361)),
          c = a(o(3368)),
          p = o(5817),
          f = a(o(590)),
          h = a(o(3388)),
          m = s(o(5701));
        function g() {
          $(".page.pageLogin .register.side button").prop("disabled", !1);
        }
        function v() {
          $(".page.pageLogin .register.side button").prop("disabled", !0);
        }
        function y() {
          $(".pageLogin input").prop("disabled", !1),
            $(".pageLogin button").prop("disabled", !1);
        }
        (t.enableSignUpButton = g),
          (t.disableSignUpButton = v),
          (t.enableInputs = y),
          (t.disableInputs = function () {
            $(".pageLogin input").prop("disabled", !0),
              $(".pageLogin button").prop("disabled", !0);
          }),
          (t.showPreloader = function () {
            $(".pageLogin .preloader").removeClass("hidden");
          }),
          (t.hidePreloader = function () {
            $(".pageLogin .preloader").addClass("hidden");
          }),
          (t.updateSignupButton = () => {
            "available" !== S.get() ||
            ("valid" !== x.get() && "typo" !== x.get() && "edu" !== x.get()) ||
            "match" !== P.get() ||
            "good" !== k.get() ||
            "match" !== T.get()
              ? v()
              : g();
          });
        const b = (0, u.debounce)(1e3, () =>
            r(void 0, void 0, void 0, function* () {
              const e = $(
                ".page.pageLogin .register.side .usernameInput"
              ).val();
              if (!e) return void (0, t.updateSignupButton)();
              const o = yield l.default.users.getNameAvailability(e);
              200 === o.status
                ? S.show("available", o.message)
                : 422 === o.status
                ? S.show("unavailable", o.message)
                : 409 === o.status
                ? S.show("taken", o.message)
                : (S.show("unavailable", o.message),
                  c.add("Failed to check name availability: " + o.message, -1)),
                (0, t.updateSignupButton)();
            })
          ),
          w = () => {
            $(".page.pageLogin .register.side .emailInput").val() ===
            $(".page.pageLogin .register.side .verifyEmailInput").val()
              ? P.show("match")
              : P.show("mismatch"),
              (0, t.updateSignupButton)();
          },
          _ = () => {
            const e = $(".page.pageLogin .register.side .passwordInput").val();
            h.isDevEnvironment() || h.isPasswordStrong(e)
              ? k.show("good", "Password is good")
              : e.length < 8
              ? k.show("short", "Password must be at least 8 characters")
              : e.length > 64
              ? k.show("long", "Password must be at most 64 characters")
              : k.show(
                  "weak",
                  "Password must contain at least one capital letter, number, and special character"
                ),
              (0, t.updateSignupButton)();
          },
          C = () => {
            $(".page.pageLogin .register.side .passwordInput").val() ===
            $(".page.pageLogin .register.side .verifyPasswordInput").val()
              ? T.show("match")
              : T.show("mismatch"),
              (0, t.updateSignupButton)();
          },
          S = new p.InputIndicator(
            $(".page.pageLogin .register.side input.usernameInput"),
            {
              available: {
                icon: "fa-check",
                level: 1,
              },
              unavailable: {
                icon: "fa-times",
                level: -1,
              },
              taken: {
                icon: "fa-times",
                level: -1,
              },
              checking: {
                icon: "fa-circle-notch",
                spinIcon: !0,
                level: 0,
              },
            }
          ),
          x = new p.InputIndicator(
            $(".page.pageLogin .register.side input.emailInput"),
            {
              valid: {
                icon: "fa-check",
                level: 1,
              },
              invalid: {
                icon: "fa-times",
                level: -1,
              },
              typo: {
                icon: "fa-exclamation-triangle",
                level: 1,
              },
              edu: {
                icon: "fa-exclamation-triangle",
                level: 1,
              },
            }
          ),
          P = new p.InputIndicator(
            $(".page.pageLogin .register.side input.verifyEmailInput"),
            {
              match: {
                icon: "fa-check",
                level: 1,
              },
              mismatch: {
                icon: "fa-times",
                level: -1,
              },
            }
          ),
          k = new p.InputIndicator(
            $(".page.pageLogin .register.side input.passwordInput"),
            {
              good: {
                icon: "fa-check",
                level: 1,
              },
              short: {
                icon: "fa-times",
                level: -1,
              },
              long: {
                icon: "fa-times",
                level: -1,
              },
              weak: {
                icon: "fa-times",
                level: -1,
              },
            }
          ),
          T = new p.InputIndicator(
            $(".page.pageLogin .register.side input.verifyPasswordInput"),
            {
              match: {
                icon: "fa-check",
                level: 1,
              },
              mismatch: {
                icon: "fa-times",
                level: -1,
              },
            }
          );
        $(".page.pageLogin .register.side .usernameInput").on("input", () => {
          setTimeout(() => {
            if ("" === $(".page.pageLogin .register.side .usernameInput").val())
              return S.hide();
            S.show("checking"), b();
          }, 1);
        }),
          $(".page.pageLogin .register.side .emailInput").on("input", () => {
            if (
              !$(".page.pageLogin .register.side .emailInput").val() &&
              !$(".page.pageLogin .register.side .verifyEmailInput").val()
            )
              return x.hide(), void P.hide();
            (() => {
              const e = $(".page.pageLogin .register.side .emailInput").val(),
                o = m.default.some((t) => e.endsWith(t));
              /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(
                e
              )
                ? o
                  ? x.show(
                      "typo",
                      "Please check your email address, it may contain a typo."
                    )
                  : /@.*(education|\.edu$|\.edu\.|\.ac\.|\.sch\.)/i.test(e)
                  ? x.show(
                      "edu",
                      "Some education emails will fail to receive our messages. Consider using a personal email address."
                    )
                  : x.show("valid")
                : x.show("invalid"),
                (0, t.updateSignupButton)();
            })(),
              w();
          }),
          $(".page.pageLogin .register.side .verifyEmailInput").on(
            "input",
            () => {
              if (
                !$(".page.pageLogin .register.side .emailInput").val() &&
                !$(".page.pageLogin .register.side .verifyEmailInput").val()
              )
                return x.hide(), void P.hide();
              w();
            }
          ),
          $(".page.pageLogin .register.side .passwordInput").on("input", () => {
            if (
              !$(".page.pageLogin .register.side .passwordInput").val() &&
              !$(".page.pageLogin .register.side .verifyPasswordInput").val()
            )
              return k.hide(), void T.hide();
            _(), C();
          }),
          $(".page.pageLogin .register.side .verifyPasswordInput").on(
            "input",
            () => {
              if (
                !$(".page.pageLogin .register.side .passwordInput").val() &&
                !$(".page.pageLogin .register.side .verifyPasswordInput").val()
              )
                return k.hide(), void T.hide();
              _(), C();
            }
          ),
          (t.page = new d.default(
            "login",
            $(".page.pageLogin"),
            "/login",
            () => r(void 0, void 0, void 0, function* () {}),
            () =>
              r(void 0, void 0, void 0, function* () {
                $(".pageLogin input").val(""), f.remove("pageLogin");
              }),
            () =>
              r(void 0, void 0, void 0, function* () {
                f.append("pageLogin", "main"), y(), g();
              }),
            () => r(void 0, void 0, void 0, function* () {})
          )),
          $(() => {
            f.save("pageLogin");
          });
      },
      3361: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.default = class {
            constructor(e, t, o, n, i, a, r) {
              (this.name = e),
                (this.element = t),
                (this.pathname = o),
                (this.beforeHide = n),
                (this.afterHide = i),
                (this.beforeShow = a),
                (this.afterShow = r);
            }
          });
      },
      8949: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.page = void 0);
        const u = s(o(3361)),
          l = a(o(590));
        t.page = new u.default(
          "profileSearch",
          $(".page.pageProfileSearch"),
          "/profile",
          () => r(void 0, void 0, void 0, function* () {}),
          () =>
            r(void 0, void 0, void 0, function* () {
              l.remove("pageProfileSearch");
            }),
          () =>
            r(void 0, void 0, void 0, function* () {
              l.append("pageProfileSearch", "main"),
                $(".page.pageProfileSearch input").val("");
            }),
          () =>
            r(void 0, void 0, void 0, function* () {
              $(".page.pageProfileSearch input").focus();
            })
        );
      },
      4471: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.page = void 0);
        const u = s(o(7355)),
          l = s(o(3361)),
          d = a(o(7686)),
          c = a(o(140)),
          p = a(o(3368)),
          f = o(3388),
          h = a(o(1673)),
          m = a(o(590));
        function g() {
          $(".page.pageProfile .preloader").removeClass("hidden"),
            $(".page.pageProfile .profile").html(
              '\n      <div class="details none">\n        <div class="avatarAndName">\n          <div class="avatars">\n            <div class="placeholderAvatar">\n              <i class="fas fa-user-circle"></i>\n            </div>\n            <div class="avatar"></div>\n          </div>\n          <div>\n            <div class="name">-</div>\n            <div class="badges"></div>\n            <div class="allBadges"></div>\n            <div class="joined" data-balloon-pos="up">-</div>\n\t          <div class="streak" data-balloon-pos="up">-</div>\n          </div>\n          <div class="levelAndBar">\n            <div class="level">-</div>\n            <div class="xpBar">\n              <div class="bar" style="width: 0%;"></div>\n            </div>\n            <div class="xp" data-balloon-pos="up">-/-</div>\n          </div>\n        </div>\n        <div class="separator sep1"></div>\n        <div class="typingStats vertical">\n          <div class="started">\n            <div class="title">tests started</div>\n            <div class="value">-</div>\n          </div>\n          <div class="completed">\n            <div class="title">tests completed</div>\n            <div class="value">-</div>\n          </div>\n          <div class="timeTyping">\n            <div class="title">time typing</div>\n            <div class="value">-</div>\n          </div>\n        </div>\n        <div class="separator sep2 hidden"></div>\n\n        <div class="bioAndKeyboard vertical hidden">\n          <div class="bio">\n            <div class="title">bio</div>\n            <div class="value">-</div>\n          </div>\n          <div class="keyboard hidden">\n            <div class="title">keyboard</div>\n            <div class="value">-</div>\n          </div>\n        </div>\n        <div class="separator sep3 hidden"></div>\n\n        <div class="socials big hidden">\n          <div class="title">socials</div>\n          <div class="value">-</div>\n        </div>\n        <div class="buttonGroup">\n          <button\n            class="userReportButton"\n            data-balloon-pos="left"\n            aria-label="Report user"\n          >\n            <i class="fas fa-flag"></i>\n          </button>\n        </div>\n      </div>\n      <div class="leaderboardsPositions">\n        <div class="title">All-Time English Leaderboards</div>\n        <div class="group t15">\n          <div class="testType">15 seconds</div>\n          <div class="pos">-</div>\n        </div>\n        <div class="group t60">\n          <div class="testType">60 seconds</div>\n          <div class="pos">-</div>\n        </div>\n      </div>\n      <div class="pbsWords">\n        <div class="group">\n          <div class="quick">\n            <div class="test">10 words</div>\n            <div class="wpm">-</div>\n            <div class="acc">-</div>\n          </div>\n        </div>\n        <div class="group">\n          <div class="quick">\n            <div class="test">25 words</div>\n            <div class="wpm">-</div>\n            <div class="acc">-</div>\n          </div>\n        </div>\n        <div class="group">\n          <div class="quick">\n            <div class="test">50 words</div>\n            <div class="wpm">-</div>\n            <div class="acc">-</div>\n          </div>\n        </div>\n        <div class="group">\n          <div class="quick">\n            <div class="test">100 words</div>\n            <div class="wpm">-</div>\n            <div class="acc">-</div>\n          </div>\n        </div>\n      </div>\n      <div class="pbsTime">\n        <div class="group">\n          <div class="quick">\n            <div class="test">15 seconds</div>\n            <div class="wpm">-</div>\n            <div class="acc">-</div>\n          </div>\n        </div>\n        <div class="group">\n          <div class="quick">\n            <div class="test">30 seconds</div>\n            <div class="wpm">-</div>\n            <div class="acc">-</div>\n          </div>\n        </div>\n        <div class="group">\n          <div class="quick">\n            <div class="test">60 seconds</div>\n            <div class="wpm">-</div>\n            <div class="acc">-</div>\n          </div>\n        </div>\n        <div class="group">\n          <div class="quick">\n            <div class="test">120 seconds</div>\n            <div class="wpm">-</div>\n            <div class="acc">-</div>\n          </div>\n        </div>\n      </div><div class="lbOptOutReminder hidden"></div>'
            );
        }
        $(".page.pageProfile").on("click", ".profile .userReportButton", () => {
          var e, t;
          const o =
              null !== (e = $(".page.pageProfile .profile").attr("uid")) &&
              void 0 !== e
                ? e
                : "",
            n =
              null !== (t = $(".page.pageProfile .profile").attr("name")) &&
              void 0 !== t
                ? t
                : "";
          h.show({
            uid: o,
            name: n,
          });
        }),
          (t.page = new l.default(
            "profile",
            $(".page.pageProfile"),
            "/profile",
            () => r(void 0, void 0, void 0, function* () {}),
            () =>
              r(void 0, void 0, void 0, function* () {
                m.remove("pageProfile"), g();
              }),
            (e) =>
              r(void 0, void 0, void 0, function* () {
                var t;
                m.append("pageProfile", "main");
                const o =
                  null === (t = null == e ? void 0 : e.params) || void 0 === t
                    ? void 0
                    : t.uidOrName;
                o
                  ? ($(".page.pageProfile .preloader").removeClass("hidden"),
                    $(".page.pageProfile .search").addClass("hidden"),
                    $(".page.pageProfile .content").removeClass("hidden"),
                    g(),
                    (function (e) {
                      r(this, void 0, void 0, function* () {
                        const t = (0, f.checkIfGetParameterExists)("isUid");
                        if (e.data)
                          $(".page.pageProfile .preloader").addClass("hidden"),
                            d.update("profile", e.data),
                            c.update(e.data.personalBests, !0);
                        else if (e.uidOrName) {
                          const o =
                            !0 === t
                              ? yield u.default.users.getProfileByUid(
                                  e.uidOrName
                                )
                              : yield u.default.users.getProfileByName(
                                  e.uidOrName
                                );
                          if (
                            ($(".page.pageProfile .preloader").addClass(
                              "hidden"
                            ),
                            404 === o.status)
                          ) {
                            const o =
                              !0 === t
                                ? "User not found"
                                : `User ${e.uidOrName} not found`;
                            $(".page.pageProfile .preloader").addClass(
                              "hidden"
                            ),
                              $(".page.pageProfile .error").removeClass(
                                "hidden"
                              ),
                              $(".page.pageProfile .error .message").text(o);
                          } else {
                            if (200 !== o.status)
                              return p.add(
                                "Failed to load profile: " + o.message,
                                -1
                              );
                            window.history.replaceState(
                              null,
                              "",
                              `/profile/${o.data.name}`
                            );
                          }
                          d.update("profile", o.data),
                            c.update(o.data.personalBests, !0);
                        } else p.add("Missing update parameter!", -1);
                      });
                    })({
                      uidOrName: o,
                      data: null == e ? void 0 : e.data,
                    }))
                  : ($(".page.pageProfile .preloader").addClass("hidden"),
                    $(".page.pageProfile .search").removeClass("hidden"),
                    $(".page.pageProfile .content").addClass("hidden"));
              }),
            () => r(void 0, void 0, void 0, function* () {})
          )),
          m.save("pageProfile");
      },
      8835: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.page =
            t.setEventDisabled =
            t.update =
            t.updateAuthSections =
            t.updateDiscordSection =
            t.hideAccountSection =
            t.groups =
              void 0);
        const u = s(o(8427)),
          l = a(o(6705)),
          d = l,
          c = a(o(5929)),
          p = a(o(3388)),
          f = a(o(6350)),
          h = o(2591),
          m = a(o(9343)),
          g = a(o(4984)),
          v = a(o(4216)),
          y = a(o(3368)),
          b = a(o(9516)),
          w = a(o(1446)),
          _ = a(o(7346)),
          C = a(o(6126)),
          S = a(o(4044)),
          x = s(o(3361)),
          P = o(6617),
          k = s(o(7355)),
          T = o(8789),
          O = o(8628),
          M = a(o(590));
        t.groups = {};
        let A = !1;
        function j() {
          $(".sectionGroupTitle[group='account']").addClass("hidden"),
            $(".settingsGroup.account").addClass("hidden"),
            $(".pageSettings .section.needsAccount").addClass("hidden"),
            $(".pageSettings .quickNav .accountTitleLink").addClass("hidden");
        }
        function W() {
          var e;
          if (
            null === P.Auth || void 0 === P.Auth ? void 0 : P.Auth.currentUser
          ) {
            if (!f.getSnapshot()) return;
            $(".pageSettings .section.discordIntegration").removeClass(
              "hidden"
            ),
              void 0 ===
              (null === (e = f.getSnapshot()) || void 0 === e
                ? void 0
                : e.discordId)
                ? ($(
                    ".pageSettings .section.discordIntegration .buttons"
                  ).removeClass("hidden"),
                  $(".pageSettings .section.discordIntegration .info").addClass(
                    "hidden"
                  ))
                : ($(
                    ".pageSettings .section.discordIntegration .buttons"
                  ).addClass("hidden"),
                  $(
                    ".pageSettings .section.discordIntegration .info"
                  ).removeClass("hidden"));
          } else
            $(".pageSettings .section.discordIntegration").addClass("hidden");
        }
        function L() {
          $(".pageSettings .section.passwordAuthSettings .button").addClass(
            "hidden"
          ),
            $(".pageSettings .section.googleAuthSettings .button").addClass(
              "hidden"
            );
          const e =
            null === P.Auth || void 0 === P.Auth ? void 0 : P.Auth.currentUser;
          if (!e) return;
          const t = e.providerData.find((e) => "password" === e.providerId),
            o = e.providerData.find((e) => "google.com" === e.providerId);
          t
            ? ($(
                ".pageSettings .section.passwordAuthSettings #emailPasswordAuth"
              ).removeClass("hidden"),
              $(
                ".pageSettings .section.passwordAuthSettings #passPasswordAuth"
              ).removeClass("hidden"))
            : $(
                ".pageSettings .section.passwordAuthSettings #addPasswordAuth"
              ).removeClass("hidden"),
            o
              ? ($(
                  ".pageSettings .section.googleAuthSettings #removeGoogleAuth"
                ).removeClass("hidden"),
                t
                  ? $(
                      ".pageSettings .section.googleAuthSettings #removeGoogleAuth"
                    ).removeClass("disabled")
                  : $(
                      ".pageSettings .section.googleAuthSettings #removeGoogleAuth"
                    ).addClass("disabled"))
              : $(
                  ".pageSettings .section.googleAuthSettings #addGoogleAuth"
                ).removeClass("hidden");
        }
        function B() {
          $(".pageSettings .section.funbox .button").removeClass("active"),
            $(".pageSettings .section.funbox .button").removeClass("disabled"),
            p.getFunboxList().then((e) => {
              e.forEach((e) => {
                (0, T.areFunboxesCompatible)(l.default.funbox, e.name) ||
                  l.default.funbox.split("#").includes(e.name) ||
                  $(
                    `.pageSettings .section.funbox .button[funbox='${e.name}']`
                  ).addClass("disabled");
              });
            }),
            l.default.funbox.split("#").forEach((e) => {
              $(
                `.pageSettings .section.funbox .button[funbox='${e}']`
              ).addClass("active");
            });
        }
        function E() {
          var e, t;
          if (
            (null === P.Auth || void 0 === P.Auth
              ? void 0
              : P.Auth.currentUser) &&
            f.getSnapshot()
          ) {
            const o = $(".pageSettings .section.tags .tagsList").empty();
            null ===
              (t =
                null === (e = f.getSnapshot()) || void 0 === e
                  ? void 0
                  : e.tags) ||
              void 0 === t ||
              t.forEach((e) => {
                o.append(
                  `\n\n      <div class="buttons tag" data-id="${
                    e._id
                  }" data-name="${e.name}" data-display="${
                    e.display
                  }">\n        <button class="tagButton ${
                    e.active ? "active" : ""
                  }" active="${e.active}">\n          ${
                    e.display
                  }\n        </button>\n        <button class="clearPbButton">\n          <i class="fas fa-crown fa-fw"></i>\n        </button>\n        <button class="editButton">\n          <i class="fas fa-pen fa-fw"></i>\n        </button>\n        <button class="removeButton">\n          <i class="fas fa-trash fa-fw"></i>\n        </button>\n      </div>\n\n      `
                );
              }),
              $(".pageSettings .section.tags").removeClass("hidden");
          } else $(".pageSettings .section.tags").addClass("hidden");
        }
        function F() {
          var e, t;
          if (
            (null === P.Auth || void 0 === P.Auth
              ? void 0
              : P.Auth.currentUser) &&
            f.getSnapshot()
          ) {
            const o = $(".pageSettings .section.presets .presetsList").empty();
            null ===
              (t =
                null === (e = f.getSnapshot()) || void 0 === e
                  ? void 0
                  : e.presets) ||
              void 0 === t ||
              t.forEach((e) => {
                o.append(
                  `\n      <div class="buttons preset" data-id="${e._id}" data-name="${e.name}" data-display="${e.display}">\n        <button class="presetButton">${e.display}</button>\n        <button class="editButton">\n          <i class="fas fa-pen fa-fw"></i>\n        </button>\n        <button class="removeButton">\n          <i class="fas fa-trash fa-fw"></i>\n        </button>\n      </div>\n      \n      `
                );
              }),
              $(".pageSettings .section.presets").removeClass("hidden");
          } else $(".pageSettings .section.presets").addClass("hidden");
        }
        function I(e = !0) {
          var o;
          return r(this, void 0, void 0, function* () {
            if (e)
              for (const e of Object.keys(t.groups))
                null === (o = t.groups[e]) || void 0 === o || o.updateInput();
            E(),
              F(),
              B(),
              W(),
              L(),
              yield p.sleep(0),
              v.updateActiveTab(!0),
              v.setCustomInputs(!0),
              $(
                ".pageSettings .section.paceCaret input.customPaceCaretSpeed"
              ).val(
                (0, O.get)(l.default.typingSpeedUnit).fromWpm(
                  l.default.paceCaretCustomSpeed
                )
              ),
              $(".pageSettings .section.minWpm input.customMinWpmSpeed").val(
                (0, O.get)(l.default.typingSpeedUnit).fromWpm(
                  l.default.minWpmCustomSpeed
                )
              ),
              $(".pageSettings .section.minAcc input.customMinAcc").val(
                l.default.minAccCustom
              ),
              $(".pageSettings .section.minBurst input.customMinBurst").val(
                (0, O.get)(l.default.typingSpeedUnit).fromWpm(
                  l.default.minBurstCustomSpeed
                )
              ),
              l.default.autoSwitchTheme
                ? $(".pageSettings .section.autoSwitchThemeInputs").removeClass(
                    "hidden"
                  )
                : $(".pageSettings .section.autoSwitchThemeInputs").addClass(
                    "hidden"
                  ),
              "" !== l.default.customBackground
                ? $(
                    ".pageSettings .section.customBackgroundFilter"
                  ).removeClass("hidden")
                : $(".pageSettings .section.customBackgroundFilter").addClass(
                    "hidden"
                  ),
              (
                null === P.Auth || void 0 === P.Auth
                  ? void 0
                  : P.Auth.currentUser
              )
                ? (function () {
                    var e;
                    $(".sectionGroupTitle[group='account']").removeClass(
                      "hidden"
                    ),
                      $(".settingsGroup.account").removeClass("hidden"),
                      $(".pageSettings .section.needsAccount").removeClass(
                        "hidden"
                      ),
                      $(
                        ".pageSettings .quickNav .accountTitleLink"
                      ).removeClass("hidden"),
                      E(),
                      F(),
                      W(),
                      !0 ===
                        (null === (e = f.getSnapshot()) || void 0 === e
                          ? void 0
                          : e.lbOptOut) &&
                        $(
                          ".pageSettings .section.optOutOfLeaderboards"
                        ).remove();
                  })()
                : j();
            const n = window.navigator.userAgent.toLowerCase().includes("mac")
              ? "cmd"
              : "ctrl";
            "esc" === l.default.quickRestart
              ? $(".pageSettings .tip").html(
                  `\n    tip: You can also change all these settings quickly using the\n    command line (<key>${n}</key>+<key>shift</key>+<key>p</key>)`
                )
              : $(".pageSettings .tip").html(
                  `\n    tip: You can also change all these settings quickly using the\n    command line (<key>esc</key> or <key>${n}</key>+<key>shift</key>+<key>p</key>)`
                );
          });
        }
        function R(e) {
          const t = $(`.pageSettings .settingsGroup.${e}`);
          t.stop(!0, !0).slideToggle(250).toggleClass("slideup"),
            t.hasClass("slideup")
              ? $(`.pageSettings .sectionGroupTitle[group=${e}]`).addClass(
                  "rotateIcon"
                )
              : $(`.pageSettings .sectionGroupTitle[group=${e}]`).removeClass(
                  "rotateIcon"
                );
        }
        (t.hideAccountSection = j),
          (t.updateDiscordSection = W),
          (t.updateAuthSections = L),
          (t.update = I),
          $(".pageSettings .section.paceCaret").on(
            "focusout",
            "input.customPaceCaretSpeed",
            () => {
              const e = parseInt(
                  $(
                    ".pageSettings .section.paceCaret input.customPaceCaretSpeed"
                  ).val()
                ),
                t = (0, O.get)(l.default.typingSpeedUnit).toWpm(e);
              d.setPaceCaretCustomSpeed(t);
            }
          ),
          $(".pageSettings .section.paceCaret").on(
            "click",
            ".button.save",
            () => {
              const e = parseInt(
                  $(
                    ".pageSettings .section.paceCaret input.customPaceCaretSpeed"
                  ).val()
                ),
                t = (0, O.get)(l.default.typingSpeedUnit).toWpm(e);
              d.setPaceCaretCustomSpeed(t);
            }
          ),
          $(".pageSettings .section.minWpm").on(
            "focusout",
            "input.customMinWpmSpeed",
            () => {
              const e = parseInt(
                  $(
                    ".pageSettings .section.minWpm input.customMinWpmSpeed"
                  ).val()
                ),
                t = (0, O.get)(l.default.typingSpeedUnit).toWpm(e);
              d.setMinWpmCustomSpeed(t);
            }
          ),
          $(".pageSettings .section.minWpm").on("click", ".button.save", () => {
            const e = parseInt(
                $(".pageSettings .section.minWpm input.customMinWpmSpeed").val()
              ),
              t = (0, O.get)(l.default.typingSpeedUnit).toWpm(e);
            d.setMinWpmCustomSpeed(t);
          }),
          $(".pageSettings .section.minAcc").on(
            "focusout",
            "input.customMinAcc",
            () => {
              d.setMinAccCustom(
                parseInt(
                  $(".pageSettings .section.minAcc input.customMinAcc").val()
                )
              );
            }
          ),
          $(".pageSettings .section.minAcc").on("click", ".button.save", () => {
            d.setMinAccCustom(
              parseInt(
                $(".pageSettings .section.minAcc input.customMinAcc").val()
              )
            );
          }),
          $(".pageSettings .section.minBurst").on(
            "focusout",
            "input.customMinBurst",
            () => {
              const e = parseInt(
                  $(
                    ".pageSettings .section.minBurst input.customMinBurst"
                  ).val()
                ),
                t = (0, O.get)(l.default.typingSpeedUnit).toWpm(e);
              d.setMinBurstCustomSpeed(t);
            }
          ),
          $(".pageSettings .section.minBurst").on(
            "click",
            ".button.save",
            () => {
              const e = parseInt(
                  $(
                    ".pageSettings .section.minBurst input.customMinBurst"
                  ).val()
                ),
                t = (0, O.get)(l.default.typingSpeedUnit).toWpm(e);
              d.setMinBurstCustomSpeed(t);
            }
          ),
          $(".pageSettings .section.funbox").on("click", ".button", (e) => {
            const t = $(e.currentTarget).attr("funbox");
            (0, h.toggleFunbox)(t), B();
          }),
          $(".pageSettings .section.tags").on(
            "click",
            ".tagsList .tag .tagButton",
            (e) => {
              const t = e.currentTarget,
                o = $(t).parent(".tag").attr("data-id");
              m.toggle(o), $(t).toggleClass("active");
            }
          ),
          $(".pageSettings .section.presets").on(
            "click",
            ".presetsList .preset .presetButton",
            (e) => {
              const t = e.currentTarget,
                o = $(t).parent(".preset").attr("data-id");
              console.log("Applying Preset"),
                (D = !0),
                g.apply(o),
                (D = !1),
                I();
            }
          ),
          $("#importSettingsButton").on("click", () => {
            b.show("import");
          }),
          $("#exportSettingsButton").on("click", () => {
            const e = JSON.stringify(l.default);
            navigator.clipboard.writeText(e).then(
              function () {
                y.add("JSON Copied to clipboard", 0);
              },
              function () {
                b.show("export");
              }
            );
          }),
          $(".pageSettings .sectionGroupTitle").on("click", (e) => {
            R($(e.currentTarget).attr("group"));
          }),
          $(".pageSettings .section.apeKeys #showApeKeysPopup").on(
            "click",
            () => {
              C.show();
            }
          ),
          $(
            ".pageSettings .section.customBackgroundSize .inputAndButton .save"
          ).on("click", () => {
            d.setCustomBackground(
              $(
                ".pageSettings .section.customBackgroundSize .inputAndButton input"
              ).val()
            );
          }),
          $(
            ".pageSettings .section.customBackgroundSize .inputAndButton input"
          ).on("keypress", (e) => {
            "Enter" === e.key &&
              d.setCustomBackground(
                $(
                  ".pageSettings .section.customBackgroundSize .inputAndButton input"
                ).val()
              );
          }),
          $(".pageSettings .section.fontSize .inputAndButton .save").on(
            "click",
            () => {
              d.setFontSize(
                parseFloat(
                  $(
                    ".pageSettings .section.fontSize .inputAndButton input"
                  ).val()
                )
              ) &&
                y.add("Saved", 1, {
                  duration: 1,
                });
            }
          ),
          $(".pageSettings .section.fontSize .inputAndButton input").on(
            "keypress",
            (e) => {
              "Enter" === e.key &&
                !0 ===
                  d.setFontSize(
                    parseFloat(
                      $(
                        ".pageSettings .section.fontSize .inputAndButton input"
                      ).val()
                    )
                  ) &&
                y.add("Saved", 1, {
                  duration: 1,
                });
            }
          ),
          $(
            ".pageSettings .section.customLayoutfluid .inputAndButton .save"
          ).on("click", () => {
            d.setCustomLayoutfluid(
              $(
                ".pageSettings .section.customLayoutfluid .inputAndButton input"
              ).val()
            ).then((e) => {
              e && y.add("Custom layoutfluid saved", 1);
            });
          }),
          $(
            ".pageSettings .section.customLayoutfluid .inputAndButton .input"
          ).on("keypress", (e) => {
            "Enter" === e.key &&
              d
                .setCustomLayoutfluid(
                  $(
                    ".pageSettings .section.customLayoutfluid .inputAndButton input"
                  ).val()
                )
                .then((e) => {
                  e && y.add("Custom layoutfluid saved", 1);
                });
          }),
          $(".pageSettings .quickNav .links a").on("click", (e) => {
            const t = e.target.innerText;
            $(`.pageSettings .settingsGroup.${t}`).hasClass("slideup") && R(t);
          }),
          $(".pageSettings .section.updateCookiePreferences .button").on(
            "click",
            () => {
              S.show(), S.showSettings();
            }
          ),
          $(".pageSettings .section.autoSwitchThemeInputs").on(
            "change",
            "select.light",
            (e) => {
              const t = $(e.currentTarget);
              t.hasClass("disabled") ||
                t.hasClass("no-auto-handle") ||
                d.setThemeLight(t.val());
            }
          ),
          $(".pageSettings .section.autoSwitchThemeInputs").on(
            "change",
            "select.dark",
            (e) => {
              const t = $(e.currentTarget);
              t.hasClass("disabled") ||
                t.hasClass("no-auto-handle") ||
                d.setThemeDark(t.val());
            }
          ),
          $(
            ".pageSettings .section.discordIntegration .getLinkAndGoToOauth"
          ).on("click", () => {
            k.default.users.getOauthLink().then((e) => {
              window.open(e.data.url, "_self");
            });
          });
        let D = !1;
        function V(e) {
          D = e;
        }
        (t.setEventDisabled = V),
          w.subscribe((e) => {
            "fullConfigChange" === e && V(!0),
              "fullConfigChangeFinished" === e && V(!1),
              D ||
                "saveToLocalStorage" === e ||
                ("settings" === _.get() && "theme" !== e && I());
          }),
          (t.page = new x.default(
            "settings",
            $(".page.pageSettings"),
            "/settings",
            () => r(void 0, void 0, void 0, function* () {}),
            () =>
              r(void 0, void 0, void 0, function* () {
                M.remove("pageSettings"),
                  $(".pageSettings .section.themes .favThemes.buttons").empty(),
                  $(".pageSettings .section.themes .allThemes.buttons").empty(),
                  $(
                    ".pageSettings .section.themes .allCustomThemes.buttons"
                  ).empty(),
                  $(".pageSettings .section.languageGroups .buttons").empty(),
                  $(".pageSettings select").empty().select2("destroy"),
                  $(".pageSettings .section.funbox .buttons").empty(),
                  $(".pageSettings .section.fontFamily .buttons").empty();
              }),
            () =>
              r(void 0, void 0, void 0, function* () {
                M.append("pageSettings", "main"),
                  yield (function () {
                    var e;
                    return r(this, void 0, void 0, function* () {
                      l.default.showKeyTips
                        ? $(".pageSettings .tip").removeClass("hidden")
                        : $(".pageSettings .tip").addClass("hidden");
                      const o = document.querySelector(
                        ".pageSettings .section.language select"
                      );
                      o.innerHTML = "";
                      let n,
                        i = "";
                      try {
                        n = yield p.getLanguageGroups();
                      } catch (e) {
                        console.error(
                          p.createErrorMessage(
                            e,
                            "Failed to initialize settings language picker"
                          )
                        );
                      }
                      if (n) {
                        for (const e of n) {
                          let t = `<optgroup label="${e.name}">`;
                          e.languages.forEach((e) => {
                            t += `<option value="${e}">\n        ${e.replace(
                              /_/g,
                              " "
                            )}\n      </option>`;
                          }),
                            (t += "</optgroup>"),
                            (i += t);
                        }
                        o.innerHTML = i;
                      }
                      $(o).select2({
                        width: "100%",
                      }),
                        yield p.sleep(0);
                      const a = document.querySelector(
                        ".pageSettings .section.layout select"
                      );
                      a.innerHTML = "<option value='default'>off</option>";
                      let s = "";
                      const f = document.querySelector(
                        ".pageSettings .section.keymapLayout select"
                      );
                      f.innerHTML =
                        "<option value='overrideSync'>emulator sync</option>";
                      let h,
                        m = "";
                      try {
                        h = yield p.getLayoutsList();
                      } catch (e) {
                        console.error(
                          p.createErrorMessage(e, "Failed to refresh keymap")
                        );
                      }
                      if (h) {
                        for (const e of Object.keys(h))
                          "korean" !== e.toString() &&
                            (s += `<option value='${e}'>${e.replace(
                              /_/g,
                              " "
                            )}</option>`),
                            "default" !== e.toString() &&
                              (m += `<option value='${e}'>${e.replace(
                                /_/g,
                                " "
                              )}</option>`);
                        (a.innerHTML += s), (f.innerHTML += m);
                      }
                      $(a).select2({
                        width: "100%",
                      }),
                        $(f).select2({
                          width: "100%",
                        }),
                        yield p.sleep(0);
                      const g = document.querySelector(
                        ".pageSettings .section.autoSwitchThemeInputs select.light"
                      );
                      g.innerHTML = "";
                      let y = "";
                      const b = document.querySelector(
                        ".pageSettings .section.autoSwitchThemeInputs select.dark"
                      );
                      b.innerHTML = "";
                      let w,
                        _ = "";
                      try {
                        w = yield p.getThemesList();
                      } catch (e) {
                        console.error(
                          p.createErrorMessage(
                            e,
                            "Failed to load themes into dropdown boxes"
                          )
                        );
                      }
                      if (w) {
                        for (const e of w)
                          (y += `<option value='${e.name}'>${e.name.replace(
                            /_/g,
                            " "
                          )}</option>`),
                            (_ += `<option value='${e.name}'>${e.name.replace(
                              /_/g,
                              " "
                            )}</option>`);
                        (g.innerHTML = y), (b.innerHTML = _);
                      }
                      $(g).select2({
                        width: "100%",
                      }),
                        $(b).select2({
                          width: "100%",
                        }),
                        yield p.sleep(0),
                        $(
                          ".pageSettings .section.autoSwitchThemeInputs select.light"
                        )
                          .val(l.default.themeLight)
                          .trigger("change.select2"),
                        $(
                          ".pageSettings .section.autoSwitchThemeInputs select.dark"
                        )
                          .val(l.default.themeDark)
                          .trigger("change.select2");
                      const C = document.querySelector(
                        ".pageSettings .section.funbox .buttons"
                      );
                      C.innerHTML =
                        "<div class=\"funbox button\" funbox='none'>none</div>";
                      let S,
                        x = "";
                      try {
                        S = yield p.getFunboxList();
                      } catch (e) {
                        console.error(
                          p.createErrorMessage(e, "Failed to get funbox list")
                        );
                      }
                      if (S) {
                        for (const e of S)
                          "mirror" === e.name
                            ? (x += `<div class="funbox button" funbox='${
                                e.name
                              }' aria-label="${
                                e.info
                              }" data-balloon-pos="up" data-balloon-length="fit" style="transform:scaleX(-1);">${e.name.replace(
                                /_/g,
                                " "
                              )}</div>`)
                            : "upside_down" === e.name
                            ? (x += `<div class="funbox button" funbox='${
                                e.name
                              }' aria-label="${
                                e.info
                              }" data-balloon-pos="up" data-balloon-length="fit" style="transform:scaleX(-1) scaleY(-1);">${e.name.replace(
                                /_/g,
                                " "
                              )}</div>`)
                            : (x += `<div class="funbox button" funbox='${
                                e.name
                              }' aria-label="${
                                e.info
                              }" data-balloon-pos="up" data-balloon-length="fit">${e.name.replace(
                                /_/g,
                                " "
                              )}</div>`);
                        C.innerHTML = x;
                      }
                      yield p.sleep(0);
                      let P = !0;
                      const k = document.querySelector(
                        ".pageSettings .section.fontFamily .buttons"
                      );
                      k.innerHTML = "";
                      let T,
                        O = "";
                      try {
                        T = yield p.getFontsList();
                      } catch (e) {
                        console.error(
                          p.createErrorMessage(
                            e,
                            "Failed to update fonts settings buttons"
                          )
                        );
                      }
                      if (T) {
                        for (const e of T)
                          l.default.fontFamily === e.name && (P = !1),
                            (O += `<div class="button${
                              l.default.fontFamily === e.name ? " active" : ""
                            }" style="font-family:${
                              void 0 !== e.display ? e.display : e.name
                            }" fontFamily="${e.name.replace(
                              / /g,
                              "_"
                            )}" tabindex="0"\n        onclick="this.blur();">${
                              void 0 !== e.display ? e.display : e.name
                            }</div>`);
                        (O += P
                          ? `<div class="button no-auto-handle custom active" onclick="this.blur();">Custom (${l.default.fontFamily.replace(
                              /_/g,
                              " "
                            )})</div>`
                          : '<div class="button no-auto-handle custom" onclick="this.blur();">Custom</div>'),
                          (k.innerHTML = O);
                      }
                      if (
                        ($(
                          ".pageSettings .section.customBackgroundSize input"
                        ).val(l.default.customBackground),
                        $(".pageSettings .section.fontSize input").val(
                          l.default.fontSize
                        ),
                        $(".pageSettings .section.customLayoutfluid input").val(
                          l.default.customLayoutfluid.replace(/#/g, " ")
                        ),
                        yield p.sleep(0),
                        V(!0),
                        A)
                      )
                        for (const o of Object.keys(t.groups))
                          null === (e = t.groups[o]) ||
                            void 0 === e ||
                            e.updateInput();
                      else
                        yield (function () {
                          return r(this, void 0, void 0, function* () {
                            yield d.loadPromise,
                              (t.groups.smoothCaret = new u.default(
                                "smoothCaret",
                                d.setSmoothCaret,
                                "button"
                              )),
                              (t.groups.difficulty = new u.default(
                                "difficulty",
                                d.setDifficulty,
                                "button"
                              )),
                              (t.groups.quickRestart = new u.default(
                                "quickRestart",
                                d.setQuickRestartMode,
                                "button"
                              )),
                              (t.groups.showLiveWpm = new u.default(
                                "showLiveWpm",
                                d.setShowLiveWpm,
                                "button",
                                () => {
                                  var e;
                                  null === (e = t.groups.keymapMode) ||
                                    void 0 === e ||
                                    e.updateInput();
                                }
                              )),
                              (t.groups.showLiveAcc = new u.default(
                                "showLiveAcc",
                                d.setShowLiveAcc,
                                "button"
                              )),
                              (t.groups.showLiveBurst = new u.default(
                                "showLiveBurst",
                                d.setShowLiveBurst,
                                "button"
                              )),
                              (t.groups.showTimerProgress = new u.default(
                                "showTimerProgress",
                                d.setShowTimerProgress,
                                "button"
                              )),
                              (t.groups.showAverage = new u.default(
                                "showAverage",
                                d.setShowAverage,
                                "button"
                              )),
                              (t.groups.keymapMode = new u.default(
                                "keymapMode",
                                d.setKeymapMode,
                                "button",
                                () => {
                                  var e;
                                  null === (e = t.groups.showLiveWpm) ||
                                    void 0 === e ||
                                    e.updateInput();
                                },
                                () => {
                                  "off" === l.default.keymapMode
                                    ? ($(
                                        ".pageSettings .section.keymapStyle"
                                      ).addClass("hidden"),
                                      $(
                                        ".pageSettings .section.keymapLayout"
                                      ).addClass("hidden"),
                                      $(
                                        ".pageSettings .section.keymapLegendStyle"
                                      ).addClass("hidden"),
                                      $(
                                        ".pageSettings .section.keymapShowTopRow"
                                      ).addClass("hidden"))
                                    : ($(
                                        ".pageSettings .section.keymapStyle"
                                      ).removeClass("hidden"),
                                      $(
                                        ".pageSettings .section.keymapLayout"
                                      ).removeClass("hidden"),
                                      $(
                                        ".pageSettings .section.keymapLegendStyle"
                                      ).removeClass("hidden"),
                                      $(
                                        ".pageSettings .section.keymapShowTopRow"
                                      ).removeClass("hidden"));
                                }
                              )),
                              (t.groups.keymapMatrix = new u.default(
                                "keymapStyle",
                                d.setKeymapStyle,
                                "button"
                              )),
                              (t.groups.keymapLayout = new u.default(
                                "keymapLayout",
                                d.setKeymapLayout,
                                "select"
                              )),
                              (t.groups.keymapLegendStyle = new u.default(
                                "keymapLegendStyle",
                                d.setKeymapLegendStyle,
                                "button"
                              )),
                              (t.groups.keymapShowTopRow = new u.default(
                                "keymapShowTopRow",
                                d.setKeymapShowTopRow,
                                "button"
                              )),
                              (t.groups.showKeyTips = new u.default(
                                "showKeyTips",
                                d.setKeyTips,
                                "button",
                                void 0,
                                () => {
                                  l.default.showKeyTips
                                    ? $(".pageSettings .tip").removeClass(
                                        "hidden"
                                      )
                                    : $(".pageSettings .tip").addClass(
                                        "hidden"
                                      );
                                }
                              )),
                              (t.groups.freedomMode = new u.default(
                                "freedomMode",
                                d.setFreedomMode,
                                "button",
                                () => {
                                  var e;
                                  null === (e = t.groups.confidenceMode) ||
                                    void 0 === e ||
                                    e.updateInput();
                                }
                              )),
                              (t.groups.strictSpace = new u.default(
                                "strictSpace",
                                d.setStrictSpace,
                                "button"
                              )),
                              (t.groups.oppositeShiftMode = new u.default(
                                "oppositeShiftMode",
                                d.setOppositeShiftMode,
                                "button"
                              )),
                              (t.groups.confidenceMode = new u.default(
                                "confidenceMode",
                                d.setConfidenceMode,
                                "button",
                                () => {
                                  var e, o;
                                  null === (e = t.groups.freedomMode) ||
                                    void 0 === e ||
                                    e.updateInput(),
                                    null === (o = t.groups.stopOnError) ||
                                      void 0 === o ||
                                      o.updateInput();
                                }
                              )),
                              (t.groups.indicateTypos = new u.default(
                                "indicateTypos",
                                d.setIndicateTypos,
                                "button"
                              )),
                              (t.groups.hideExtraLetters = new u.default(
                                "hideExtraLetters",
                                d.setHideExtraLetters,
                                "button"
                              )),
                              (t.groups.blindMode = new u.default(
                                "blindMode",
                                d.setBlindMode,
                                "button"
                              )),
                              (t.groups.quickEnd = new u.default(
                                "quickEnd",
                                d.setQuickEnd,
                                "button"
                              )),
                              (t.groups.repeatQuotes = new u.default(
                                "repeatQuotes",
                                d.setRepeatQuotes,
                                "button"
                              )),
                              (t.groups.ads = new u.default(
                                "ads",
                                d.setAds,
                                "button"
                              )),
                              (t.groups.alwaysShowWordsHistory = new u.default(
                                "alwaysShowWordsHistory",
                                d.setAlwaysShowWordsHistory,
                                "button"
                              )),
                              (t.groups.britishEnglish = new u.default(
                                "britishEnglish",
                                d.setBritishEnglish,
                                "button"
                              )),
                              (t.groups.singleListCommandLine = new u.default(
                                "singleListCommandLine",
                                d.setSingleListCommandLine,
                                "button"
                              )),
                              (t.groups.capsLockWarning = new u.default(
                                "capsLockWarning",
                                d.setCapsLockWarning,
                                "button"
                              )),
                              (t.groups.flipTestColors = new u.default(
                                "flipTestColors",
                                d.setFlipTestColors,
                                "button"
                              )),
                              (t.groups.showOutOfFocusWarning = new u.default(
                                "showOutOfFocusWarning",
                                d.setShowOutOfFocusWarning,
                                "button"
                              )),
                              (t.groups.colorfulMode = new u.default(
                                "colorfulMode",
                                d.setColorfulMode,
                                "button"
                              )),
                              (t.groups.startGraphsAtZero = new u.default(
                                "startGraphsAtZero",
                                d.setStartGraphsAtZero,
                                "button"
                              )),
                              (t.groups.autoSwitchTheme = new u.default(
                                "autoSwitchTheme",
                                d.setAutoSwitchTheme,
                                "button"
                              )),
                              (t.groups.randomTheme = new u.default(
                                "randomTheme",
                                d.setRandomTheme,
                                "button"
                              )),
                              (t.groups.stopOnError = new u.default(
                                "stopOnError",
                                d.setStopOnError,
                                "button",
                                () => {
                                  var e;
                                  null === (e = t.groups.confidenceMode) ||
                                    void 0 === e ||
                                    e.updateInput();
                                }
                              )),
                              (t.groups.soundVolume = new u.default(
                                "soundVolume",
                                d.setSoundVolume,
                                "button"
                              )),
                              (t.groups.playSoundOnError = new u.default(
                                "playSoundOnError",
                                d.setPlaySoundOnError,
                                "button",
                                () => {
                                  "off" !== l.default.playSoundOnError &&
                                    c.playError();
                                }
                              )),
                              (t.groups.playSoundOnClick = new u.default(
                                "playSoundOnClick",
                                d.setPlaySoundOnClick,
                                "button",
                                () => {
                                  "off" !== l.default.playSoundOnClick &&
                                    c.playClick("KeyQ");
                                }
                              )),
                              (t.groups.showAllLines = new u.default(
                                "showAllLines",
                                d.setShowAllLines,
                                "button"
                              )),
                              (t.groups.paceCaret = new u.default(
                                "paceCaret",
                                d.setPaceCaret,
                                "button"
                              )),
                              (t.groups.repeatedPace = new u.default(
                                "repeatedPace",
                                d.setRepeatedPace,
                                "button"
                              )),
                              (t.groups.minWpm = new u.default(
                                "minWpm",
                                d.setMinWpm,
                                "button"
                              )),
                              (t.groups.minAcc = new u.default(
                                "minAcc",
                                d.setMinAcc,
                                "button"
                              )),
                              (t.groups.minBurst = new u.default(
                                "minBurst",
                                d.setMinBurst,
                                "button"
                              )),
                              (t.groups.smoothLineScroll = new u.default(
                                "smoothLineScroll",
                                d.setSmoothLineScroll,
                                "button"
                              )),
                              (t.groups.lazyMode = new u.default(
                                "lazyMode",
                                d.setLazyMode,
                                "button"
                              )),
                              (t.groups.layout = new u.default(
                                "layout",
                                d.setLayout,
                                "select"
                              )),
                              (t.groups.language = new u.default(
                                "language",
                                d.setLanguage,
                                "select"
                              )),
                              (t.groups.fontSize = new u.default(
                                "fontSize",
                                d.setFontSize,
                                "button"
                              )),
                              (t.groups.pageWidth = new u.default(
                                "pageWidth",
                                d.setPageWidth,
                                "button"
                              )),
                              (t.groups.caretStyle = new u.default(
                                "caretStyle",
                                d.setCaretStyle,
                                "button"
                              )),
                              (t.groups.paceCaretStyle = new u.default(
                                "paceCaretStyle",
                                d.setPaceCaretStyle,
                                "button"
                              )),
                              (t.groups.timerStyle = new u.default(
                                "timerStyle",
                                d.setTimerStyle,
                                "button"
                              )),
                              (t.groups.highlightMode = new u.default(
                                "highlightMode",
                                d.setHighlightMode,
                                "button"
                              )),
                              (t.groups.tapeMode = new u.default(
                                "tapeMode",
                                d.setTapeMode,
                                "button"
                              )),
                              (t.groups.timerOpacity = new u.default(
                                "timerOpacity",
                                d.setTimerOpacity,
                                "button"
                              )),
                              (t.groups.timerColor = new u.default(
                                "timerColor",
                                d.setTimerColor,
                                "button"
                              )),
                              (t.groups.fontFamily = new u.default(
                                "fontFamily",
                                d.setFontFamily,
                                "button",
                                void 0,
                                () => {
                                  const e = $(
                                    ".pageSettings .section.fontFamily .buttons .custom"
                                  );
                                  0 ===
                                  $(
                                    ".pageSettings .section.fontFamily .buttons .active"
                                  ).length
                                    ? (e.addClass("active"),
                                      e.text(
                                        `Custom (${l.default.fontFamily.replace(
                                          /_/g,
                                          " "
                                        )})`
                                      ))
                                    : e.text("Custom");
                                }
                              )),
                              (t.groups.alwaysShowDecimalPlaces = new u.default(
                                "alwaysShowDecimalPlaces",
                                d.setAlwaysShowDecimalPlaces,
                                "button"
                              )),
                              (t.groups.typingSpeedUnit = new u.default(
                                "typingSpeedUnit",
                                d.setTypingSpeedUnit,
                                "button"
                              )),
                              (t.groups.customBackgroundSize = new u.default(
                                "customBackgroundSize",
                                d.setCustomBackgroundSize,
                                "button"
                              ));
                          });
                        })(),
                          (A = !0);
                      V(!1),
                        yield p.sleep(0),
                        yield v.refreshButtons(),
                        yield d.loadPromise;
                    });
                  })(),
                  yield I(!1);
              }),
            () => r(void 0, void 0, void 0, function* () {})
          )),
          $(() => {
            M.save("pageSettings");
          });
      },
      9011: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.page = void 0);
        const u = a(o(2474)),
          l = a(o(8673)),
          d = a(o(2203)),
          c = a(o(3013)),
          p = a(o(2591)),
          f = s(o(3361)),
          h = o(1493),
          m = a(o(2453)),
          g = a(o(2148)),
          v = a(o(5513)),
          y = a(o(4044));
        t.page = new f.default(
          "test",
          $(".page.pageTest"),
          "/",
          () =>
            r(void 0, void 0, void 0, function* () {
              d.set(),
                c.restart(),
                p.clear(),
                m.update(),
                $("#wordsInput").trigger("focusout");
            }),
          () =>
            r(void 0, void 0, void 0, function* () {
              (0, h.updateFooterAndVerticalAds)(!0);
            }),
          () =>
            r(void 0, void 0, void 0, function* () {
              (0, h.updateFooterAndVerticalAds)(!1),
                u.resetIncomplete(),
                d.set(),
                c.restart({
                  noAnim: !0,
                }),
                v.instantUpdate(),
                p.activate(),
                g.refresh();
            }),
          () =>
            r(void 0, void 0, void 0, function* () {
              y.isVisible()
                ? (l.blurWords(), $("#cookiePopupWrapper").trigger("focus"))
                : l.focusWords();
            })
        );
      },
      6126: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0);
        const u = s(o(7355)),
          l = a(o(9817)),
          d = a(o(3368)),
          c = s(o(9546)),
          p = a(o(3285)),
          f = a(o(590)),
          h = o(3388);
        let m = {};
        const g = "apeKeysPopupWrapper";
        function v() {
          const e = m;
          if (!e) return;
          const t = $("#apeKeysPopupWrapper table tbody");
          t.empty();
          const o = Object.keys(e);
          0 !== o.length
            ? o.forEach((o) => {
                const n = e[o];
                t.append(
                  `\n      <tr keyId="${o}">\n        <td>\n          <div class="textButton">\n            ${
                    n.enabled
                      ? '<i class="fas fa-fw fa-check-square"></i>'
                      : '<i class="far fa-fw fa-square"></i>'
                  }\n          </div>\n        </td>\n        <td>${
                    n.name
                  }</td>\n        <td>${(0, c.default)(
                    new Date(n.createdOn),
                    "dd MMM yyyy HH:mm"
                  )}</td>\n        <td>${(0, c.default)(
                    new Date(n.modifiedOn),
                    "dd MMM yyyy HH:mm"
                  )}</td>\n        <td>${
                    -1 === n.lastUsedOn
                      ? "-"
                      : (0, c.default)(
                          new Date(n.lastUsedOn),
                          "dd MMM yyyy HH:mm"
                        )
                  }</td>\n        <td>\n          <div class="keyButtons">\n            <div class="button edit">\n              <i class="fas fa-fw fa-pen"></i>\n            </div>\n            <div class="button delete">\n              <i class="fas fa-fw fa-trash-alt"></i>\n            </div>\n          </div>\n        </td>\n      </tr>\n    `
                );
              })
            : t.append(
                "<tr><td colspan='6' style='text-align: center;'>No keys found</td></tr>"
              );
        }
        function y() {
          (0, h.isPopupVisible)(g) &&
            $("#apeKeysPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#apeKeysPopupWrapper").addClass("hidden"), f.remove(g);
                }
              );
        }
        (t.show = function () {
          return r(this, void 0, void 0, function* () {
            p.get()
              ? (f.append(g),
                (0, h.isPopupVisible)(g) ||
                  (yield (function () {
                    return r(this, void 0, void 0, function* () {
                      l.show();
                      const e = yield u.default.apeKeys.get();
                      l.hide(),
                        200 === e.status
                          ? (m = e.data)
                          : d.add("Error getting ape keys: " + e.message, -1);
                    });
                  })(),
                  v(),
                  $("#apeKeysPopupWrapper")
                    .stop(!0, !0)
                    .css("opacity", 0)
                    .removeClass("hidden")
                    .animate(
                      {
                        opacity: 1,
                      },
                      125,
                      () => {
                        $("#apeKeysPopup textarea")
                          .trigger("focus")
                          .trigger("select");
                      }
                    )))
              : d.add("You are offline", 0, {
                  duration: 2,
                });
          });
        }),
          $("#apeKeysPopupWrapper").on("mousedown", (e) => {
            "apeKeysPopupWrapper" === $(e.target).attr("id") && y();
          }),
          $("#apeKeysPopup .generateApeKey").on("click", () => {
            y();
          }),
          $("#popups").on(
            "click",
            "#apeKeysPopup table .keyButtons .button",
            () => {
              y();
            }
          ),
          $("#popups").on("click", "#apeKeysPopup table .textButton", (e) =>
            r(void 0, void 0, void 0, function* () {
              const t = $(e.target).closest("tr").attr("keyId"),
                o = null == m ? void 0 : m[t];
              if (!o || !m) return;
              l.show();
              const n = yield u.default.apeKeys.update(t, {
                enabled: !o.enabled,
              });
              if ((l.hide(), 200 !== n.status))
                return d.add("Failed to update key: " + n.message, -1);
              (o.enabled = !o.enabled),
                v(),
                o.enabled ? d.add("Key active", 1) : d.add("Key inactive", 1);
            })
          ),
          $(document).on("keydown", (e) => {
            "Escape" === e.key &&
              (0, h.isPopupVisible)(g) &&
              (y(), e.preventDefault());
          }),
          f.save(g);
      },
      5153: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = o(3388),
          s = a(o(590)),
          u = "contactPopupWrapper";
        function l() {
          (0, r.isPopupVisible)(u) &&
            $("#contactPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#contactPopupWrapper").addClass("hidden"), s.remove(u);
                }
              );
        }
        $(document.body).on(
          "click",
          "#contactPopupButton, #contactPopupButton2",
          () => {
            s.append(u),
              (0, r.isPopupVisible)(u) ||
                $("#contactPopupWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: 1,
                    },
                    125
                  );
          }
        ),
          $(document.body).on("click", "#contactPopupWrapper", (e) => {
            "contactPopupWrapper" === $(e.target).attr("id") && l();
          }),
          $(document).on("keydown", (e) => {
            "Escape" === e.key && (0, r.isPopupVisible)(u) && l();
          }),
          s.save(u);
      },
      4044: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.showSettings = t.show = t.isVisible = t.check = void 0);
        const s = o(3326),
          u = o(8673),
          l = a(o(3368)),
          d = a(o(590)),
          c = o(3388),
          p = a(o(1493)),
          f = "cookiePopupWrapper";
        let h = !1;
        function m(e) {
          localStorage.setItem("acceptedCookies", JSON.stringify(e));
        }
        function g() {
          if (
            (d.append(f),
            $("#cookiePopupWrapper").removeClass("hidden"),
            (h = !0),
            void 0 === $("#cookiePopupWrapper")[0] ||
              !1 === $("#cookiePopupWrapper").is(":visible") ||
              0 === $("#cookiePopupWrapper").outerHeight(!0))
          )
            return (
              $("#cookiePopupWrapper").addClass("hidden"),
              (h = !1),
              void d.remove(f)
            );
          (0, c.isPopupVisible)(f) ||
            $("#cookiePopupWrapper")
              .stop(!0, !0)
              .css("opacity", 0)
              .removeClass("hidden")
              .animate(
                {
                  opacity: 1,
                },
                0,
                () => {
                  h =
                    !1 !== $("#cookiePopupWrapper").is(":visible") &&
                    0 !== $("#cookiePopupWrapper").outerHeight(!0);
                }
              );
        }
        function v() {
          return r(this, void 0, void 0, function* () {
            (0, c.isPopupVisible)(f) &&
              ((0, u.focusWords)(),
              $("#cookiePopupWrapper")
                .stop(!0, !0)
                .css("opacity", 1)
                .animate(
                  {
                    opacity: 0,
                  },
                  125,
                  () => {
                    $("#cookiePopupWrapper").addClass("hidden"),
                      (h = !1),
                      d.remove(f);
                  }
                ));
          });
        }
        function y() {
          $("#cookiePopup .main").addClass("hidden"),
            $("#cookiePopup .settings").removeClass("hidden");
        }
        (t.check = function () {
          null ===
            (function () {
              const e = localStorage.getItem("acceptedCookies");
              return e ? JSON.parse(e) : null;
            })() && g();
        }),
          (t.isVisible = function () {
            return h;
          }),
          (t.show = g),
          (t.showSettings = y),
          $("#cookiePopup .acceptAll").on("click", () => {
            m({
              security: !0,
              analytics: !0,
            }),
              (0, s.activateAnalytics)(),
              v();
          }),
          $("#cookiePopup .rejectAll").on("click", () => {
            m({
              security: !0,
              analytics: !1,
            }),
              v();
          }),
          $("#cookiePopup .acceptSelected").on("click", () => {
            const e = $("#cookiePopup .cookie.analytics input").prop("checked");
            m({
              security: !0,
              analytics: e,
            }),
              v(),
              !0 === e && (0, s.activateAnalytics)();
          }),
          $("#cookiePopup .openSettings").on("click", () => {
            y();
          }),
          $(document).on("keypress", (e) => {
            h &&
              ((void 0 !== $("#cookiePopupWrapper")[0] &&
                !1 !== $("#cookiePopupWrapper").is(":visible") &&
                0 !== $("#cookiePopupWrapper").outerHeight(!0)) ||
                (h = !1)),
              h && e.preventDefault();
          }),
          $("#cookiePopup .cookie.ads .textButton").on("click", () => {
            try {
              p.showConsentPopup();
            } catch (e) {
              console.error("Failed to open ad consent UI"),
                l.add(
                  "Failed to open Ad consent popup. Do you have an ad or cookie popup blocker enabled?",
                  -1
                );
            }
          }),
          d.save(f);
      },
      3603: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0);
        const r = a(o(6705)),
          s = a(o(2203)),
          u = a(o(3013)),
          l = a(o(3368)),
          d = a(o(590)),
          c = o(3388),
          p = "customTestDurationPopupWrapper";
        function f(e) {
          const t = [
            ...e.toLowerCase().matchAll(/((-\s*)?\d+(\.\d+)?\s*[hms]?)/g),
          ]
            .map((e) => {
              const t = e[0],
                o = parseFloat(t.replace(/\s+/g, ""));
              return t.includes("h") ? 3600 * o : t.includes("m") ? 60 * o : o;
            })
            .reduce((e, t) => e + t, 0);
          return Math.floor(t);
        }
        function h() {
          const e = f($("#customTestDurationPopup input").val());
          let t = "";
          (t =
            e < 0
              ? "NEGATIVE TIME"
              : 0 === e
              ? "Infinite test"
              : "Total time: " +
                (function (e) {
                  const t = Math.floor(e / 3600),
                    o = Math.floor((e % 3600) / 60),
                    n = (e % 3600) % 60,
                    i = [];
                  return (
                    t > 0 && i.push(`${t} hour${1 === t ? "" : "s"}`),
                    o > 0 && i.push(`${o} minute${1 === o ? "" : "s"}`),
                    n > 0 && i.push(`${n} second${1 === n ? "" : "s"}`),
                    3 === i.length
                      ? `${i[0]}, ${i[1]} and ${i[2]}`
                      : 2 === i.length
                      ? `${i[0]} and ${i[1]}`
                      : `${i[0]}`
                  );
                })(e)),
            $("#customTestDurationPopup .preview").text(t);
        }
        function m() {
          d.append(p),
            (0, c.isPopupVisible)(p) ||
              $("#customTestDurationPopupWrapper")
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate(
                  {
                    opacity: 1,
                  },
                  125,
                  () => {
                    $("#customTestDurationPopup input")
                      .trigger("focus")
                      .trigger("select");
                  }
                ),
            h();
        }
        function g() {
          (0, c.isPopupVisible)(p) &&
            $("#customTestDurationPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#customTestDurationPopupWrapper").addClass("hidden"),
                    d.remove(p);
                }
              );
        }
        function v() {
          const e = f($("#customTestDurationPopup input").val());
          null !== e && !isNaN(e) && e >= 0 && isFinite(e)
            ? (r.setTimeConfig(e),
              s.set(),
              u.restart(),
              e >= 1800
                ? l.add("Stay safe and take breaks!", 0)
                : 0 === e &&
                  l.add(
                    "Infinite time! Make sure to use Bail Out from the command line to save your result.",
                    0,
                    {
                      duration: 7,
                    }
                  ))
            : l.add("Custom time must be at least 1", 0),
            g();
        }
        (t.show = m),
          $("#customTestDurationPopupWrapper").on("click", (e) => {
            "customTestDurationPopupWrapper" === $(e.target).attr("id") && g();
          }),
          $("#customTestDurationPopupWrapper input").on("keyup", (e) => {
            h(), "Enter" === e.key && v();
          }),
          $("#customTestDurationPopupWrapper button").on("click", () => {
            v();
          }),
          $("#testConfig").on("click", ".time .textButton", (e) => {
            "custom" === $(e.currentTarget).attr("timeConfig") && m();
          }),
          $(document).on("keydown", (e) => {
            "Escape" === e.key &&
              (0, c.isPopupVisible)(p) &&
              (g(), e.preventDefault());
          }),
          d.save(p);
      },
      2786: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0);
        const r = a(o(8248)),
          s = a(o(7717)),
          u = a(o(2203)),
          l = a(o(3013)),
          d = a(o(7567)),
          c = a(o(6705)),
          p = c,
          f = a(o(3388)),
          h = a(o(9231)),
          m = a(o(3368)),
          g = a(o(5177)),
          v = a(o(2828)),
          y = a(o(590)),
          b = "customTextPopupWrapper",
          w = "#customTextPopupWrapper",
          _ = "#customTextPopup";
        function C() {
          !0 === s.isCustomTextLong()
            ? ($(`${_} .longCustomTextWarning`).removeClass("hidden"),
              $(`${_} .randomWordsCheckbox input`).prop("checked", !1),
              $(`${_} .delimiterCheck input`).prop("checked", !1),
              $(`${_} .typographyCheck`).prop("checked", !0),
              $(`${_} .replaceNewlineWithSpace input`).prop("checked", !1),
              $(`${_} .inputs`).addClass("disabled"))
            : ($(`${_} .longCustomTextWarning`).addClass("hidden"),
              $(`${_} .inputs`).removeClass("disabled"));
        }
        function S(e = !1) {
          y.append(b),
            f.isElementVisible(w) ||
              (C(),
              r.isSectionRandom || r.isTimeRandom || r.isWordRandom
                ? $(`${_} .randomWordsCheckbox input`).prop("checked", !0)
                : $(`${_} .randomWordsCheckbox input`).prop("checked", !1),
              "|" === r.delimiter
                ? $(`${_} .delimiterCheck input`).prop("checked", !0)
                : $(`${_} .delimiterCheck input`).prop("checked", !1),
              $(`${_} .randomWordsCheckbox input`).prop("checked")
                ? $(`${_} .inputs .randomInputFields`).removeClass("disabled")
                : $(`${_} .inputs .randomInputFields`).addClass("disabled"),
              $(`${_} .replaceNewlineWithSpace input`).prop("checked")
                ? $(`${_} .inputs .replaceNewLinesButtons`).removeClass(
                    "disabled"
                  )
                : $(`${_} .inputs .replaceNewLinesButtons`).addClass(
                    "disabled"
                  ),
              $(`${_} textarea`).val(r.popupTextareaState),
              $(w)
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate(
                  {
                    opacity: 1,
                  },
                  e ? 0 : 125,
                  () => {
                    $(`${_} .wordcount input`).val(-1 === r.word ? "" : r.word),
                      $(`${_} .time input`).val(-1 === r.time ? "" : r.time),
                      $(`${_} textarea`).trigger("focus");
                  }
                )),
            setTimeout(
              () => {
                s.isCustomTextLong() || $(`${_} textarea`).trigger("focus");
              },
              e ? 10 : 150
            );
        }
        function x(e = {}) {
          void 0 === e.noAnim && (e.noAnim = !1),
            void 0 === e.resetState && (e.resetState = !0),
            f.isElementVisible(w) &&
              $(w)
                .stop(!0, !0)
                .css("opacity", 1)
                .animate(
                  {
                    opacity: 0,
                  },
                  e.noAnim ? 0 : 125,
                  () => {
                    if (e.resetState) {
                      const e = r.text.map(
                        (e) => (
                          "|" === e[e.length - 1] && (e = e.slice(0, -1)), e
                        )
                      );
                      r.setPopupTextareaState(e.join(r.delimiter));
                    }
                    $(w).addClass("hidden"), y.remove(b);
                  }
                );
        }
        (t.show = S),
          $(`${_} .delimiterCheck input`).on("change", () => {
            let e;
            if (
              ($(`${_} .delimiterCheck input`).prop("checked")
                ? ((e = "|"),
                  $(`${_} .randomInputFields .sectioncount `).removeClass(
                    "hidden"
                  ),
                  $(`${_} .randomInputFields .wordcount input `).val(""),
                  $(`${_} .randomInputFields .wordcount `).addClass("hidden"))
                : ((e = " "),
                  $(`${_} .randomInputFields .sectioncount input `).val(""),
                  $(`${_} .randomInputFields .sectioncount `).addClass(
                    "hidden"
                  ),
                  $(`${_} .randomInputFields .wordcount `).removeClass(
                    "hidden"
                  )),
              $(`${_} textarea`).val() !== r.text.join(r.delimiter))
            ) {
              let t = $(`${_} textarea`).val().split(r.delimiter).join(e);
              (t = t.replace(/\n /g, "\n")), $(`${_} textarea`).val(t);
            } else {
              let t = r.text.join(e);
              (t = t.replace(/\n /g, "\n")), $(`${_} textarea`).val(t);
            }
            r.setDelimiter(e);
          }),
          $(w).on("mousedown", (e) => {
            "customTextPopupWrapper" === $(e.target).attr("id") && x();
          }),
          $(`${_} .inputs .randomWordsCheckbox input`).on("change", () => {
            $(`${_} .randomWordsCheckbox input`).prop("checked")
              ? $(`${_} .inputs .randomInputFields`).removeClass("disabled")
              : $(`${_} .inputs .randomInputFields`).addClass("disabled");
          }),
          $(`${_} .replaceNewlineWithSpace input`).on("change", () => {
            $(`${_} .replaceNewlineWithSpace input`).prop("checked")
              ? $(`${_} .inputs .replaceNewLinesButtons`).removeClass(
                  "disabled"
                )
              : $(`${_} .inputs .replaceNewLinesButtons`).addClass("disabled");
          }),
          $(`${_} .inputs .replaceNewLinesButtons .button`).on("click", (e) => {
            $(`${_} .inputs .replaceNewLinesButtons .button`).removeClass(
              "active"
            ),
              $(e.target).addClass("active");
          }),
          $(`${_} textarea`).on("input", () => {
            r.setPopupTextareaState($(`${_} textarea`).val());
          }),
          $(`${_} textarea`).on("keypress", (e) => {
            f.isElementVisible("#customTextPopup .longCustomTextWarning")
              ? e.preventDefault()
              : ("Enter" === e.code &&
                  e.ctrlKey &&
                  $(`${_} .button.apply`).trigger("click"),
                s.isCustomTextLong() &&
                  "" !== s.getCustomTextName() &&
                  (s.setCustomTextName("", void 0),
                  m.add("Disabled long custom text progress tracking", 0, {
                    duration: 5,
                  }),
                  C()));
          }),
          $(`${_} .randomInputFields .wordcount input`).on("keypress", () => {
            $(`${_} .randomInputFields .time input`).val(""),
              $(`${_} .randomInputFields .sectioncount input`).val("");
          }),
          $(`${_} .randomInputFields .time input`).on("keypress", () => {
            $(`${_} .randomInputFields .wordcount input`).val(""),
              $(`${_} .randomInputFields .sectioncount input`).val("");
          }),
          $(`${_} .randomInputFields .sectioncount input`).on(
            "keypress",
            () => {
              $(`${_} .randomInputFields .time input`).val(""),
                $(`${_} .randomInputFields .wordcount input`).val("");
            }
          ),
          $("#popups").on("click", `${_} .button.apply`, () => {
            !(function () {
              let e = $(`${_} textarea`).val().normalize();
              if ("" === e) return void m.add("Text cannot be empty", 0);
              if (
                ((e = e.trim()),
                (e = e.replace(/[\u2000-\u200A\u202F\u205F\u00A0]/g, " ")),
                (e = e.replace(/[\u200B-\u200D\u2060\uFEFF]/g, "")),
                $(`${_} .replaceControlCharacters input`).prop("checked") &&
                  ((e = e.replace(/([^\\]|^)\\t/gm, "$1\t")),
                  (e = e.replace(/([^\\]|^)\\n/gm, "$1\n")),
                  (e = e.replace(/\\\\t/gm, "\\t")),
                  (e = e.replace(/\\\\n/gm, "\\n"))),
                (e = e.replace(/ +/gm, " ")),
                (e = e.replace(/( *(\r\n|\r|\n) *)/g, "\n ")),
                $(`${_} .typographyCheck input`).prop("checked") &&
                  (e = f.cleanTypographySymbols(e)),
                $(`${_} .replaceNewlineWithSpace input`).prop("checked"))
              ) {
                let t = !0;
                $($(`${_} .replaceNewLinesButtons .button`)[0]).hasClass(
                  "active"
                ) && (t = !1),
                  t
                    ? ((e = e.replace(/\n/gm, ". ")),
                      (e = e.replace(/\.\. /gm, ". ")),
                      (e = e.replace(/ +/gm, " ")))
                    : ((e = e.replace(/\n/gm, " ")),
                      (e = e.replace(/ +/gm, " ")));
              }
              const t = e.split(r.delimiter).filter((e) => "" !== e);
              r.setText(t),
                r.setWord(parseInt($(`${_} .wordcount input`).val() || "-1")),
                r.setTime(parseInt($(`${_} .time input`).val() || "-1")),
                r.setSection(
                  parseInt($(`${_} .sectioncount input`).val() || "-1")
                ),
                r.setIsWordRandom(
                  $(`${_} .randomWordsCheckbox input`).prop("checked") &&
                    r.word > -1
                ),
                r.setIsTimeRandom(
                  $(`${_} .randomWordsCheckbox input`).prop("checked") &&
                    r.time > -1
                ),
                r.setIsSectionRandom(
                  $(`${_} .randomWordsCheckbox input`).prop("checked") &&
                    r.section > -1
                ),
                !$(`${_} .randomWordsCheckbox input`).prop("checked") ||
                r.isTimeRandom ||
                r.isWordRandom ||
                r.isSectionRandom
                  ? $(`${_} .randomWordsCheckbox input`).prop("checked") &&
                    r.isTimeRandom &&
                    r.isWordRandom
                    ? m.add(
                        "You need to pick between word count or time in seconds to start a random custom test",
                        0,
                        {
                          duration: 5,
                        }
                      )
                    : (((r.isWordRandom && 0 === r.word) ||
                        (r.isTimeRandom && 0 === r.time)) &&
                        m.add(
                          "Infinite words! Make sure to use Bail Out from the command line to save your result.",
                          0,
                          {
                            duration: 7,
                          }
                        ),
                      d.clearActive(),
                      u.set(),
                      "custom" !== c.default.mode && p.setMode("custom"),
                      l.restart(),
                      x())
                  : m.add(
                      "You need to specify word count or time in seconds to start a random custom test",
                      0,
                      {
                        duration: 5,
                      }
                    );
            })();
          }),
          $(".pageTest").on(
            "click",
            "#testConfig .customText .textButton",
            () => {
              S();
            }
          ),
          $(document).on("keydown", (e) => {
            "Escape" === e.key &&
              f.isElementVisible("#customTextPopupWrapper") &&
              (x(), e.preventDefault());
          }),
          $("#popups").on("click", `${_} .wordfilter`, () => {
            x({
              noAnim: !0,
              resetState: !1,
            }),
              h.show(!0, () => {
                S(!0);
              });
          }),
          $(`${_} .buttonsTop .showSavedTexts`).on("click", () => {
            x({
              noAnim: !0,
            }),
              g.show(!0, () => {
                S(!0);
              });
          }),
          $("#customTextPopupWrapper .buttonsTop .saveCustomText").on(
            "click",
            () => {
              x({
                noAnim: !0,
                resetState: !1,
              }),
                v.show(!0, () => {
                  S(!0);
                });
            }
          ),
          $("#customTextPopupWrapper .longCustomTextWarning .button").on(
            "click",
            () => {
              $("#customTextPopup .longCustomTextWarning").addClass("hidden");
            }
          ),
          $("#fileInput").on("change", () => {
            var e;
            const t =
              null === (e = $("#fileInput")[0].files) || void 0 === e
                ? void 0
                : e[0];
            if (t) {
              if ("text/plain" !== t.type)
                return void m.add("File is not a text file", -1, {
                  duration: 5,
                });
              const e = new FileReader();
              e.readAsText(t, "UTF-8"),
                (e.onload = (e) => {
                  var t;
                  const o =
                    null === (t = e.target) || void 0 === t ? void 0 : t.result;
                  $(`${_} textarea`).val(o), $("#fileInput").val("");
                }),
                (e.onerror = () => {
                  m.add("Failed to read file", -1, {
                    duration: 5,
                  });
                });
            }
          }),
          y.save(b);
      },
      1104: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0);
        const r = o(3388),
          s = a(o(590)),
          u = "customThemeShareWrapper";
        function l() {
          (0, r.isPopupVisible)(u) &&
            ($("#customThemeShareWrapper input").val(""),
            $("#customThemeShareWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#customThemeShareWrapper").addClass("hidden"), s.remove(u);
                }
              ));
        }
        (t.show = function (e) {
          s.append(u),
            (0, r.isPopupVisible)(u) ||
              ($("#customThemeShareWrapper input").val(e),
              $("#customThemeShareWrapper")
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate(
                  {
                    opacity: 1,
                  },
                  125,
                  () => {
                    $("#customThemeShare input").trigger("focus"),
                      $("#customThemeShare input").trigger("select"),
                      $("#customThemeShare input").trigger("focus");
                  }
                ));
        }),
          $("#customThemeShareWrapper").on("click", (e) => {
            "customThemeShareWrapper" === $(e.target).attr("id") && l();
          }),
          $("#customThemeShare .button").on("click", () => {
            l();
          }),
          s.save(u);
      },
      6021: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0);
        const r = a(o(6705)),
          s = a(o(2203)),
          u = a(o(3013)),
          l = a(o(3368)),
          d = a(o(590)),
          c = o(3388),
          p = "customWordAmountPopupWrapper";
        function f() {
          d.append(p),
            (0, c.isPopupVisible)(p) ||
              $("#customWordAmountPopupWrapper")
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate(
                  {
                    opacity: 1,
                  },
                  125,
                  () => {
                    $("#customWordAmountPopup input")
                      .trigger("focus")
                      .trigger("select");
                  }
                );
        }
        function h() {
          (0, c.isPopupVisible)(p) &&
            $("#customWordAmountPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#customWordAmountPopupWrapper").addClass("hidden"),
                    d.remove(p);
                }
              );
        }
        function m() {
          const e = parseInt($("#customWordAmountPopup input").val());
          null !== e && !isNaN(e) && e >= 0 && isFinite(e)
            ? r.setWordCount(e) &&
              (s.set(),
              u.restart(),
              e > 2e3
                ? l.add("Stay safe and take breaks!", 0)
                : 0 === e &&
                  l.add(
                    "Infinite words! Make sure to use Bail Out from the command line to save your result.",
                    0,
                    {
                      duration: 7,
                    }
                  ))
            : l.add("Custom word amount must be at least 1", 0),
            h();
        }
        (t.show = f),
          $("#customWordAmountPopupWrapper").on("click", (e) => {
            "customWordAmountPopupWrapper" === $(e.target).attr("id") && h();
          }),
          $("#customWordAmountPopupWrapper input").on("keypress", (e) => {
            "Enter" === e.key && m();
          }),
          $("#customWordAmountPopupWrapper button").on("click", () => {
            m();
          }),
          $("#testConfig").on("click", ".wordCount .textButton", (e) => {
            "custom" === $(e.currentTarget).attr("wordCount") && f();
          }),
          $(document).on("keydown", (e) => {
            "Escape" === e.key &&
              (0, c.isPopupVisible)(p) &&
              (h(), e.preventDefault());
          }),
          d.save(p);
      },
      2845: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0);
        const u = s(o(7355)),
          l = a(o(6350)),
          d = a(o(6705)),
          c = a(o(9817)),
          p = a(o(8835)),
          f = a(o(3368)),
          h = a(o(3285)),
          m = a(o(590)),
          g = o(3388),
          v = "presetWrapper";
        function y(e, t, o) {
          h.get()
            ? (m.append(v),
              "add" === e
                ? ($("#presetWrapper #presetEdit").attr("action", "add"),
                  $("#presetWrapper #presetEdit .title").html("Add new preset"),
                  $("#presetWrapper #presetEdit button").html("add"),
                  $("#presetWrapper #presetEdit input.text").val(""),
                  $("#presetWrapper #presetEdit input.text").removeClass(
                    "hidden"
                  ),
                  $("#presetWrapper #presetEdit label").addClass("hidden"))
                : "edit" === e && t && o
                ? ($("#presetWrapper #presetEdit").attr("action", "edit"),
                  $("#presetWrapper #presetEdit").attr("presetid", t),
                  $("#presetWrapper #presetEdit .title").html("Edit preset"),
                  $("#presetWrapper #presetEdit button").html("save"),
                  $("#presetWrapper #presetEdit input.text").val(o),
                  $("#presetWrapper #presetEdit input.text").removeClass(
                    "hidden"
                  ),
                  $("#presetWrapper #presetEdit label input").prop(
                    "checked",
                    !1
                  ),
                  $("#presetWrapper #presetEdit label").removeClass("hidden"))
                : "remove" === e &&
                  t &&
                  ($("#presetWrapper #presetEdit").attr("action", "remove"),
                  $("#presetWrapper #presetEdit").attr("presetid", t),
                  $("#presetWrapper #presetEdit .title").html(
                    "Delete preset " + o
                  ),
                  $("#presetWrapper #presetEdit button").html("Delete"),
                  $("#presetWrapper #presetEdit input.text").addClass("hidden"),
                  $("#presetWrapper #presetEdit label").addClass("hidden")),
              (0, g.isPopupVisible)(v) ||
                $("#presetWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: 1,
                    },
                    125,
                    () => {
                      $("#presetWrapper #presetEdit input").hasClass("hidden")
                        ? $("#presetWrapper").trigger("focus")
                        : $("#presetWrapper #presetEdit input").trigger(
                            "focus"
                          );
                    }
                  ))
            : f.add("You are offline", 0, {
                duration: 2,
              });
        }
        function b() {
          (0, g.isPopupVisible)(v) &&
            ($("#presetWrapper #presetEdit").attr("action", ""),
            $("#presetWrapper #presetEdit").attr("tagid", ""),
            $("#presetWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#presetWrapper").addClass("hidden"), m.remove(v);
                }
              ));
        }
        (t.show = y),
          $("#presetWrapper").on("click", (e) => {
            "presetWrapper" === $(e.target).attr("id") && b();
          }),
          $("#presetWrapper #presetEdit form").on("submit", (e) => {
            e.preventDefault(),
              (function () {
                var e, t, o, n;
                r(this, void 0, void 0, function* () {
                  const i = $("#presetWrapper #presetEdit").attr("action"),
                    a = $("#presetWrapper #presetEdit input").val(),
                    r = a.replaceAll(" ", "_"),
                    s = $("#presetWrapper #presetEdit").attr("presetId"),
                    h = $("#presetWrapper #presetEdit label input").prop(
                      "checked"
                    );
                  let m = {};
                  if ((h && "edit" === i) || "add" === i) {
                    m = d.getConfigChanges();
                    const o = (
                      null !==
                        (t =
                          null === (e = l.getSnapshot()) || void 0 === e
                            ? void 0
                            : e.tags) && void 0 !== t
                        ? t
                        : []
                    )
                      .filter((e) => e.active)
                      .map((e) => e._id);
                    m.tags = o;
                  }
                  const g =
                    null !==
                      (n =
                        null === (o = l.getSnapshot()) || void 0 === o
                          ? void 0
                          : o.presets) && void 0 !== n
                      ? n
                      : [];
                  if ((b(), c.show(), "add" === i)) {
                    const e = yield u.default.presets.add(r, m);
                    200 !== e.status
                      ? f.add(
                          "Failed to add preset: " + e.message.replace(r, a),
                          -1
                        )
                      : (f.add("Preset added", 1, {
                          duration: 2,
                        }),
                        g.push({
                          name: r,
                          config: m,
                          display: a,
                          _id: e.data.presetId,
                        }));
                  } else if ("edit" === i) {
                    const e = yield u.default.presets.edit(s, r, m);
                    if (200 !== e.status)
                      f.add("Failed to edit preset: " + e.message, -1);
                    else {
                      f.add("Preset updated", 1);
                      const e = g.filter((e) => e._id === s)[0];
                      (e.name = r),
                        (e.display = r.replace(/_/g, " ")),
                        h && (e.config = m);
                    }
                  } else if ("remove" === i) {
                    const e = yield u.default.presets.delete(s);
                    200 !== e.status
                      ? f.add("Failed to remove preset: " + e.message, -1)
                      : (f.add("Preset removed", 1),
                        g.forEach((e, t) => {
                          e._id === s && g.splice(t, 1);
                        }));
                  }
                  p.update(), c.hide();
                });
              })();
          }),
          $(".pageSettings .section.presets").on(
            "click",
            ".addPresetButton",
            () => {
              y("add");
            }
          ),
          $(".pageSettings .section.presets").on(
            "click",
            ".editButton",
            (e) => {
              y(
                "edit",
                $(e.currentTarget).parent(".preset").attr("data-id"),
                $(e.currentTarget).parent(".preset").attr("data-display")
              );
            }
          ),
          $(".pageSettings .section.presets").on(
            "click",
            ".removeButton",
            (e) => {
              y(
                "remove",
                $(e.currentTarget).parent(".preset").attr("data-id"),
                $(e.currentTarget).parent(".preset").attr("data-display")
              );
            }
          ),
          $(document).on("keydown", (e) => {
            "Escape" === e.key &&
              (0, g.isPopupVisible)(v) &&
              (b(), e.preventDefault());
          }),
          m.save(v);
      },
      8281: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0);
        const u = s(o(7355)),
          l = o(7401),
          d = a(o(6350)),
          c = a(o(9817)),
          p = a(o(3368)),
          f = a(o(3285)),
          h = o(3388),
          m = a(o(590)),
          g = "editProfilePopupWrapper";
        let v = null;
        function y() {
          (0, h.isPopupVisible)(g) &&
            (v && v(),
            $("#editProfilePopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#editProfilePopupWrapper").addClass("hidden"), m.remove(g);
                }
              ));
        }
        t.show = function (e) {
          f.get()
            ? (m.append(g),
              (0, h.isPopupVisible)(g) ||
                ((v = e),
                $("#editProfilePopupWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: 1,
                    },
                    125,
                    () => {
                      !(function () {
                        var e, t, o, n, i, a;
                        const r = d.getSnapshot();
                        if (!r) return;
                        const s =
                            null !==
                              (t =
                                null === (e = r.inventory) || void 0 === e
                                  ? void 0
                                  : e.badges) && void 0 !== t
                              ? t
                              : [],
                          {
                            bio: u,
                            keyboard: c,
                            socialProfiles: p,
                          } = null !== (o = r.details) && void 0 !== o ? o : {};
                        (P = -1),
                          b.val(null != u ? u : ""),
                          w.val(null != c ? c : ""),
                          _.val(
                            null !== (n = null == p ? void 0 : p.twitter) &&
                              void 0 !== n
                              ? n
                              : ""
                          ),
                          C.val(
                            null !== (i = null == p ? void 0 : p.github) &&
                              void 0 !== i
                              ? i
                              : ""
                          ),
                          S.val(
                            null !== (a = null == p ? void 0 : p.website) &&
                              void 0 !== a
                              ? a
                              : ""
                          ),
                          x.html(""),
                          null == s ||
                            s.forEach((e) => {
                              e.selected && (P = e.id);
                              const t = (0, l.getHTMLById)(e.id, !1, !0),
                                o = `<div class="badgeSelectionItem ${
                                  e.selected ? "selected" : ""
                                }" selection-id=${e.id}>${t}</div>`;
                              x.append(o);
                            }),
                          x.prepend(
                            `<div class="badgeSelectionItem ${
                              -1 === P ? "selected" : ""
                            }" selection-id=-1>\n      <div class="badge">\n        <i class="fas fa-frown-open"></i>\n        <div class="text">none</div>\n      </div>\n    </div>`
                          ),
                          $(".badgeSelectionItem").on(
                            "click",
                            ({ currentTarget: e }) => {
                              const t = $(e).attr("selection-id");
                              (P = parseInt(t, 10)),
                                x
                                  .find(".badgeSelectionItem")
                                  .removeClass("selected"),
                                $(e).addClass("selected");
                            }
                          );
                      })(),
                        $("#editProfilePopupWrapper").trigger("focus");
                    }
                  )))
            : p.add("You are offline", 0, {
                duration: 2,
              });
        };
        const b = $("#editProfilePopup .bio"),
          w = $("#editProfilePopup .keyboard"),
          _ = $("#editProfilePopup .twitter"),
          C = $("#editProfilePopup .github"),
          S = $("#editProfilePopup .website"),
          x = $("#editProfilePopup .badgeSelectionContainer");
        let P = -1;
        $("#editProfilePopupWrapper").on("mousedown", (e) => {
          "editProfilePopupWrapper" === $(e.target).attr("id") && y();
        }),
          $("#editProfilePopupWrapper #editProfilePopup").on("submit", (e) =>
            r(void 0, void 0, void 0, function* () {
              e.preventDefault(),
                yield (function () {
                  var e;
                  return r(this, void 0, void 0, function* () {
                    const t = d.getSnapshot();
                    if (!t) return;
                    const o = (function () {
                      var e, t, o, n, i;
                      return {
                        bio: null !== (e = b.val()) && void 0 !== e ? e : "",
                        keyboard:
                          null !== (t = w.val()) && void 0 !== t ? t : "",
                        socialProfiles: {
                          twitter:
                            null !== (o = _.val()) && void 0 !== o ? o : "",
                          github:
                            null !== (n = C.val()) && void 0 !== n ? n : "",
                          website:
                            null !== (i = S.val()) && void 0 !== i ? i : "",
                        },
                      };
                    })();
                    if (
                      o.socialProfiles.github &&
                      o.socialProfiles.github.length > 39
                    )
                      return void p.add(
                        "GitHub username exceeds maximum allowed length (39 characters).",
                        -1
                      );
                    if (
                      o.socialProfiles.twitter &&
                      o.socialProfiles.twitter.length > 20
                    )
                      return void p.add(
                        "Twitter username exceeds maximum allowed length (20 characters).",
                        -1
                      );
                    c.show();
                    const n = yield u.default.users.updateProfile(o, P);
                    c.hide(),
                      200 === n.status
                        ? ((t.details = o),
                          null === (e = t.inventory) ||
                            void 0 === e ||
                            e.badges.forEach((e) => {
                              e.id === P
                                ? (e.selected = !0)
                                : delete e.selected;
                            }),
                          p.add("Profile updated", 1),
                          y())
                        : p.add("Failed to update profile: " + n.message, -1);
                  });
                })();
            })
          ),
          $(document).on("keydown", (e) => {
            "Escape" === e.key &&
              (0, h.isPopupVisible)(g) &&
              (y(), e.preventDefault());
          }),
          m.save(g);
      },
      7841: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0);
        const u = s(o(7355)),
          l = a(o(6350)),
          d = a(o(3368)),
          c = a(o(9817)),
          p = a(o(8835)),
          f = a(o(3285)),
          h = a(o(590)),
          m = o(3388),
          g = "tagsWrapper";
        function v(e, t, o) {
          f.get()
            ? (h.append(g),
              "add" === e
                ? ($("#tagsWrapper #tagsEdit").attr("action", "add"),
                  $("#tagsWrapper #tagsEdit .title").html("Add new tag"),
                  $("#tagsWrapper #tagsEdit button").html("add"),
                  $("#tagsWrapper #tagsEdit input").val(""),
                  $("#tagsWrapper #tagsEdit input").removeClass("hidden"))
                : "edit" === e && t && o
                ? ($("#tagsWrapper #tagsEdit").attr("action", "edit"),
                  $("#tagsWrapper #tagsEdit").attr("tagid", t),
                  $("#tagsWrapper #tagsEdit .title").html("Edit tag name"),
                  $("#tagsWrapper #tagsEdit button").html("save"),
                  $("#tagsWrapper #tagsEdit input").val(o),
                  $("#tagsWrapper #tagsEdit input").removeClass("hidden"))
                : "remove" === e && t && o
                ? ($("#tagsWrapper #tagsEdit").attr("action", "remove"),
                  $("#tagsWrapper #tagsEdit").attr("tagid", t),
                  $("#tagsWrapper #tagsEdit .title").html("Delete tag " + o),
                  $("#tagsWrapper #tagsEdit button").html("delete"),
                  $("#tagsWrapper #tagsEdit input").addClass("hidden"))
                : "clearPb" === e &&
                  t &&
                  o &&
                  ($("#tagsWrapper #tagsEdit").attr("action", "clearPb"),
                  $("#tagsWrapper #tagsEdit").attr("tagid", t),
                  $("#tagsWrapper #tagsEdit .title").html(
                    "Clear PB for tag " + o
                  ),
                  $("#tagsWrapper #tagsEdit button").html("clear"),
                  $("#tagsWrapper #tagsEdit input").addClass("hidden")),
              (0, m.isPopupVisible)(g) ||
                $("#tagsWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: 1,
                    },
                    125,
                    () => {
                      $("#tagsWrapper #tagsEdit input").hasClass("hidden")
                        ? $("#tagsWrapper").trigger("focus")
                        : $("#tagsWrapper #tagsEdit input").trigger("focus");
                    }
                  ))
            : d.add("You are offline", 0, {
                duration: 2,
              });
        }
        function y() {
          (0, m.isPopupVisible)(g) &&
            ($("#tagsWrapper #tagsEdit").attr("action", ""),
            $("#tagsWrapper #tagsEdit").attr("tagid", ""),
            $("#tagsWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#tagsWrapper").addClass("hidden"), h.remove(g);
                }
              ));
        }
        (t.show = v),
          $("#tagsWrapper").on("click", (e) => {
            "tagsWrapper" === $(e.target).attr("id") && y();
          }),
          $("#tagsWrapper #tagsEdit form").on("submit", (e) => {
            e.preventDefault(),
              (function () {
                var e, t, o, n, i, a, s, f;
                r(this, void 0, void 0, function* () {
                  const r = $("#tagsWrapper #tagsEdit").attr("action"),
                    h = $("#tagsWrapper #tagsEdit input").val(),
                    m = h.replaceAll(" ", "_"),
                    g = $("#tagsWrapper #tagsEdit").attr("tagid");
                  if ((y(), c.show(), "add" === r)) {
                    const o = yield u.default.users.createTag(m);
                    200 !== o.status
                      ? d.add(
                          "Failed to add tag: " + o.message.replace(m, h),
                          -1
                        )
                      : (d.add("Tag added", 1),
                        null ===
                          (t =
                            null === (e = l.getSnapshot()) || void 0 === e
                              ? void 0
                              : e.tags) ||
                          void 0 === t ||
                          t.push({
                            display: h,
                            name: o.data.name,
                            _id: o.data._id,
                            personalBests: {
                              time: {},
                              words: {},
                              quote: {},
                              zen: {},
                              custom: {},
                            },
                          }),
                        p.update());
                  } else if ("edit" === r) {
                    const e = yield u.default.users.editTag(g, m);
                    200 !== e.status
                      ? d.add("Failed to edit tag: " + e.message, -1)
                      : (d.add("Tag updated", 1),
                        null ===
                          (n =
                            null === (o = l.getSnapshot()) || void 0 === o
                              ? void 0
                              : o.tags) ||
                          void 0 === n ||
                          n.forEach((e) => {
                            e._id === g && ((e.name = m), (e.display = h));
                          }),
                        p.update());
                  } else if ("remove" === r) {
                    const e = yield u.default.users.deleteTag(g);
                    200 !== e.status
                      ? d.add("Failed to remove tag: " + e.message, -1)
                      : (d.add("Tag removed", 1),
                        null ===
                          (a =
                            null === (i = l.getSnapshot()) || void 0 === i
                              ? void 0
                              : i.tags) ||
                          void 0 === a ||
                          a.forEach((e, t) => {
                            var o, n;
                            e._id === g &&
                              (null ===
                                (n =
                                  null === (o = l.getSnapshot()) || void 0 === o
                                    ? void 0
                                    : o.tags) ||
                                void 0 === n ||
                                n.splice(t, 1));
                          }),
                        p.update());
                  } else if ("clearPb" === r) {
                    const e = yield u.default.users.deleteTagPersonalBest(g);
                    200 !== e.status
                      ? d.add("Failed to clear tag pb: " + e.message, -1)
                      : (d.add("Tag PB cleared", 1),
                        null ===
                          (f =
                            null === (s = l.getSnapshot()) || void 0 === s
                              ? void 0
                              : s.tags) ||
                          void 0 === f ||
                          f.forEach((e) => {
                            e._id === g &&
                              (e.personalBests = {
                                time: {},
                                words: {},
                                quote: {},
                                zen: {},
                                custom: {},
                              });
                          }),
                        p.update());
                  }
                  c.hide();
                });
              })();
          }),
          $(".pageSettings .section.tags").on("click", ".addTagButton", () => {
            v("add");
          }),
          $(".pageSettings .section.tags").on(
            "click",
            ".tagsList .tag .editButton",
            (e) => {
              v(
                "edit",
                $(e.currentTarget).parent(".tag").attr("data-id"),
                $(e.currentTarget).parent(".tag").attr("data-display")
              );
            }
          ),
          $(".pageSettings .section.tags").on(
            "click",
            ".tagsList .tag .clearPbButton",
            (e) => {
              v(
                "clearPb",
                $(e.currentTarget).parent(".tag").attr("data-id"),
                $(e.currentTarget).parent(".tag").attr("data-display")
              );
            }
          ),
          $(".pageSettings .section.tags").on(
            "click",
            ".tagsList .tag .removeButton",
            (e) => {
              v(
                "remove",
                $(e.currentTarget).parent(".tag").attr("data-id"),
                $(e.currentTarget).parent(".tag").attr("data-display")
              );
            }
          ),
          $(document).on("keydown", (e) => {
            "Escape" === e.key &&
              (0, m.isPopupVisible)(g) &&
              (y(), e.preventDefault());
          }),
          h.save(g);
      },
      5764: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const u = a(o(3368)),
          l = o(2189),
          d = o(513),
          c = s(o(7355)),
          p = o(3388),
          f = a(o(2588)),
          h = a(o(2681)),
          m = a(o(4674)),
          g = a(o(3013)),
          v = a(o(6953)),
          y = a(o(6350)),
          b = a(o(9817)),
          w = o(2100),
          _ = o(5817),
          C = a(o(590)),
          S = "googleSignUpPopupWrapper";
        let x;
        function P(e) {
          C.append(S),
            (0, p.isPopupVisible)(S) ||
              (v.reset("googleSignUpPopup"),
              v.render(
                $("#googleSignUpPopupWrapper .captcha")[0],
                "googleSignUpPopup"
              ),
              $("#googleSignUpPopup input").prop("disabled", !1),
              O(),
              (x = e),
              $("#googleSignUpPopupWrapper")
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate(
                  {
                    opacity: 1,
                  },
                  125,
                  () => {
                    $("#googleSignUpPopup input")
                      .trigger("focus")
                      .trigger("select");
                  }
                ));
        }
        function k() {
          var e;
          return r(this, void 0, void 0, function* () {
            (0, p.isPopupVisible)(S) &&
              (void 0 !== x &&
                (u.add("Sign up process canceled", 0, {
                  duration: 5,
                }),
                f.hidePreloader(),
                f.enableInputs(),
                x &&
                  (null === (e = (0, d.getAdditionalUserInfo)(x)) ||
                  void 0 === e
                    ? void 0
                    : e.isNewUser) &&
                  (c.default.users.delete(), x.user.delete()),
                m.signOut(),
                (x = void 0)),
              $("#googleSignUpPopupWrapper")
                .stop(!0, !0)
                .css("opacity", 1)
                .animate(
                  {
                    opacity: 0,
                  },
                  125,
                  () => {
                    $("#googleSignUpPopupWrapper").addClass("hidden"),
                      C.remove(S);
                  }
                ));
          });
        }
        function T() {
          var e;
          return r(this, void 0, void 0, function* () {
            if ($("#googleSignUpPopup .button").hasClass("disabled")) return;
            if (!x)
              return u.add(
                "Missing user credential. Please close the popup and try again.",
                -1
              );
            const t = v.getResponse("googleSignUpPopup");
            if (!t) return u.add("Please complete the captcha", -1);
            $("#googleSignUpPopup input").prop("disabled", !0), O(), b.show();
            const o = $("#googleSignUpPopup input").val();
            try {
              if (0 === o.length) throw new Error("Name cannot be empty");
              const e = yield c.default.users.create(o, t);
              if (200 !== e.status) throw e;
              if (200 === e.status) {
                if (
                  (yield (0, d.updateProfile)(x.user, {
                    displayName: o,
                  }),
                  yield (0, d.sendEmailVerification)(x.user),
                  h.clear(),
                  u.add("Account created", 1),
                  $("nav .textButton.account .text").text(o),
                  f.enableInputs(),
                  f.hidePreloader(),
                  yield m.loadUser(x.user),
                  null !== g.notSignedInLastResult &&
                    (g.setNotSignedInUid(x.user.uid),
                    200 ===
                      (yield c.default.results.save(g.notSignedInLastResult))
                        .status))
                ) {
                  const e = g.notSignedInLastResult;
                  y.saveLocalResult(e),
                    y.updateLocalStats(
                      1,
                      e.testDuration + e.incompleteTestSeconds - e.afkDuration
                    );
                }
                (x = void 0), b.hide(), k();
              }
            } catch (t) {
              console.log(t);
              const o = (0, p.createErrorMessage)(
                t,
                "Failed to sign in with Google"
              );
              return (
                u.add(o, -1),
                f.hidePreloader(),
                f.enableInputs(),
                f.enableSignUpButton(),
                x &&
                  (null === (e = (0, d.getAdditionalUserInfo)(x)) ||
                  void 0 === e
                    ? void 0
                    : e.isNewUser) &&
                  (yield c.default.users.delete(), yield x.user.delete()),
                m.signOut(),
                (x = void 0),
                k(),
                void b.hide()
              );
            }
          });
        }
        function O() {
          $("#googleSignUpPopup .button").addClass("disabled");
        }
        $("#googleSignUpPopupWrapper").on("mousedown", (e) => {
          "googleSignUpPopupWrapper" === $(e.target).attr("id") && k();
        });
        const M = new _.InputIndicator($("#googleSignUpPopup input"), {
            available: {
              icon: "fa-check",
              level: 1,
            },
            unavailable: {
              icon: "fa-times",
              level: -1,
            },
            taken: {
              icon: "fa-times",
              level: -1,
            },
            checking: {
              icon: "fa-circle-notch",
              spinIcon: !0,
              level: 0,
            },
          }),
          A = (0, l.debounce)(1e3, () =>
            r(void 0, void 0, void 0, function* () {
              const e = $("#googleSignUpPopup input").val();
              if (!e) return;
              const t = yield c.default.users.getNameAvailability(e);
              if (200 === t.status)
                return (
                  M.show("available", t.message),
                  void $("#googleSignUpPopup .button").removeClass("disabled")
                );
              if (422 !== t.status) {
                if (409 !== t.status)
                  return 200 !== t.status
                    ? (M.show("unavailable"),
                      u.add(
                        "Failed to check name availability: " + t.message,
                        -1
                      ))
                    : void 0;
                M.show("taken", t.message);
              } else M.show("unavailable", t.message);
            })
          );
        $("#googleSignUpPopupWrapper input").on("input", () => {
          setTimeout(() => {
            if ((O(), "" === $("#googleSignUpPopup input").val()))
              return M.hide();
            M.show("checking"), A();
          }, 1);
        }),
          $("#googleSignUpPopupWrapper input").on("keypress", (e) => {
            "Enter" === e.key && T();
          }),
          $("#googleSignUpPopupWrapper .button").on("click", () => {
            T();
          }),
          $(document).on("keydown", (e) => {
            "Escape" === e.key &&
              (0, p.isPopupVisible)(S) &&
              (k(), e.preventDefault());
          }),
          (0, w.subscribe)((e, t) => {
            e && t && P(e);
          }),
          C.save(S);
      },
      9516: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0);
        const r = a(o(6705)),
          s = a(o(3368)),
          u = o(3388),
          l = a(o(590)),
          d = "settingsImportWrapper";
        function c() {
          if ((0, u.isPopupVisible)(d)) {
            if ("" !== $("#settingsImportWrapper input").val()) {
              try {
                r.apply(JSON.parse($("#settingsImportWrapper input").val()));
              } catch (e) {
                s.add("Failed to import settings: " + e, -1);
              }
              r.saveFullConfigToLocalStorage();
            }
            $("#settingsImportWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#settingsImportWrapper").addClass("hidden"), l.remove(d);
                }
              );
          }
        }
        (t.show = function (e, t) {
          l.append(d),
            (0, u.isPopupVisible)(d) ||
              ($("#settingsImportWrapper").attr("mode", e),
              "export" === e
                ? ($("#settingsImportWrapper .button").addClass("hidden"),
                  $("#settingsImportWrapper input").val(null != t ? t : ""))
                : "import" === e &&
                  $("#settingsImportWrapper .button").removeClass("hidden"),
              $("#settingsImportWrapper")
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate(
                  {
                    opacity: 1,
                  },
                  125,
                  () => {
                    $("#settingsImportWrapper input").trigger("focus"),
                      $("#settingsImportWrapper input").trigger("select"),
                      $("#settingsImportWrapper input").trigger("focus");
                  }
                ));
        }),
          $("#settingsImportWrapper .button").on("click", () => {
            c();
          }),
          $("#settingsImportWrapper").on("click", (e) => {
            "settingsImportWrapper" === $(e.target).attr("id") && c();
          }),
          l.save(d);
      },
      4611: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = a(o(3013)),
          s = a(o(6705)),
          u = s,
          l = a(o(2203)),
          d = a(o(6021)),
          c = a(o(3603)),
          p = a(o(2338)),
          f = a(o(2786)),
          h = a(o(1446)),
          m = a(o(590)),
          g = o(3388),
          v = "mobileTestConfigPopupWrapper",
          y = $("#mobileTestConfigPopup");
        function b() {
          if (
            (y.find("button").removeClass("active"),
            y
              .find(`.modeGroup button[data-mode='${s.default.mode}']`)
              .addClass("active"),
            y.find(".timeGroup").addClass("hidden"),
            y.find(".wordsGroup").addClass("hidden"),
            y.find(".quoteGroup").addClass("hidden"),
            y.find(".customGroup").addClass("hidden"),
            y.find(`.${s.default.mode}Group`).removeClass("hidden"),
            s.default.punctuation
              ? y.find(".punctuation").addClass("active")
              : y.find(".punctuation").removeClass("active"),
            s.default.numbers
              ? y.find(".numbers").addClass("active")
              : y.find(".numbers").removeClass("active"),
            "time" === s.default.mode)
          )
            y
              .find(`.timeGroup button[data-time='${s.default.time}']`)
              .addClass("active"),
              y.find(".punctuation").removeClass("disabled"),
              y.find(".numbers").removeClass("disabled");
          else if ("words" === s.default.mode)
            y
              .find(`.wordsGroup button[data-words='${s.default.words}']`)
              .addClass("active"),
              y.find(".punctuation").removeClass("disabled"),
              y.find(".numbers").removeClass("disabled");
          else if ("quote" === s.default.mode) {
            for (const e of s.default.quoteLength)
              y.find(`.quoteGroup button[data-quoteLength='${e}']`).addClass(
                "active"
              );
            y.find(".punctuation").addClass("disabled"),
              y.find(".numbers").addClass("disabled");
          } else
            "zen" === s.default.mode
              ? (y.find(".punctuation").addClass("disabled"),
                y.find(".numbers").addClass("disabled"))
              : "custom" === s.default.mode &&
                (y.find(".punctuation").removeClass("disabled"),
                y.find(".numbers").removeClass("disabled"));
        }
        function w() {
          (0, g.isPopupVisible)(v) &&
            $("#mobileTestConfigPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#mobileTestConfigPopupWrapper").addClass("hidden"),
                    m.remove(v);
                }
              );
        }
        $("#mobileTestConfigPopupWrapper").on("click", (e) => {
          "mobileTestConfigPopupWrapper" === $(e.target).attr("id") && w();
        }),
          $("#mobileTestConfig").on("click", () => {
            m.append(v),
              (0, g.isPopupVisible)(v) ||
                (b(),
                $("#mobileTestConfigPopupWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: 1,
                    },
                    125
                  ));
          }),
          y.find(".wordsGroup button").on("click", (e) => {
            const t = $(e.currentTarget).attr("data-words");
            if ("custom" === t) w(), d.show();
            else if (void 0 !== t) {
              const e = parseInt(t);
              u.setWordCount(e), l.set(), r.restart();
            }
          }),
          y.find(".timeGroup button").on("click", (e) => {
            const t = $(e.currentTarget).attr("data-time");
            if ("custom" === t) w(), c.show();
            else if (void 0 !== t) {
              const e = parseInt(t);
              u.setTimeConfig(e), l.set(), r.restart();
            }
          }),
          y.find(".quoteGroup button").on("click", (e) => {
            var t;
            let o = parseInt(
              null !== (t = $(e.currentTarget).attr("data-quoteLength")) &&
                void 0 !== t
                ? t
                : "0",
              10
            );
            -2 === o
              ? (w(), p.show())
              : (-1 === o && (o = [0, 1, 2, 3]),
                u.setQuoteLength(o, !1, e.shiftKey),
                l.set(),
                r.restart());
          }),
          y.find(".customChange").on("click", () => {
            w(), f.show();
          }),
          y.find(".punctuation").on("click", () => {
            u.setPunctuation(!s.default.punctuation), l.set(), r.restart();
          }),
          y.find(".numbers").on("click", () => {
            u.setNumbers(!s.default.numbers), l.set(), r.restart();
          }),
          y.find(".modeGroup button").on("click", (e) => {
            if ($(e.currentTarget).hasClass("active")) return;
            const t = $(e.currentTarget).attr("data-mode");
            u.setMode(t), l.set(), r.restart();
          }),
          $("#mobileTestConfigPopupWrapper button").on("click", () => {
            b();
          }),
          h.subscribe((e) => {
            "mode" === e && b();
          }),
          m.save(v);
      },
      2710: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.showNewResultFilterPresetPopup = void 0);
        const r = o(3388),
          s = a(o(590)),
          u = "newResultFilterPresetPopupWrapper";
        let l = null;
        function d() {
          (0, r.isPopupVisible)(u) &&
            $("#newResultFilterPresetPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#newResultFilterPresetPopupWrapper").addClass("hidden"),
                    s.remove(u);
                }
              );
        }
        function c() {
          const e = $("#newResultFilterPresetPopup input").val();
          l && l(e), d();
        }
        $("#newResultFilterPresetPopupWrapper").on("click", (e) => {
          "newResultFilterPresetPopupWrapper" === $(e.target).attr("id") && d();
        }),
          $("#newResultFilterPresetPopupWrapper input").on("keypress", (e) => {
            "Enter" === e.key && c();
          }),
          $("#newResultFilterPresetPopupWrapper .button").on("click", () => {
            c();
          }),
          (t.showNewResultFilterPresetPopup = function (e) {
            (l = e),
              s.append(u),
              (0, r.isPopupVisible)(u) ||
                $("#newResultFilterPresetPopupWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: 1,
                    },
                    125,
                    () => {
                      $("#newResultFilterPresetPopup input")
                        .trigger("focus")
                        .trigger("select");
                    }
                  );
          }),
          $(document).on("keydown", (e) => {
            "Escape" === e.key &&
              (0, r.isPopupVisible)(u) &&
              (d(), e.preventDefault());
          }),
          s.save(u);
      },
      6327: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const s = a(o(6350)),
          u = r(o(9546)),
          l = a(o(590)),
          d = o(3388),
          c = "pbTablesPopupWrapper";
        function p(e) {
          l.append(c),
            (0, d.isPopupVisible)(c) ||
              ((function (e) {
                var t;
                $("#pbTablesPopup table tbody").empty(),
                  $($("#pbTablesPopup table thead tr td")[0]).text(e);
                const o = s.getSnapshot();
                if (!o) return;
                const n =
                  null === (t = o.personalBests) || void 0 === t
                    ? void 0
                    : t[e];
                if (void 0 === n) return;
                const i = [];
                let a;
                Object.keys(n).forEach(function (e) {
                  var t;
                  let o = null !== (t = n[e]) && void 0 !== t ? t : [];
                  (o = o.sort(function (e, t) {
                    return t.wpm - e.wpm;
                  })),
                    o.forEach(function (t) {
                      (t.mode2 = e), i.push(t);
                    });
                }),
                  i.forEach((e) => {
                    let t = '-<br><span class="sub">-</span>';
                    const o = new Date(e.timestamp);
                    e.timestamp &&
                      (t =
                        (0, u.default)(o, "dd MMM yyyy") +
                        "<br><div class='sub'>" +
                        (0, u.default)(o, "HH:mm") +
                        "</div>"),
                      $("#pbTablesPopup table tbody").append(
                        `\n      <tr>\n        <td>${
                          a === e.mode2 ? "" : e.mode2
                        }</td>\n        <td>\n          ${e.wpm.toFixed(
                          2
                        )}\n          <br />\n          <span class="sub">${
                          e.acc ? e.acc + "%" : "-"
                        }</span>\n        </td>\n        <td>\n          ${
                          e.raw ? e.raw : "-"
                        }\n          <br />\n          <span class="sub">${
                          e.consistency ? e.consistency + "%" : "-"
                        }</span>\n        </td>\n        <td>${
                          e.difficulty
                        }</td>\n        <td>${
                          e.language ? e.language.replace(/_/g, " ") : "-"
                        }</td>\n        <td>${
                          e.punctuation ? '<i class="fas fa-check"></i>' : ""
                        }</td>\n        <td>${
                          e.lazyMode ? '<i class="fas fa-check"></i>' : ""
                        }</td>\n        <td>${t}</td>\n      </tr>\n    `
                      ),
                      (a = e.mode2);
                  });
              })(e),
              $("#pbTablesPopup .title").text(`All ${e} personal bests`),
              $("#pbTablesPopupWrapper")
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate(
                  {
                    opacity: 1,
                  },
                  125
                ));
        }
        function f() {
          (0, d.isPopupVisible)(c) &&
            $("#pbTablesPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#pbTablesPopupWrapper").addClass("hidden"),
                    $("#pbTablesPopup table tbody").empty(),
                    l.remove(c);
                }
              );
        }
        $("#pbTablesPopupWrapper").on("click", (e) => {
          "pbTablesPopupWrapper" === $(e.target).attr("id") && f();
        }),
          $(".pageAccount .profile").on(
            "click",
            ".pbsTime .showAllButton",
            () => {
              p("time");
            }
          ),
          $(".pageAccount .profile").on(
            "click",
            ".pbsWords .showAllButton",
            () => {
              p("words");
            }
          ),
          $(document).on("keydown", (e) => {
            "Escape" === e.key &&
              (0, d.isPopupVisible)(c) &&
              (f(), e.preventDefault());
          }),
          l.save(c);
      },
      4571: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0);
        const u = s(o(7355)),
          l = a(o(9817)),
          d = a(o(3368)),
          c = s(o(9546)),
          p = a(o(590)),
          f = o(3388),
          h = "quoteApprovePopupWrapper";
        let m = [];
        function g() {
          $("#quoteApprovePopupWrapper .quotes").empty(),
            m.forEach((e, t) => {
              const o = $(
                `\n      <div class="quote" id="${t}" dbid="${
                  e._id
                }">\n        <textarea class="text">${
                  e.text
                }</textarea>\n        <input type="text" class="source" placeholder="Source" value="${
                  e.source
                }">\n        <div class="buttons">\n          <div class="textButton disabled undo" aria-label="Undo changes" data-balloon-pos="left"><i class="fas fa-fw fa-undo-alt"></i></div>\n          <div class="textButton refuse" aria-label="Refuse quote" data-balloon-pos="left"><i class="fas fa-fw fa-times"></i></div>\n          <div class="textButton approve" aria-label="Approve quote" data-balloon-pos="left"><i class="fas fa-fw fa-check"></i></div>\n          <div class="textButton edit hidden" aria-label="Edit and approve quote" data-balloon-pos="left"><i class="fas fa-fw fa-pen"></i></div>\n        </div>\n        <div class="bottom">\n          <div class="length ${
                  e.text.length < 60 ? "red" : ""
                }">Quote length: ${
                  e.text.length
                }</div>\n          <div class="language">Language: ${
                  e.language
                }</div>\n          <div class="timestamp">Submitted on: ${(0,
                c.default)(
                  new Date(e.timestamp),
                  "dd MMM yyyy HH:mm"
                )}</div>\n        </div>\n      </div>\n    `
              );
              $("#quoteApprovePopupWrapper .quotes").append(o);
            });
        }
        function v(e) {
          var t;
          const o =
            null ===
              (t = $(`#quoteApprovePopup .quote[id=${e}] .text`).val()) ||
            void 0 === t
              ? void 0
              : t.length;
          $(`#quoteApprovePopup .quote[id=${e}] .length`).text(
            "Quote length: " + o
          ),
            o < 60
              ? $(`#quoteApprovePopup .quote[id=${e}] .length`).addClass("red")
              : $(`#quoteApprovePopup .quote[id=${e}] .length`).removeClass(
                  "red"
                );
        }
        function y() {
          var e;
          return r(this, void 0, void 0, function* () {
            l.show();
            const t = yield u.default.quotes.get();
            if ((l.hide(), 200 !== t.status))
              return d.add("Failed to get new quotes: " + t.message, -1);
            (m = null !== (e = t.data) && void 0 !== e ? e : []), g();
          });
        }
        function b(e) {
          $(e).closest(".quote").find(".textButton").removeClass("disabled"),
            $(e).closest(".quote").find(".edit").hasClass("hidden") &&
              $(e).closest(".quote").find(".undo").addClass("disabled");
        }
        (t.show = function (e = !1) {
          return r(this, void 0, void 0, function* () {
            p.append(h),
              (0, f.isPopupVisible)(h) ||
                ((m = []),
                y(),
                $("#quoteApprovePopupWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: 1,
                    },
                    e ? 0 : 125
                  ));
          });
        }),
          $("#quoteApprovePopupWrapper").on("mousedown", (e) => {
            "quoteApprovePopupWrapper" === $(e.target).attr("id") &&
              (0, f.isPopupVisible)(h) &&
              $("#quoteApprovePopupWrapper")
                .stop(!0, !0)
                .css("opacity", 1)
                .animate(
                  {
                    opacity: 0,
                  },
                  125,
                  () => {
                    $("#quoteApprovePopupWrapper").addClass("hidden"),
                      $("#quoteApprovePopupWrapper .quotes").empty(),
                      p.remove(h);
                  }
                );
          }),
          $("#quoteApprovePopupWrapper .button.refreshList").on("click", () => {
            $("#quoteApprovePopupWrapper .quotes").empty(), y();
          }),
          $("#popups").on("click", "#quoteApprovePopup .quote .undo", (e) =>
            r(void 0, void 0, void 0, function* () {
              var t, o, n, i;
              const a = parseInt($(e.target).closest(".quote").attr("id"));
              $(`#quoteApprovePopup .quote[id=${a}] .text`).val(
                null !==
                  (o = null === (t = m[a]) || void 0 === t ? void 0 : t.text) &&
                  void 0 !== o
                  ? o
                  : ""
              ),
                $(`#quoteApprovePopup .quote[id=${a}] .source`).val(
                  null !==
                    (i =
                      null === (n = m[a]) || void 0 === n
                        ? void 0
                        : n.source) && void 0 !== i
                    ? i
                    : ""
                ),
                $(`#quoteApprovePopup .quote[id=${a}] .undo`).addClass(
                  "disabled"
                ),
                $(`#quoteApprovePopup .quote[id=${a}] .approve`).removeClass(
                  "hidden"
                ),
                $(`#quoteApprovePopup .quote[id=${a}] .edit`).addClass(
                  "hidden"
                ),
                v(a);
            })
          ),
          $("#popups").on("click", "#quoteApprovePopup .quote .approve", (e) =>
            r(void 0, void 0, void 0, function* () {
              var t;
              if (!confirm("Are you sure?")) return;
              const o = parseInt($(e.target).closest(".quote").attr("id")),
                n = $(e.target).closest(".quote").attr("dbid"),
                i = e.target;
              $(i).closest(".quote").find(".textButton").addClass("disabled"),
                $(i)
                  .closest(".quote")
                  .find("textarea, input")
                  .prop("disabled", !0),
                l.show();
              const a = yield u.default.quotes.approveSubmission(n);
              if ((l.hide(), 200 !== a.status))
                return (
                  b(i),
                  $(i)
                    .closest(".quote")
                    .find("textarea, input")
                    .prop("disabled", !1),
                  d.add("Failed to approve quote: " + a.message, -1)
                );
              d.add(
                null !== (t = "Quote approved. " + a.message) && void 0 !== t
                  ? t
                  : "",
                1
              ),
                m.splice(o, 1),
                g();
            })
          ),
          $("#popups").on("click", "#quoteApprovePopup .quote .refuse", (e) =>
            r(void 0, void 0, void 0, function* () {
              if (!confirm("Are you sure?")) return;
              const t = parseInt($(e.target).closest(".quote").attr("id")),
                o = $(e.target).closest(".quote").attr("dbid"),
                n = e.target;
              $(n).closest(".quote").find(".textButton").addClass("disabled"),
                $(n)
                  .closest(".quote")
                  .find("textarea, input")
                  .prop("disabled", !0),
                l.show();
              const i = yield u.default.quotes.rejectSubmission(o);
              if ((l.hide(), 200 !== i.status))
                return (
                  b(n),
                  $(n)
                    .closest(".quote")
                    .find("textarea, input")
                    .prop("disabled", !1),
                  d.add("Failed to refuse quote: " + i.message, -1)
                );
              d.add("Quote refused.", 1), m.splice(t, 1), g();
            })
          ),
          $("#popups").on("click", "#quoteApprovePopup .quote .edit", (e) =>
            r(void 0, void 0, void 0, function* () {
              var t;
              if (!confirm("Are you sure?")) return;
              const o = parseInt($(e.target).closest(".quote").attr("id")),
                n = $(e.target).closest(".quote").attr("dbid"),
                i = $(`#quoteApprovePopup .quote[id=${o}] .text`).val(),
                a = $(`#quoteApprovePopup .quote[id=${o}] .source`).val(),
                r = e.target;
              $(r).closest(".quote").find(".textButton").addClass("disabled"),
                $(r)
                  .closest(".quote")
                  .find("textarea, input")
                  .prop("disabled", !0),
                l.show();
              const s = yield u.default.quotes.approveSubmission(n, i, a);
              if ((l.hide(), 200 !== s.status))
                return (
                  b(r),
                  $(r)
                    .closest(".quote")
                    .find("textarea, input")
                    .prop("disabled", !1),
                  d.add("Failed to approve quote: " + s.message, -1)
                );
              d.add(
                null !== (t = "Quote edited and approved. " + s.message) &&
                  void 0 !== t
                  ? t
                  : "",
                1
              ),
                m.splice(o, 1),
                g();
            })
          ),
          $(document).on("input", "#quoteApprovePopup .quote .text", (e) =>
            r(void 0, void 0, void 0, function* () {
              const t = parseInt($(e.target).closest(".quote").attr("id"));
              $(`#quoteApprovePopup .quote[id=${t}] .undo`).removeClass(
                "disabled"
              ),
                $(`#quoteApprovePopup .quote[id=${t}] .approve`).addClass(
                  "hidden"
                ),
                $(`#quoteApprovePopup .quote[id=${t}] .edit`).removeClass(
                  "hidden"
                ),
                v(t);
            })
          ),
          $(document).on("input", "#quoteApprovePopup .quote .source", (e) =>
            r(void 0, void 0, void 0, function* () {
              const t = parseInt($(e.target).closest(".quote").attr("id"));
              $(`#quoteApprovePopup .quote[id=${t}] .undo`).removeClass(
                "disabled"
              ),
                $(`#quoteApprovePopup .quote[id=${t}] .approve`).addClass(
                  "hidden"
                ),
                $(`#quoteApprovePopup .quote[id=${t}] .edit`).removeClass(
                  "hidden"
                );
            })
          ),
          p.save(h);
      },
      8182: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.clearQuoteStats = t.getQuoteStats = void 0);
        const u = s(o(7355)),
          l = a(o(6350)),
          d = a(o(9470)),
          c = a(o(9817)),
          p = a(o(3368)),
          f = a(o(590)),
          h = o(3388),
          m = "quoteRatePopupWrapper";
        let g = 0,
          v = null,
          y = null;
        function b(e) {
          return e.totalRating && e.ratings
            ? Math.round((e.totalRating / e.ratings) * 10) / 10
            : 0;
        }
        function w(e) {
          return r(this, void 0, void 0, function* () {
            if (!e) return;
            y = e;
            const t = yield u.default.quotes.getRating(y);
            if ((c.hide(), 200 === t.status))
              return t.data
                ? ((v = t.data), v && !v.average && (v.average = b(v)), v)
                : {};
            p.add("Failed to get quote ratings: " + t.message, -1);
          });
        }
        function _(e) {
          const t = e || g;
          $("#quoteRatePopup .star").removeClass("active");
          for (let e = 1; e <= t; e++)
            $(`#quoteRatePopup .star[rating=${e}]`).addClass("active");
        }
        function C(e, t = !0) {
          var o, n;
          if ((f.append(m), !(0, h.isPopupVisible)(m))) {
            t &&
              ($("#quoteRatePopup .quote .text").text("-"),
              $("#quoteRatePopup .quote .source .val").text("-"),
              $("#quoteRatePopup .quote .id .val").text("-"),
              $("#quoteRatePopup .quote .length .val").text("-"),
              $("#quoteRatePopup .ratingCount .val").text("-"),
              $("#quoteRatePopup .ratingAverage .val").text("-")),
              (y = e),
              (g = 0);
            const i = l.getSnapshot(),
              a =
                null ===
                  (n =
                    null === (o = null == i ? void 0 : i.quoteRatings) ||
                    void 0 === o
                      ? void 0
                      : o[y.language]) || void 0 === n
                  ? void 0
                  : n[y.id];
            a && (g = a),
              _(),
              (function () {
                if (!y) return;
                let e;
                0 === y.group
                  ? (e = "short")
                  : 1 === y.group
                  ? (e = "medium")
                  : 2 === y.group
                  ? (e = "long")
                  : 3 === y.group && (e = "thicc"),
                  $("#quoteRatePopup .quote .text").text(y.text),
                  $("#quoteRatePopup .quote .source .val").text(y.source),
                  $("#quoteRatePopup .quote .id .val").text(y.id),
                  $("#quoteRatePopup .quote .length .val").text(e),
                  (function () {
                    var e, t, o;
                    r(this, void 0, void 0, function* () {
                      v || (yield w()),
                        $("#quoteRatePopup .ratingCount .val").text(
                          null !== (e = null == v ? void 0 : v.ratings) &&
                            void 0 !== e
                            ? e
                            : "0"
                        ),
                        $("#quoteRatePopup .ratingAverage .val").text(
                          null !==
                            (o =
                              null === (t = null == v ? void 0 : v.average) ||
                              void 0 === t
                                ? void 0
                                : t.toFixed(1)) && void 0 !== o
                            ? o
                            : "-"
                        );
                    });
                  })();
              })(),
              $("#quoteRatePopupWrapper")
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate(
                  {
                    opacity: 1,
                  },
                  125
                );
          }
        }
        function S() {
          (0, h.isPopupVisible)(m) &&
            $("#quoteRatePopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#quoteRatePopupWrapper").addClass("hidden"), f.remove(m);
                }
              );
        }
        (t.getQuoteStats = w),
          (t.clearQuoteStats = function () {
            v = null;
          }),
          $("#quoteRatePopupWrapper").on("click", (e) => {
            "quoteRatePopupWrapper" === $(e.target).attr("id") && S();
          }),
          $("#quoteRatePopupWrapper .stars .star").on(
            "mouseenter mouseleave",
            (e) => {
              _(parseInt($(e.currentTarget).attr("rating")));
            }
          ),
          $("#quoteRatePopupWrapper .stars .star").on("click", (e) => {
            const t = parseInt($(e.currentTarget).attr("rating"));
            g = t;
          }),
          $("#quoteRatePopupWrapper .stars .star").on("mouseout", () => {
            $("#quoteRatePopup .star").removeClass("active"), _();
          }),
          $("#quoteRatePopupWrapper .submitButton").on("click", () => {
            !(function () {
              var e, t, o, n;
              r(this, void 0, void 0, function* () {
                if (0 === g) return p.add("Please select a rating");
                if (!y) return;
                S();
                const i = yield u.default.quotes.addRating(y, g);
                if ((c.hide(), 200 !== i.status))
                  return p.add(
                    "Failed to submit quote rating: " + i.message,
                    -1
                  );
                const a = l.getSnapshot();
                if (!a) return;
                const r =
                    null !== (e = a.quoteRatings) && void 0 !== e ? e : {},
                  s =
                    null !== (t = null == r ? void 0 : r[y.language]) &&
                    void 0 !== t
                      ? t
                      : {};
                if (null == s ? void 0 : s[y.id]) {
                  const e =
                      null === (o = r[y.language]) || void 0 === o
                        ? void 0
                        : o[y.id],
                    t = g - e;
                  (s[y.id] = g),
                    (v = {
                      ratings: null == v ? void 0 : v.ratings,
                      totalRating: isNaN(null == v ? void 0 : v.totalRating)
                        ? 0
                        : (null == v ? void 0 : v.totalRating) + t,
                      quoteId: y.id,
                      language: y.language,
                    }),
                    p.add("Rating updated", 1);
                } else
                  (s[y.id] = g),
                    (null == v ? void 0 : v.ratings) && v.totalRating
                      ? (v.ratings++, (v.totalRating += g))
                      : (v = {
                          ratings: 1,
                          totalRating: g,
                          quoteId: y.id,
                          language: y.language,
                        }),
                    p.add("Rating submitted", 1);
                (a.quoteRatings = r),
                  l.setSnapshot(a),
                  (v.average = b(v)),
                  $(".pageTest #result #rateQuoteButton .rating").text(
                    null === (n = v.average) || void 0 === n
                      ? void 0
                      : n.toFixed(1)
                  ),
                  $(".pageTest #result #rateQuoteButton .icon").removeClass(
                    "far"
                  ),
                  $(".pageTest #result #rateQuoteButton .icon").addClass("fas");
              });
            })();
          }),
          $(".pageTest #rateQuoteButton").on("click", () =>
            r(void 0, void 0, void 0, function* () {
              null !== d.randomQuote
                ? C(d.randomQuote)
                : p.add("Failed to show quote rating popup: no quote", -1);
            })
          ),
          f.save(m);
      },
      5898: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0);
        const u = s(o(7355)),
          l = s(o(6705)),
          d = a(o(9470)),
          c = a(o(9817)),
          p = a(o(3368)),
          f = s(o(6750)),
          h = a(o(6953)),
          m = a(o(590)),
          g = o(3388),
          v = "quoteReportPopupWrapper",
          y = {
            previousPopupShowCallback: void 0,
            quoteToReport: void 0,
          },
          b = {
            quoteId: -1,
            previousPopupShowCallback: () => {},
            noAnim: !1,
          };
        function w(e = b) {
          var t;
          return r(this, void 0, void 0, function* () {
            if ((m.append(v), !(0, g.isPopupVisible)(v))) {
              h.render(
                document.querySelector("#quoteReportPopup .g-recaptcha"),
                "quoteReportPopup"
              );
              const { quoteId: o, previousPopupShowCallback: n, noAnim: i } = e;
              y.previousPopupShowCallback = n;
              const a =
                  "swiss_german" === l.default.language
                    ? "german"
                    : l.default.language,
                { quotes: r } = yield f.default.getQuotes(a);
              (y.quoteToReport = r.find((e) => e.id === o)),
                $("#quoteReportPopup .quote").text(
                  null === (t = y.quoteToReport) || void 0 === t
                    ? void 0
                    : t.text
                ),
                $("#quoteReportPopup .reason").val("Grammatical error"),
                $("#quoteReportPopup .comment").val(""),
                $("#quoteReportPopup .characterCount").text("-"),
                $("#quoteReportPopup .reason").select2({
                  minimumResultsForSearch: 1 / 0,
                }),
                $("#quoteReportPopupWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: 1,
                    },
                    i ? 0 : 125,
                    () => {
                      $("#quoteReportPopup textarea")
                        .trigger("focus")
                        .trigger("select");
                    }
                  );
            }
          });
        }
        function _() {
          return r(this, void 0, void 0, function* () {
            if ((0, g.isPopupVisible)(v)) {
              const e = !!y.previousPopupShowCallback;
              $("#quoteReportPopupWrapper")
                .stop(!0, !0)
                .css("opacity", 1)
                .animate(
                  {
                    opacity: 0,
                  },
                  e ? 0 : 125,
                  () => {
                    h.reset("quoteReportPopup"),
                      $("#quoteReportPopupWrapper").addClass("hidden"),
                      y.previousPopupShowCallback &&
                        y.previousPopupShowCallback(),
                      m.remove(v);
                  }
                );
            }
          });
        }
        (t.show = w),
          $("#quoteReportPopupWrapper").on("mousedown", (e) => {
            "quoteReportPopupWrapper" === $(e.target).attr("id") && _();
          }),
          $("#quoteReportPopupWrapper .comment").on("input", () => {
            setTimeout(() => {
              const e = $("#quoteReportPopup .comment").val().length;
              $("#quoteReportPopup .characterCount").text(e),
                e > 250
                  ? $("#quoteReportPopup .characterCount").addClass("red")
                  : $("#quoteReportPopup .characterCount").removeClass("red");
            }, 1);
          }),
          $("#quoteReportPopupWrapper .submit").on("click", () =>
            r(void 0, void 0, void 0, function* () {
              yield (function () {
                var e;
                return r(this, void 0, void 0, function* () {
                  const t = h.getResponse("quoteReportPopup");
                  if (!t) return p.add("Please complete the captcha");
                  const o =
                      null === (e = y.quoteToReport) || void 0 === e
                        ? void 0
                        : e.id.toString(),
                    n = l.default.language.replace(/_\d*k$/g, ""),
                    i = $("#quoteReportPopup .reason").val(),
                    a = $("#quoteReportPopup .comment").val(),
                    r = t;
                  if (!o) return p.add("Please select a quote");
                  if (!i) return p.add("Please select a valid report reason");
                  if (!a) return p.add("Please provide a comment");
                  const s = a.length - 250;
                  if (s > 0)
                    return p.add(
                      `Report comment is ${s} character(s) too long`
                    );
                  c.show();
                  const d = yield u.default.quotes.report(o, n, i, a, r);
                  if ((c.hide(), 200 !== d.status))
                    return p.add("Failed to report quote: " + d.message, -1);
                  p.add("Report submitted. Thank you!", 1), _();
                });
              })();
            })
          ),
          $(".pageTest #reportQuoteButton").on("click", () =>
            r(void 0, void 0, void 0, function* () {
              var e;
              null !== d.randomQuote
                ? w({
                    quoteId:
                      null === (e = d.randomQuote) || void 0 === e
                        ? void 0
                        : e.id,
                    noAnim: !1,
                  })
                : p.add("Failed to show quote report popup: no quote", -1);
            })
          ),
          m.save(v);
      },
      2338: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.apply = t.show = t.setSelectedId = t.selectedId = void 0);
        const u = a(o(8673)),
          l = a(o(6705)),
          d = l,
          c = a(o(6350)),
          p = a(o(2203)),
          f = a(o(3368)),
          h = a(o(9753)),
          m = a(o(4571)),
          g = a(o(5898)),
          v = o(6690),
          y = o(6037),
          b = s(o(6750)),
          w = o(6617),
          _ = o(2189),
          C = s(o(7355)),
          S = a(o(9817)),
          x = a(o(590)),
          P = o(3388),
          k = "quoteSearchPopupWrapper";
        (t.selectedId = 1),
          (t.setSelectedId = function (e) {
            t.selectedId = e;
          });
        const T = {};
        let O = 1;
        function M(e, t) {
          return 0 === t.length
            ? e
            : (0, y.splitByAndKeep)(e, '.,"/#!$%^&*;:{}=-_`~() '.split(""))
                .map((e) =>
                  t.find((t) => e.startsWith(t))
                    ? `<span class="highlight">${e}</span>`
                    : e
                )
                .join("");
        }
        function A(e) {
          return r(this, void 0, void 0, function* () {
            const { quotes: t } = yield b.default.getQuotes(l.default.language),
              o = (function (e, t, o) {
                if (e in T) return T[e];
                const n = (0, v.buildSearchService)(
                  t,
                  (e) => `${e.text} ${e.id} ${e.source}`
                );
                return (T[e] = n), n;
              })(l.default.language, t),
              { results: n, matchedQueryTerms: i } = o.query(e),
              a = (function (e) {
                const t = $("#quoteSearchPopup .quoteLengthFilter").val();
                if (0 === t.length) return e;
                const o = t.map((e) => parseInt(e, 10));
                return e.filter((e) => o.includes(e.group));
              })(
                (function (e) {
                  const t = document
                    .querySelector("#toggleShowFavorites")
                    .classList.contains("active");
                  return e.filter((e) => !t || b.default.isQuoteFavorite(e));
                })("" === e ? t : n)
              ),
              r = $("#quoteSearchResults");
            r.empty();
            const s = Math.ceil(a.length / 100);
            if (
              ($("#quoteSearchPageNavigator .nextPage").toggleClass(
                "disabled",
                O >= s
              ),
              $("#quoteSearchPageNavigator .prevPage").toggleClass(
                "disabled",
                O <= 1
              ),
              0 === a.length)
            )
              return void $("#pageInfo").html("No search results");
            const u = 100 * (O - 1),
              d = Math.min(100 * O, a.length);
            $("#pageInfo").html(`${u + 1} - ${d} of ${a.length}`),
              a.slice(u, d).forEach((e) => {
                const t = (function (e, t) {
                  let o;
                  o =
                    e.length < 101
                      ? "short"
                      : e.length < 301
                      ? "medium"
                      : e.length < 601
                      ? "long"
                      : "thicc";
                  const n = !(null === w.Auth || void 0 === w.Auth
                      ? void 0
                      : w.Auth.currentUser),
                    i = !n && b.default.isQuoteFavorite(e);
                  return `\n  <div class="searchResult" id="${
                    e.id
                  }">\n\n    <div class="text">\n      ${M(
                    e.text,
                    t
                  )}\n    </div>\n\n    <div class="id">\n      <div class="sub">id</div>\n      <span class="quote-id">\n        ${M(
                    e.id.toString(),
                    t
                  )}\n      </span>\n    </div>\n\n    <div class="length">\n      <div class="sub">length</div>\n      ${o}\n    </div>\n\n    <div class="source">\n      <div class="sub">source</div>\n      ${M(
                    e.source,
                    t
                  )}\n    </div>\n\n    <div class="textButton report ${
                    n && "hidden"
                  }" aria-label="Report quote" data-balloon-pos="left">\n      <i class="fas fa-flag report"></i>\n    </div>\n\n    <div class="textButton favorite ${
                    n && "hidden"
                  }" aria-label="Favorite quote" data-balloon-pos="left">\n      <i class="${
                    i ? "fas" : "far"
                  } fa-heart favorite"></i>\n    </div>\n\n  </div>\n  `;
                })(e, i);
                r.append(t);
              });
          });
        }
        function j(e = !0) {
          var t;
          return r(this, void 0, void 0, function* () {
            if ((x.append(k), !(0, P.isPopupVisible)(k))) {
              e && $("#quoteSearchPopup input").val("");
              const o = $("#quoteSearchPopup input").val();
              (
                null === w.Auth || void 0 === w.Auth
                  ? void 0
                  : w.Auth.currentUser
              )
                ? ($("#quoteSearchPopup #gotoSubmitQuoteButton").removeClass(
                    "hidden"
                  ),
                  $("#quoteSearchPopup #toggleShowFavorites").removeClass(
                    "hidden"
                  ))
                : ($("#quoteSearchPopup #gotoSubmitQuoteButton").addClass(
                    "hidden"
                  ),
                  $("#quoteSearchPopup #toggleShowFavorites").addClass(
                    "hidden"
                  )),
                (
                  null === (t = c.getSnapshot()) || void 0 === t
                    ? void 0
                    : t.quoteMod
                )
                  ? $("#quoteSearchPopup #goToApproveQuotes").removeClass(
                      "hidden"
                    )
                  : $("#quoteSearchPopup #goToApproveQuotes").addClass(
                      "hidden"
                    ),
                $("#quoteSearchPopup .quoteLengthFilter").select2({
                  placeholder: "Filter by length",
                  maximumSelectionLength: 1 / 0,
                  multiple: !0,
                  width: "100%",
                  data: [
                    {
                      id: 0,
                      text: "short",
                      selected: !1,
                    },
                    {
                      id: 1,
                      text: "medium",
                      selected: !1,
                    },
                    {
                      id: 2,
                      text: "long",
                      selected: !1,
                    },
                    {
                      id: 3,
                      text: "thicc",
                      selected: !1,
                    },
                  ],
                }),
                $("#quoteSearchPopupWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: 1,
                    },
                    125,
                    () => {
                      e &&
                        $("#quoteSearchPopup input")
                          .trigger("focus")
                          .trigger("select"),
                        (O = 1),
                        A(o);
                    }
                  );
            }
          });
        }
        function W(e = !1, t = !0) {
          (0, P.isPopupVisible)(k) &&
            $("#quoteSearchPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                e ? 0 : 125,
                () => {
                  $("#quoteSearchPopupWrapper").addClass("hidden"),
                    t &&
                      (u.focusWords(),
                      $("#quoteSearchPopup .quoteLengthFilter").val([]),
                      $("#quoteSearchPopup .quoteLengthFilter").trigger(
                        "change"
                      ),
                      x.remove(k));
                }
              );
        }
        (t.show = j),
          (t.apply = function (e) {
            let o;
            return (
              isNaN(e) &&
                (e = parseInt(document.getElementById("searchBox").value)),
              null !== e && !isNaN(e) && e >= 0
                ? (d.setQuoteLength(-2, !1),
                  (t.selectedId = e),
                  p.set(),
                  (o = !0))
                : (f.add("Quote ID must be at least 1", 0), (o = !1)),
              W(),
              o
            );
          });
        const L = (0, _.debounce)(250, () => {
          const e = document.getElementById("searchBox").value;
          (O = 1), A(e);
        });
        $("#quoteSearchPopupWrapper .searchBox").on("keyup", (e) => {
          "Escape" !== e.code && L();
        }),
          $("#quoteSearchPopupWrapper .quoteLengthFilter").on("change", L),
          $(
            "#quoteSearchPageNavigator .nextPage, #quoteSearchPageNavigator .prevPage"
          ).on("click", function () {
            const e = document.getElementById("searchBox").value;
            $(this).hasClass("nextPage") ? O++ : O--, A(e);
          }),
          $("#quoteSearchPopupWrapper").on("mousedown", (e) => {
            "quoteSearchPopupWrapper" === $(e.target).attr("id") && W();
          }),
          $("#popups").on(
            "click",
            "#quoteSearchPopup #gotoSubmitQuoteButton",
            () =>
              r(void 0, void 0, void 0, function* () {
                var e, t;
                S.show();
                const o =
                  null !==
                    (t =
                      null ===
                        (e = (yield C.default.quotes.isSubmissionEnabled())
                          .data) || void 0 === e
                        ? void 0
                        : e.isEnabled) &&
                  void 0 !== t &&
                  t;
                S.hide(),
                  o
                    ? (W(), h.show(!0))
                    : f.add(
                        "Quote submission is disabled temporarily due to a large submission queue.",
                        0,
                        {
                          duration: 5,
                        }
                      );
              })
          ),
          $("#popups").on(
            "click",
            "#quoteSearchPopup #goToApproveQuotes",
            () => {
              W(), m.show(!0);
            }
          ),
          $("#popups").on("click", "#quoteSearchPopup .report", (e) =>
            r(void 0, void 0, void 0, function* () {
              const t = e.target.closest(".searchResult").id,
                o = parseInt(t);
              W(!0, !1),
                g.show({
                  quoteId: o,
                  noAnim: !0,
                  previousPopupShowCallback: () => {
                    j(!1);
                  },
                });
            })
          ),
          $("#popups").on(
            "click",
            "#quoteSearchPopup .textButton.favorite",
            (e) =>
              r(void 0, void 0, void 0, function* () {
                var t, o, n;
                const i = l.default.language,
                  a = e.target.closest(".searchResult").id;
                if ("" === i || "" === a)
                  return void f.add("Could not get quote stats!", -1);
                const r = $(
                    `#quoteSearchPopup .searchResult[id=${a}] .textButton.favorite i`
                  ),
                  s = c.getSnapshot();
                if (s) {
                  if (r.hasClass("fas")) {
                    S.show();
                    const e = yield C.default.users.removeQuoteFromFavorites(
                      i,
                      a
                    );
                    if (
                      (S.hide(),
                      f.add(e.message, 200 === e.status ? 1 : -1),
                      200 === e.status)
                    ) {
                      r.removeClass("fas").addClass("far");
                      const e =
                        null === (t = s.favoriteQuotes[i]) || void 0 === t
                          ? void 0
                          : t.indexOf(a);
                      null === (o = s.favoriteQuotes[i]) ||
                        void 0 === o ||
                        o.splice(e, 1);
                    }
                  } else {
                    S.show();
                    const e = yield C.default.users.addQuoteToFavorites(i, a);
                    S.hide(),
                      f.add(e.message, 200 === e.status ? 1 : -1),
                      200 === e.status &&
                        (r.removeClass("far").addClass("fas"),
                        s.favoriteQuotes[i] || (s.favoriteQuotes[i] = []),
                        null === (n = s.favoriteQuotes[i]) ||
                          void 0 === n ||
                          n.push(a));
                  }
                  e.preventDefault();
                }
              })
          ),
          $("#popups").on(
            "click",
            "#quoteSearchPopup #toggleShowFavorites",
            (e) => {
              (null === w.Auth || void 0 === w.Auth
                ? void 0
                : w.Auth.currentUser) &&
                ($(e.target).toggleClass("active"), L());
            }
          ),
          $(".pageTest").on(
            "click",
            "#testConfig .quoteLength .textButton",
            (e) => {
              var t;
              -2 ===
                parseInt(
                  null !== (t = $(e.currentTarget).attr("quoteLength")) &&
                    void 0 !== t
                    ? t
                    : "0"
                ) && j();
            }
          ),
          $(document).on("keydown", (e) => {
            "Escape" === e.key &&
              (0, P.isPopupVisible)(k) &&
              (W(), e.preventDefault());
          }),
          x.save(k);
      },
      9753: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0);
        const u = s(o(7355)),
          l = a(o(9817)),
          d = a(o(3368)),
          c = a(o(6953)),
          p = a(o(3388)),
          f = s(o(6705)),
          h = a(o(590)),
          m = "quoteSubmitPopupWrapper";
        let g = !1;
        function v() {
          return r(this, void 0, void 0, function* () {
            const e = $("#quoteSubmitPopup #submitQuoteText").val(),
              t = $("#quoteSubmitPopup #submitQuoteSource").val(),
              o = $("#quoteSubmitPopup #submitQuoteLanguage").val(),
              n = c.getResponse("submitQuote");
            if (!e || !t || !o) return d.add("Please fill in all fields", 0);
            l.show();
            const i = yield u.default.quotes.submit(e, t, o, n);
            if ((l.hide(), 200 !== i.status))
              return d.add("Failed to submit quote: " + i.message, -1);
            d.add("Quote submitted.", 1),
              $("#quoteSubmitPopup #submitQuoteText").val(""),
              $("#quoteSubmitPopup #submitQuoteSource").val(""),
              $("#quoteSubmitPopup .characterCount").removeClass("red"),
              $("#quoteSubmitPopup .characterCount").text("-"),
              c.reset("submitQuote");
          });
        }
        (t.show = function (e = !1) {
          return r(this, void 0, void 0, function* () {
            h.append(m),
              p.isPopupVisible(m) ||
                (c.render(
                  document.querySelector("#quoteSubmitPopup .g-recaptcha"),
                  "submitQuote"
                ),
                yield (function () {
                  return r(this, void 0, void 0, function* () {
                    if (g) return;
                    const e = yield p.getLanguageGroups();
                    for (const t of e)
                      "swiss_german" !== t.name &&
                        $("#quoteSubmitPopup #submitQuoteLanguage").append(
                          `<option value="${t.name}">${t.name.replace(
                            /_/g,
                            " "
                          )}</option>`
                        );
                    $("#quoteSubmitPopup #submitQuoteLanguage").select2(),
                      (g = !0);
                  });
                })(),
                $("#quoteSubmitPopup #submitQuoteLanguage").val(
                  f.default.language.replace(/_\d*k$/g, "")
                ),
                $("#quoteSubmitPopup #submitQuoteLanguage").trigger("change"),
                $("#quoteSubmitPopup input").val(""),
                $("#quoteSubmitPopupWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: 1,
                    },
                    e ? 0 : 125,
                    () => {
                      $("#quoteSubmitPopup textarea").trigger("focus").select();
                    }
                  ));
          });
        }),
          $("#quoteSubmitPopupWrapper").on("mousedown", (e) => {
            "quoteSubmitPopupWrapper" === $(e.target).attr("id") &&
              p.isPopupVisible(m) &&
              $("#quoteSubmitPopupWrapper")
                .stop(!0, !0)
                .css("opacity", 1)
                .animate(
                  {
                    opacity: 0,
                  },
                  125,
                  () => {
                    $("#quoteSubmitPopupWrapper").addClass("hidden"),
                      c.reset("submitQuote"),
                      h.remove(m);
                  }
                );
          }),
          $("#popups").on(
            "click",
            "#quoteSubmitPopup #submitQuoteButton",
            () => {
              v();
            }
          ),
          $("#quoteSubmitPopupWrapper textarea").on("input", () => {
            setTimeout(() => {
              var e;
              const t =
                null === (e = $("#quoteSubmitPopup textarea").val()) ||
                void 0 === e
                  ? void 0
                  : e.length;
              $("#quoteSubmitPopup .characterCount").text(t),
                t < 60
                  ? $("#quoteSubmitPopup .characterCount").addClass("red")
                  : $("#quoteSubmitPopup .characterCount").removeClass("red");
            }, 1);
          }),
          $("#quoteSubmitPopupWrapper input").on("keydown", (e) => {
            "Enter" === e.key && v();
          }),
          h.save(m);
      },
      7058: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = t.promise = void 0);
        const r = a(o(6953)),
          s = o(3388),
          u = a(o(590)),
          l = "registerCaptchaPopupWrapper";
        let d;
        function c(e = !1) {
          (0, s.isPopupVisible)(l) &&
            (e && d(),
            $("#registerCaptchaPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#registerCaptchaPopupWrapper").addClass("hidden"),
                    u.remove(l);
                }
              ));
        }
        (t.promise = new Promise((e) => {
          d = e;
        })),
          (t.show = function () {
            u.append(l),
              (0, s.isPopupVisible)(l) ||
                ((t.promise = new Promise((e) => {
                  d = e;
                })),
                r.reset("register"),
                r.render(
                  $("#registerCaptchaPopup .g-recaptcha")[0],
                  "register",
                  (e) => {
                    d(e), c();
                  }
                ),
                $("#registerCaptchaPopupWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: 1,
                    },
                    125
                  ));
          }),
          $("#registerCaptchaPopupWrapper").on("click", (e) => {
            "registerCaptchaPopupWrapper" === $(e.target).attr("id") && c(!0);
          }),
          u.save(l);
      },
      3875: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const u = s(o(7355)),
          l = a(o(6350)),
          d = a(o(9817)),
          c = a(o(3368)),
          p = a(o(3285)),
          f = o(3388),
          h = a(o(590)),
          m = "resultEditTagsPanelWrapper",
          g = {
            resultId: void 0,
            tags: void 0,
            source: void 0,
          };
        function v() {
          var e, t;
          p.get()
            ? (h.append(m),
              $("#resultEditTagsPanel .buttons").empty(),
              null ===
                (t =
                  null === (e = l.getSnapshot()) || void 0 === e
                    ? void 0
                    : e.tags) ||
                void 0 === t ||
                t.forEach((e) => {
                  $("#resultEditTagsPanel .buttons").append(
                    `<div class="button tag" tagid="${e._id}">${e.display}</div>`
                  );
                }),
              (0, f.isPopupVisible)(m) ||
                $("#resultEditTagsPanelWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: 1,
                    },
                    125
                  ))
            : c.add("You are offline", 0, {
                duration: 2,
              });
        }
        function y() {
          (0, f.isPopupVisible)(m) &&
            $("#resultEditTagsPanelWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#resultEditTagsPanelWrapper").addClass("hidden"),
                    h.remove(m);
                }
              );
        }
        function b(e) {
          0 !== e.length &&
            $.each($("#resultEditTagsPanel .buttons .button"), (t, o) => {
              var n;
              const i =
                null !== (n = $(o).attr("tagid")) && void 0 !== n ? n : "";
              e.includes(i)
                ? $(o).addClass("active")
                : $(o).removeClass("active");
            });
        }
        $(".pageAccount").on("click", ".group.history #resultEditTags", (e) => {
          var t, o, n;
          if (
            (null !==
              (n =
                null ===
                  (o =
                    null === (t = l.getSnapshot()) || void 0 === t
                      ? void 0
                      : t.tags) || void 0 === o
                  ? void 0
                  : o.length) && void 0 !== n
              ? n
              : 0) > 0
          ) {
            const t = $(e.target).parents("span").attr("resultid"),
              o = $(e.target).parents("span").attr("tags");
            (g.resultId = t),
              (g.tags = o),
              (g.source = "accountPage"),
              b(JSON.parse(o)),
              v();
          } else
            c.add(
              "You haven't created any tags. You can do it in the settings page",
              0,
              {
                duration: 4,
              }
            );
        }),
          $(".pageTest").on("click", ".tags .editTagsButton", () => {
            var e, t, o;
            if (
              null !==
                (o =
                  null ===
                    (t =
                      null === (e = l.getSnapshot()) || void 0 === e
                        ? void 0
                        : e.tags) || void 0 === t
                    ? void 0
                    : t.length) &&
              void 0 !== o &&
              o
            ) {
              const e = $(".pageTest .tags .editTagsButton").attr("result-id"),
                t = $(".pageTest .tags .editTagsButton").attr("active-tag-ids"),
                o = "" === t ? [] : t.split(",");
              (g.resultId = e),
                (g.tags = JSON.stringify(o)),
                (g.source = "resultPage"),
                v(),
                b(o);
            }
          }),
          $("#popups").on(
            "click",
            "#resultEditTagsPanelWrapper .button.tag",
            (e) => {
              $(e.target).toggleClass("active");
            }
          ),
          $("#resultEditTagsPanelWrapper").on("click", (e) => {
            "resultEditTagsPanelWrapper" === $(e.target).attr("id") && y();
          }),
          $("#resultEditTagsPanelWrapper .confirmButton").on("click", () =>
            r(void 0, void 0, void 0, function* () {
              var e, t;
              const o = g.resultId,
                n = [];
              $.each($("#resultEditTagsPanel .buttons .button"), (e, t) => {
                var o;
                const i =
                  null !== (o = $(t).attr("tagid")) && void 0 !== o ? o : "";
                $(t).hasClass("active") && n.push(i);
              });
              const i = JSON.parse(g.tags);
              if ((0, f.areUnsortedArraysEqual)(i, n)) return void y();
              d.show(), y();
              const a = yield u.default.results.updateTags(o, n);
              if ((d.hide(), 200 !== a.status))
                return c.add("Failed to update result tags: " + a.message, -1);
              const r = a.data.tagPbs;
              c.add("Tags updated", 1, {
                duration: 2,
              }),
                null ===
                  (t =
                    null === (e = l.getSnapshot()) || void 0 === e
                      ? void 0
                      : e.results) ||
                  void 0 === t ||
                  t.forEach((e) => {
                    e._id === o && (e.tags = n);
                  });
              const s = [];
              let p;
              n.length > 0 &&
                n.forEach((e) => {
                  var t, o;
                  null ===
                    (o =
                      null === (t = l.getSnapshot()) || void 0 === t
                        ? void 0
                        : t.tags) ||
                    void 0 === o ||
                    o.forEach((t) => {
                      e === t._id && s.push(t.display);
                    });
                }),
                (p = void 0 === n ? "[]" : JSON.stringify(n)),
                $(`.pageAccount #resultEditTags[resultid='${o}']`).attr(
                  "tags",
                  p
                );
              const h = g.source;
              if ("accountPage" === h)
                n.length > 0
                  ? ($(`.pageAccount #resultEditTags[resultid='${o}']`).css(
                      "opacity",
                      1
                    ),
                    $(`.pageAccount #resultEditTags[resultid='${o}']`).attr(
                      "aria-label",
                      s.join(", ")
                    ))
                  : ($(`.pageAccount #resultEditTags[resultid='${o}']`).css(
                      "opacity",
                      0.25
                    ),
                    $(`.pageAccount #resultEditTags[resultid='${o}']`).attr(
                      "aria-label",
                      "no tags"
                    ));
              else if ("resultPage" === h)
                if (0 === n.length)
                  $(".pageTest #result .tags .bottom").html(
                    "<div class='noTags'>no tags</div>"
                  );
                else {
                  $(".pageTest #result .tags .bottom div.noTags").remove();
                  const e = $(".pageTest #result .tags .bottom div[tagid]"),
                    t = [];
                  e.each((e, o) => {
                    const i = $(o).attr("tagid");
                    n.includes(i) ? t.push(i) : $(o).remove();
                  });
                  let o = "";
                  n.forEach((e, n) => {
                    t.includes(e) ||
                      (r.includes(e)
                        ? (o += `<div tagid="${e}" data-balloon-pos="up">${s[n]}<i class="fas fa-crown"></i></div>`)
                        : (o += `<div tagid="${e}">${s[n]}</div>`));
                  }),
                    $(".pageTest #result .tags .bottom").append(o),
                    $(".pageTest #result .tags .top .editTagsButton").attr(
                      "active-tag-ids",
                      n.join(",")
                    );
                }
            })
          ),
          $(document).on("keydown", (e) => {
            "Escape" === e.key &&
              (0, f.isPopupVisible)(m) &&
              (y(), e.preventDefault());
          }),
          h.save(m);
      },
      2828: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0);
        const s = a(o(8248)),
          u = a(o(3368)),
          l = a(o(7717)),
          d = o(5817),
          c = o(2189),
          p = a(o(590)),
          f = o(3388),
          h = "saveCustomTextPopupWrapper",
          m = new d.InputIndicator($("#saveCustomTextPopup .textName"), {
            available: {
              icon: "fa-check",
              level: 1,
            },
            unavailable: {
              icon: "fa-times",
              level: -1,
            },
            loading: {
              icon: "fa-circle-notch",
              spinIcon: !0,
              level: 0,
            },
          });
        let g;
        function v(e = !1) {
          (0, f.isPopupVisible)(h) &&
            $("#saveCustomTextPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                e ? 0 : 125,
                () => {
                  $("#saveCustomTextPopupWrapper").addClass("hidden"),
                    p.remove(h),
                    g && g();
                }
              );
        }
        (t.show = function (e = !1, t) {
          return r(this, void 0, void 0, function* () {
            p.append(h),
              (0, f.isPopupVisible)(h) ||
                ((g = t),
                $("#saveCustomTextPopupWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: 1,
                    },
                    e ? 0 : 125,
                    () => {
                      $("#saveCustomTextPopupWrapper .textName").val(""),
                        $("#saveCustomTextPopupWrapper .isLongText").prop(
                          "checked",
                          !1
                        ),
                        $("#saveCustomTextPopupWrapper .button.save").addClass(
                          "disabled"
                        );
                    }
                  ));
          });
        }),
          $("#popups").on(
            "click",
            "#saveCustomTextPopupWrapper .button.save",
            () => {
              !0 ===
                (function () {
                  const e = $("#saveCustomTextPopupWrapper .textName").val(),
                    t = $("#saveCustomTextPopupWrapper .isLongText").prop(
                      "checked"
                    );
                  let o = s.popupTextareaState.normalize();
                  return e
                    ? 0 === o.length
                      ? (u.add("Custom text can't be empty", 0), !1)
                      : ((o = o.replace(/( *(\r\n|\r|\n) *)/g, "\n ")),
                        s.setCustomText(e, o, t),
                        l.setCustomTextName(e, t),
                        u.add("Custom text saved", 1),
                        !0)
                    : (u.add("Custom text needs a name", 0), !1);
                })() && v(!0);
            }
          ),
          $("#saveCustomTextPopupWrapper").on("mousedown", (e) => {
            "saveCustomTextPopupWrapper" === $(e.target).attr("id") && v(!0);
          });
        const y = (0, c.debounce)(500, function () {
          const e = $("#saveCustomTextPopup .textName").val(),
            t = $("#saveCustomTextPopupWrapper .isLongText").prop("checked");
          e
            ? s.getCustomTextNames(t).includes(e)
              ? (m.show("unavailable"),
                $("#saveCustomTextPopupWrapper .button.save").addClass(
                  "disabled"
                ))
              : (m.show("available"),
                $("#saveCustomTextPopupWrapper .button.save").removeClass(
                  "disabled"
                ))
            : (m.hide(),
              $("#saveCustomTextPopupWrapper .button.save").addClass(
                "disabled"
              ));
        });
        $("#saveCustomTextPopup .textName").on("input", () => {
          $("#saveCustomTextPopup .textName").val().length > 0 &&
            (m.show("loading"), y());
        }),
          $("#saveCustomTextPopupWrapper .isLongText").on("change", () => {
            $("#saveCustomTextPopup .textName").val().length > 0 &&
              (m.show("loading"), y());
          }),
          p.save(h);
      },
      5177: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0);
        const s = a(o(8248)),
          u = a(o(7717)),
          l = a(o(590)),
          d = o(3388),
          c = "savedTextsPopupWrapper";
        let p;
        function f(e = !1, t = !1) {
          (0, d.isPopupVisible)(c) &&
            $("#savedTextsPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                e ? 0 : 125,
                () => {
                  $("#savedTextsPopupWrapper").addClass("hidden"),
                    l.remove(c),
                    p && !t && p();
                }
              );
        }
        function h(e, t) {
          let o = s.getCustomText(e, t);
          t && (o = o.slice(s.getCustomTextLongProgress(e))),
            s.setPopupTextareaState(o.join(" "));
        }
        (t.show = function (e = !1, t) {
          return r(this, void 0, void 0, function* () {
            l.append(c),
              (0, d.isPopupVisible)(c) ||
                ((p = t),
                (function () {
                  const e = s.getCustomTextNames(),
                    t = $("#savedTextsPopup .list").empty();
                  let o = "";
                  if (0 === e.length)
                    o += "<div>No saved custom texts found</div>";
                  else
                    for (const t of e)
                      o += `<div class="savedText">\n      <div class="button name">${(0,
                      d.escapeHTML)(
                        t
                      )}</div>\n      <div class="button delete">\n      <i class="fas fa-fw fa-trash"></i>\n      </div>\n      </div>`;
                  t.html(o);
                  const n = s.getCustomTextNames(!0),
                    i = $("#savedTextsPopup .listLong").empty();
                  let a = "";
                  if (0 === n.length)
                    a += "<div>No saved long custom texts found</div>";
                  else
                    for (const e of n)
                      a += `<div class="savedText">\n      <div class="button name">${(0,
                      d.escapeHTML)(e)}</div>\n      <div class="button ${
                        s.getCustomTextLongProgress(e) <= 0 ? "disabled" : ""
                      } resetProgress">reset</div>\n      <div class="button delete">\n      <i class="fas fa-fw fa-trash"></i>\n      </div>\n      </div>`;
                  i.html(a);
                })(),
                $("#savedTextsPopupWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: 1,
                    },
                    e ? 0 : 125
                  ));
          });
        }),
          $("#popups").on(
            "click",
            "#savedTextsPopupWrapper .list .savedText .button.name",
            (e) => {
              const t = $(e.target).text();
              u.setCustomTextName(t, !1), h(t, !1), f(!0);
            }
          ),
          $("#popups").on(
            "click",
            "#savedTextsPopupWrapper .list .savedText .button.delete",
            () => {
              f(!0, !0);
            }
          ),
          $("#popups").on(
            "click",
            "#savedTextsPopupWrapper .listLong .savedText .button.name",
            (e) => {
              const t = $(e.target).text();
              u.setCustomTextName(t, !0), h(t, !0), f(!0);
            }
          ),
          $("#popups").on(
            "click",
            "#savedTextsPopupWrapper .listLong .savedText .button.resetProgress",
            () => {
              f(!0, !0);
            }
          ),
          $("#popups").on(
            "click",
            "#savedTextsPopupWrapper .listLong .savedText .button.delete",
            () => {
              f(!0, !0);
            }
          ),
          $("#savedTextsPopupWrapper").on("mousedown", (e) => {
            "savedTextsPopupWrapper" === $(e.target).attr("id") && f(!0);
          }),
          l.save(c);
      },
      2994: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const u = s(o(7355)),
          l = a(o(3368)),
          d = a(o(9817)),
          c = a(o(3285)),
          p = a(o(590)),
          f = o(3388),
          h = o(6350),
          m = "streakHourOffsetPopupWrapper";
        function g() {
          const e = $(`#${m} input`).val(),
            t = $(`#${m} .preview`),
            o = new Date();
          o.setUTCHours(0),
            o.setUTCMinutes(0),
            o.setUTCSeconds(0),
            o.setUTCMilliseconds(0);
          const n = new Date();
          n.setUTCHours(0),
            n.setUTCMinutes(0),
            n.setUTCSeconds(0),
            n.setUTCMilliseconds(0),
            n.setHours(n.getHours() - -1 * e),
            t.html(
              `\n  \n  Current local reset time: ${o.toLocaleTimeString()}<br>\n  New local reset time: ${n.toLocaleTimeString()}\n\n  `
            );
        }
        function v() {
          (0, f.isPopupVisible)(m) &&
            $(`#${m}`)
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $(`#${m}`).addClass("hidden"), p.remove(m);
                }
              );
        }
        function y() {
          return r(this, void 0, void 0, function* () {
            const e = parseInt($(`#${m} input`).val());
            if (isNaN(e))
              return void l.add("Streak hour offset must be a number", 0);
            if (e < -11 || e > 12)
              return void l.add(
                "Streak hour offset must be between -11 and 12",
                0
              );
            d.show();
            const t = yield u.default.users.setStreakHourOffset(e);
            if ((d.hide(), 200 !== t.status))
              l.add("Failed to set streak hour offset: " + t.message, -1);
            else {
              l.add("Streak hour offset set", 1);
              const t = (0, h.getSnapshot)();
              (t.streakHourOffset = e), (0, h.setSnapshot)(t), v();
            }
          });
        }
        $(`#${m}`).on("mousedown", (e) => {
          $(e.target).attr("id") === m && v();
        }),
          $(`#${m} .button`).on("click", () => {
            y();
          }),
          $(`#${m} input`).on("keypress", (e) => {
            "Enter" === e.key && y();
          }),
          $(".pageSettings .section.setStreakHourOffset").on(
            "click",
            "#setStreakHourOffset",
            () => {
              var e;
              c.get()
                ? (p.append(m),
                  (0, f.isPopupVisible)(m) ||
                    (void 0 !==
                    (null === (e = (0, h.getSnapshot)()) || void 0 === e
                      ? void 0
                      : e.streakHourOffset)
                      ? ($(`#${m} .text`).html(
                          "You have already set your streak hour offset."
                        ),
                        $(`#${m} input`).remove(),
                        $(`#${m} .preview`).remove(),
                        $(`#${m} .button`).remove())
                      : g(),
                    $(`#${m}`)
                      .stop(!0, !0)
                      .css("opacity", 0)
                      .removeClass("hidden")
                      .animate(
                        {
                          opacity: 1,
                        },
                        125,
                        () => {
                          $(`#${m} input`).trigger("focus");
                        }
                      )))
                : l.add("You are offline", 0, {
                    duration: 2,
                  });
            }
          ),
          $(`#${m} input`).on("input", () => {
            g();
          }),
          p.save(m);
      },
      6192: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0);
        const u = a(o(743)),
          l = s(o(6705)),
          d = a(o(3368)),
          c = a(o(1104)),
          p = a(o(590)),
          f = o(3388),
          h = "shareCustomThemeWrapper";
        function m() {
          p.append(h),
            (0, f.isPopupVisible)(h) ||
              $(`#${h}`)
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate(
                  {
                    opacity: 1,
                  },
                  125,
                  () => {
                    $(`#${h} #shareCustomThemeEdit .url`).trigger("focus");
                  }
                );
        }
        function g() {
          (0, f.isPopupVisible)(h) &&
            $(`#${h}`)
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $(`#${h}`).addClass("hidden"), p.remove(h);
                }
              );
        }
        (t.show = m),
          $("#shareCustomThemeWrapper").on("click", (e) => {
            "shareCustomThemeWrapper" === $(e.target).attr("id") && g();
          }),
          $("#shareCustomThemeWrapper #shareCustomThemeEdit .copy-button").on(
            "click",
            () =>
              r(void 0, void 0, void 0, function* () {
                const e = yield (function () {
                  return r(this, void 0, void 0, function* () {
                    const e = {
                      c: u.colorVars.map((e) =>
                        $(
                          `.pageSettings .customTheme .customThemeEdit #${e}[type='color']`
                        ).attr("value")
                      ),
                    };
                    return (
                      $(
                        "#shareCustomThemeWrapper #shareCustomThemeEdit #includeBackground"
                      ).is(":checked") &&
                        ((e.i = l.default.customBackground),
                        (e.s = l.default.customBackgroundSize),
                        (e.f = l.default.customBackgroundFilter)),
                      "https://monkeytype.com?customTheme=" +
                        btoa(JSON.stringify(e))
                    );
                  });
                })();
                navigator.clipboard.writeText(e).then(
                  function () {
                    d.add("URL Copied to clipboard", 1), g();
                  },
                  function (t) {
                    d.add(
                      (0, f.createErrorMessage)(
                        t,
                        "Failed to copy to clipboard"
                      ),
                      -1
                    ),
                      d.add(
                        "Looks like we couldn't copy the link straight to your clipboard. Please copy it manually.",
                        0,
                        {
                          duration: 5,
                        }
                      ),
                      g(),
                      c.show(e);
                  }
                );
              })
          ),
          $("#shareCustomThemeButton").on("click", () => {
            m();
          }),
          $(document).on("keypress", function (e) {
            "Enter" === e.key &&
              (0, f.isPopupVisible)(h) &&
              $(
                "#shareCustomThemeWrapper #shareCustomThemeEdit .copy-button"
              ).trigger("click");
          }),
          p.save(h);
      },
      4924: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0);
        const u = s(o(6705)),
          l = o(9470),
          d = o(3388),
          c = a(o(8248)),
          p = o(6965),
          f = a(o(590)),
          h = "shareTestSettingsPopupWrapper";
        function m(e) {
          return $(`#shareTestSettingsPopupWrapper label.${e} input`).prop(
            "checked"
          );
        }
        function g() {
          const e = location.origin + "?testSettings=",
            t = [null, null, null, null, null, null, null, null];
          m("mode") && (t[0] = u.default.mode),
            m("mode2") && (t[1] = (0, d.getMode2)(u.default, l.randomQuote)),
            m("customText") &&
              (t[2] = {
                text: c.text,
                isWordRandom: c.isWordRandom,
                isTimeRandom: c.isTimeRandom,
                word: c.word,
                time: c.time,
                delimiter: c.delimiter,
              }),
            m("punctuation") && (t[3] = u.default.punctuation),
            m("numbers") && (t[4] = u.default.numbers),
            m("language") && (t[5] = u.default.language),
            m("difficulty") && (t[6] = u.default.difficulty),
            m("funbox") && (t[7] = u.default.funbox);
          const o = e + (0, p.compressToURI)(JSON.stringify(t));
          $("#shareTestSettingsPopupWrapper textarea.url").val(o),
            o.length > 2e3
              ? $("#shareTestSettingsPopupWrapper .tooLongWarning").removeClass(
                  "hidden"
                )
              : $("#shareTestSettingsPopupWrapper .tooLongWarning").addClass(
                  "hidden"
                );
        }
        function v() {
          m("mode")
            ? $("#shareTestSettingsPopupWrapper .subgroup").removeClass(
                "hidden"
              )
            : $("#shareTestSettingsPopupWrapper .subgroup").addClass("hidden");
        }
        function y() {
          return r(this, void 0, void 0, function* () {
            (0, d.isPopupVisible)(h) &&
              $("#shareTestSettingsPopupWrapper")
                .stop(!0, !0)
                .css("opacity", 1)
                .animate(
                  {
                    opacity: 0,
                  },
                  125,
                  () => {
                    $("#shareTestSettingsPopupWrapper").addClass("hidden"),
                      f.remove(h);
                  }
                );
          });
        }
        (t.show = function () {
          f.append(h),
            (0, d.isPopupVisible)(h) ||
              (g(),
              v(),
              $("#shareTestSettingsPopupWrapper")
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate(
                  {
                    opacity: 1,
                  },
                  125
                ));
        }),
          $("#shareTestSettingsPopupWrapper label input").on("change", () => {
            g(), v();
          }),
          $("#shareTestSettingsPopupWrapper textarea.url").on("click", () => {
            $("#shareTestSettingsPopupWrapper textarea.url").trigger("select");
          }),
          $("#shareTestSettingsPopupWrapper").on("mousedown", (e) => {
            "shareTestSettingsPopupWrapper" === $(e.target).attr("id") && y();
          }),
          $(document).on("keydown", (e) => {
            "Escape" === e.key &&
              (0, d.isPopupVisible)(h) &&
              (y(), e.preventDefault());
          }),
          f.save(h);
      },
      9360: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const u = s(o(7355)),
          l = a(o(4674)),
          d = a(o(6350)),
          c = a(o(6705)),
          p = a(o(9817)),
          f = a(o(3368)),
          h = a(o(8835)),
          m = a(o(6126)),
          g = a(o(4216)),
          v = a(o(8248)),
          y = a(o(5177)),
          b = a(o(5344)),
          w = o(6617),
          _ = a(o(3285)),
          C = o(513),
          S = o(3388),
          x = a(o(7717)),
          P = a(o(590)),
          k = a(o(743)),
          T = "simplePopupWrapper";
        let O = null;
        const M = {
          updateEmail: void 0,
          updateName: void 0,
          updatePassword: void 0,
          removeGoogleAuth: void 0,
          addPasswordAuth: void 0,
          deleteAccount: void 0,
          resetAccount: void 0,
          clearTagPb: void 0,
          optOutOfLeaderboards: void 0,
          applyCustomFont: void 0,
          resetPersonalBests: void 0,
          resetSettings: void 0,
          revokeAllTokens: void 0,
          unlinkDiscord: void 0,
          generateApeKey: void 0,
          viewApeKey: void 0,
          deleteApeKey: void 0,
          editApeKey: void 0,
          deleteCustomText: void 0,
          deleteCustomTextLong: void 0,
          resetProgressCustomTextLong: void 0,
          updateCustomTheme: void 0,
          deleteCustomTheme: void 0,
          forgotPassword: void 0,
        };
        class A {
          constructor(e, t, o, n = [], i = "", a = "Confirm", r, s, u) {
            (this.parameters = []),
              (this.id = e),
              (this.type = t),
              (this.execFn = r),
              (this.title = o),
              (this.inputs = n),
              (this.text = i),
              (this.wrapper = $("#simplePopupWrapper")),
              (this.element = $("#simplePopup")),
              (this.buttonText = a),
              (this.beforeInitFn = (e) => s(e)),
              (this.beforeShowFn = (e) => u(e)),
              (this.canClose = !0),
              (this.noAnimation = !1);
          }
          reset() {
            this.element.html(
              '\n    <form>\n    <div class="title"></div>\n    <div class="inputs"></div>\n    <div class="text"></div>\n    <button type="submit" class="submitButton"></button>\n    </form>'
            );
          }
          init() {
            const e = this.element;
            e.find("input").val(""),
              this.reset(),
              e.attr("popupId", this.id),
              e.find(".title").text(this.title),
              e.find(".text").text(this.text),
              this.initInputs(),
              "" === this.buttonText
                ? e.find(".submitButton").remove()
                : e.find(".submitButton").text(this.buttonText),
              "" === this.text
                ? e.find(".text").addClass("hidden")
                : e.find(".text").removeClass("hidden");
          }
          initInputs() {
            const e = this.element;
            this.inputs.length > 0
              ? ("number" === this.type
                  ? this.inputs.forEach((t) => {
                      e.find(".inputs").append(
                        `\n            <input\n              type="number"\n              min="1"\n              value="${
                          t.initVal
                        }"\n              placeholder="${
                          t.placeholder
                        }"\n              class="${
                          t.hidden ? "hidden" : ""
                        }"\n              ${
                          t.hidden ? "" : "required"
                        }\n              autocomplete="off"\n            >\n          `
                      );
                    })
                  : "text" === this.type &&
                    this.inputs.forEach((t) => {
                      t.type
                        ? "textarea" === t.type
                          ? e
                              .find(".inputs")
                              .append(
                                `\n                <textarea\n                  placeholder="${
                                  t.placeholder
                                }"\n                  class="${
                                  t.hidden ? "hidden" : ""
                                }"\n                  ${
                                  t.hidden ? "" : "required"
                                }\n                  ${
                                  t.disabled ? "disabled" : ""
                                }\n                  autocomplete="off"\n                >${
                                  t.initVal
                                }</textarea>\n              `
                              )
                          : "checkbox" === t.type
                          ? e
                              .find(".inputs")
                              .append(
                                `\n              <label class="checkbox">\n                <input type="checkbox" checked="">\n                <div>${t.label}</div>\n              </label>\n              `
                              )
                          : e
                              .find(".inputs")
                              .append(
                                `\n              <input\n              type="${
                                  t.type
                                }"\n              value="${
                                  t.initVal
                                }"\n              placeholder="${
                                  t.placeholder
                                }"\n              class="${
                                  t.hidden ? "hidden" : ""
                                }"\n              ${
                                  t.hidden ? "" : "required"
                                }\n              ${
                                  t.disabled ? "disabled" : ""
                                }\n              autocomplete="off"\n              >\n              `
                              )
                        : e
                            .find(".inputs")
                            .append(
                              `\n              <input\n                type="text"\n                value="${
                                t.initVal
                              }"\n                placeholder="${
                                t.placeholder
                              }"\n                class="${
                                t.hidden ? "hidden" : ""
                              }"\n                ${
                                t.hidden ? "" : "required"
                              }\n                ${
                                t.disabled ? "disabled" : ""
                              }\n                autocomplete="off"\n              >\n            `
                            );
                    }),
                e.find(".inputs").removeClass("hidden"))
              : e.find(".inputs").addClass("hidden");
          }
          exec() {
            if (!this.canClose) return;
            const e = [];
            $.each($("#simplePopup input"), (t, o) => {
              $(o).is(":checkbox")
                ? e.push($(o).is(":checked") ? "true" : "false")
                : e.push($(o).val());
            });
            const t = [];
            for (let o = 0; o < this.inputs.length; o++)
              t.push(
                Object.assign(Object.assign({}, this.inputs[o]), {
                  currentValue: e[o],
                })
              );
            t
              .filter((e) => !e.hidden)
              .some((e) => void 0 === e.currentValue || "" === e.currentValue)
              ? f.add("Please fill in all fields", 0)
              : (this.disableInputs(),
                p.show(),
                this.execFn(this, ...e).then((e) => {
                  var t;
                  p.hide(),
                    (null === (t = e.showNotification) || void 0 === t || t) &&
                      f.add(e.message, e.status, e.notificationOptions),
                    1 === e.status
                      ? this.hide().then(() => {
                          e.afterHide && e.afterHide();
                        })
                      : (this.enableInputs(),
                        $($("#simplePopup").find("input")[0]).trigger("focus"));
                }));
          }
          disableInputs() {
            $("#simplePopup input").prop("disabled", !0),
              $("#simplePopup button").prop("disabled", !0),
              $("#simplePopup textarea").prop("disabled", !0),
              $("#simplePopup .checkbox").addClass("disabled");
          }
          enableInputs() {
            $("#simplePopup input").prop("disabled", !1),
              $("#simplePopup button").prop("disabled", !1),
              $("#simplePopup textarea").prop("disabled", !1),
              $("#simplePopup .checkbox").removeClass("disabled");
          }
          show(e = [], t = !1) {
            P.append(T),
              (O = this),
              (this.noAnimation = t),
              (this.parameters = e),
              this.beforeInitFn(this),
              this.init(),
              this.beforeShowFn(this),
              this.wrapper
                .stop(!0, !0)
                .css("opacity", 0)
                .removeClass("hidden")
                .animate(
                  {
                    opacity: 1,
                  },
                  t ? 0 : 125,
                  () => {
                    this.inputs.length > 0
                      ? $($("#simplePopup").find("input")[0]).trigger("focus")
                      : $("#simplePopup button").trigger("focus");
                  }
                );
          }
          hide() {
            return r(this, void 0, void 0, function* () {
              return new Promise((e, t) => {
                this.canClose
                  ? ((O = null),
                    this.wrapper
                      .stop(!0, !0)
                      .css("opacity", 1)
                      .removeClass("hidden")
                      .animate(
                        {
                          opacity: 0,
                        },
                        this.noAnimation ? 0 : 125,
                        () => {
                          this.wrapper.addClass("hidden"), P.remove(T), e();
                        }
                      ))
                  : t(new Error("Cannot close popup"));
              });
            });
          }
        }
        function j(e, t) {
          return r(this, void 0, void 0, function* () {
            if (!w.Auth)
              return {
                status: -1,
                message: "Authentication is not initialized",
              };
            const o = w.Auth.currentUser;
            if (!o)
              return {
                status: -1,
                message: "User is not signed in",
              };
            try {
              const n = o.providerData.some(
                (e) => "password" === (null == e ? void 0 : e.providerId)
              );
              if (!n && "passwordOnly" === e)
                return {
                  status: -1,
                  message:
                    "Failed to reauthenticate in password only mode: password authentication is not enabled on this account",
                };
              if (n) {
                const e = C.EmailAuthProvider.credential(o.email, t);
                yield (0, C.reauthenticateWithCredential)(o, e);
              } else "passwordFirst" === e && (yield (0, C.reauthenticateWithPopup)(o, l.gmailProvider));
              return {
                status: 1,
                message: "Reauthenticated",
                user: o,
              };
            } catch (e) {
              const t = e;
              return "auth/wrong-password" === t.code
                ? {
                    status: 0,
                    message: "Incorrect password",
                  }
                : {
                    status: -1,
                    message:
                      "Failed to reauthenticate: " +
                      ((null == t ? void 0 : t.message) || JSON.stringify(e)),
                  };
            }
          });
        }
        function W(e, t = [], o = !1) {
          const n = M[e];
          void 0 !== n
            ? n.show(t, o)
            : f.add("Failed to show popup - popup is not defined", -1);
        }
        $("#simplePopupWrapper").on("mousedown", (e) => {
          if ("simplePopupWrapper" === $(e.target).attr("id")) {
            if (O) return void O.hide();
            $("#simplePopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .removeClass("hidden")
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#simplePopupWrapper").addClass("hidden");
                }
              );
          }
        }),
          $("#popups").on("submit", "#simplePopupWrapper form", (e) => {
            e.preventDefault();
            const t = $("#simplePopup").attr("popupId");
            M[t].exec();
          }),
          (M.updateEmail = new A(
            "updateEmail",
            "text",
            "Update Email",
            [
              {
                placeholder: "Password",
                type: "password",
                initVal: "",
              },
              {
                placeholder: "New email",
                initVal: "",
              },
              {
                placeholder: "Confirm new email",
                initVal: "",
              },
            ],
            "",
            "Update",
            (e, t, o, n) =>
              r(void 0, void 0, void 0, function* () {
                if (o !== n)
                  return {
                    status: 0,
                    message: "Emails don't match",
                  };
                const e = yield j("passwordOnly", t);
                if (1 !== e.status)
                  return {
                    status: e.status,
                    message: e.message,
                  };
                const i = yield u.default.users.updateEmail(o, e.user.email);
                return 200 !== i.status
                  ? {
                      status: -1,
                      message: "Failed to update email: " + i.message,
                    }
                  : (l.signOut(),
                    {
                      status: 1,
                      message: "Email updated",
                    });
              }),
            (e) => {
              const t =
                null === w.Auth || void 0 === w.Auth
                  ? void 0
                  : w.Auth.currentUser;
              t &&
                (t.providerData.find(
                  (e) => "password" === (null == e ? void 0 : e.providerId)
                ) ||
                  ((e.inputs = []),
                  (e.buttonText = ""),
                  (e.text = "Password authentication is not enabled")));
            },
            (e) => {}
          )),
          (M.removeGoogleAuth = new A(
            "removeGoogleAuth",
            "text",
            "Remove Google Authentication",
            [
              {
                placeholder: "Password",
                type: "password",
                initVal: "",
              },
            ],
            "",
            "Remove",
            (e, t) =>
              r(void 0, void 0, void 0, function* () {
                const e = yield j("passwordOnly", t);
                if (1 !== e.status)
                  return {
                    status: e.status,
                    message: e.message,
                  };
                try {
                  yield (0, C.unlink)(e.user, "google.com");
                } catch (e) {
                  return {
                    status: -1,
                    message: (0, S.createErrorMessage)(
                      e,
                      "Failed to unlink Google account"
                    ),
                  };
                }
                return (
                  h.updateAuthSections(),
                  (0, S.reloadAfter)(3),
                  {
                    status: 1,
                    message: "Google authentication removed",
                  }
                );
              }),
            (e) => {
              const t =
                null === w.Auth || void 0 === w.Auth
                  ? void 0
                  : w.Auth.currentUser;
              t &&
                (t.providerData.find(
                  (e) => "password" === (null == e ? void 0 : e.providerId)
                ) ||
                  ((e.inputs = []),
                  (e.buttonText = ""),
                  (e.text = "Password authentication is not enabled")));
            },
            (e) => {}
          )),
          (M.updateName = new A(
            "updateName",
            "text",
            "Update Name",
            [
              {
                placeholder: "Password",
                type: "password",
                initVal: "",
              },
              {
                placeholder: "New name",
                type: "text",
                initVal: "",
              },
            ],
            "",
            "Update",
            (e, t, o) =>
              r(void 0, void 0, void 0, function* () {
                const e = yield j("passwordFirst", t);
                if (1 !== e.status)
                  return {
                    status: e.status,
                    message: e.message,
                  };
                const n = yield u.default.users.getNameAvailability(o);
                if (409 === n.status)
                  return {
                    status: 0,
                    message: "Name not available",
                  };
                if (200 !== n.status)
                  return {
                    status: -1,
                    message: "Failed to check name: " + n.message,
                  };
                const i = yield u.default.users.updateName(o);
                if (200 !== i.status)
                  return {
                    status: -1,
                    message: "Failed to update name: " + i.message,
                  };
                const a = d.getSnapshot();
                return (
                  a &&
                    ((a.name = o),
                    a.needsToChangeName && (0, S.reloadAfter)(2)),
                  $("nav .textButton.account .text").text(o),
                  {
                    status: 1,
                    message: "Name updated",
                  }
                );
              }),
            (e) => {
              const t =
                  null === w.Auth || void 0 === w.Auth
                    ? void 0
                    : w.Auth.currentUser,
                o = d.getSnapshot();
              t &&
                o &&
                (t.providerData.find(
                  (e) => "password" === (null == e ? void 0 : e.providerId)
                ) ||
                  ((e.inputs[0].hidden = !0),
                  (e.buttonText = "Reauthenticate to update")),
                !0 === o.needsToChangeName &&
                  (e.text =
                    "You need to change your account name. This might be because you have a duplicate name, no account name or your name is not allowed (contains whitespace or invalid characters). Sorry for the inconvenience."));
            },
            (e) => {}
          )),
          (M.updatePassword = new A(
            "updatePassword",
            "text",
            "Update Password",
            [
              {
                placeholder: "Password",
                type: "password",
                initVal: "",
              },
              {
                placeholder: "New password",
                type: "password",
                initVal: "",
              },
              {
                placeholder: "Confirm new password",
                type: "password",
                initVal: "",
              },
            ],
            "",
            "Update",
            (e, t, o, n) =>
              r(void 0, void 0, void 0, function* () {
                if (o !== n)
                  return {
                    status: 0,
                    message: "New passwords don't match",
                  };
                if (o === t)
                  return {
                    status: 0,
                    message:
                      "New password must be different from previous password",
                  };
                if (!(0, S.isDevEnvironment)() && !(0, S.isPasswordStrong)(o))
                  return {
                    status: 0,
                    message:
                      "New password must contain at least one capital letter, number, a special character and must be between 8 and 64 characters long",
                  };
                const e = yield j("passwordOnly", t);
                if (1 !== e.status)
                  return {
                    status: e.status,
                    message: e.message,
                  };
                try {
                  yield (0, C.updatePassword)(e.user, o);
                } catch (e) {
                  return {
                    status: -1,
                    message: (0, S.createErrorMessage)(
                      e,
                      "Failed to update password"
                    ),
                  };
                }
                return (
                  (0, S.reloadAfter)(3),
                  {
                    status: 1,
                    message: "Password updated",
                  }
                );
              }),
            (e) => {
              const t =
                null === w.Auth || void 0 === w.Auth
                  ? void 0
                  : w.Auth.currentUser;
              t &&
                (t.providerData.find(
                  (e) => "password" === (null == e ? void 0 : e.providerId)
                ) ||
                  ((e.inputs = []),
                  (e.buttonText = ""),
                  (e.text = "Password authentication is not enabled")));
            },
            (e) => {}
          )),
          (M.addPasswordAuth = new A(
            "addPasswordAuth",
            "text",
            "Add Password Authentication",
            [
              {
                placeholder: "email",
                type: "email",
                initVal: "",
              },
              {
                placeholder: "confirm email",
                type: "email",
                initVal: "",
              },
              {
                placeholder: "new password",
                type: "password",
                initVal: "",
              },
              {
                placeholder: "confirm new password",
                type: "password",
                initVal: "",
              },
            ],
            "",
            "Add",
            (e, t, o, n, i) =>
              r(void 0, void 0, void 0, function* () {
                if (t !== o)
                  return {
                    status: 0,
                    message: "Emails don't match",
                  };
                if (n !== i)
                  return {
                    status: 0,
                    message: "Passwords don't match",
                  };
                const e = yield j("passwordFirst", n);
                if (1 !== e.status)
                  return {
                    status: e.status,
                    message: e.message,
                  };
                try {
                  const o = C.EmailAuthProvider.credential(t, n);
                  yield (0, C.linkWithCredential)(e.user, o);
                } catch (e) {
                  return {
                    status: -1,
                    message: (0, S.createErrorMessage)(
                      e,
                      "Failed to add password authentication"
                    ),
                  };
                }
                const a = yield u.default.users.updateEmail(t, e.user.email);
                return 200 !== a.status
                  ? {
                      status: -1,
                      message:
                        "Password authentication added but updating the database email failed. This shouldn't happen, please contact support. Error: " +
                        a.message,
                    }
                  : (h.updateAuthSections(),
                    {
                      status: 1,
                      message: "Password authentication added",
                    });
              }),
            () => {},
            (e) => {}
          )),
          (M.deleteAccount = new A(
            "deleteAccount",
            "text",
            "Delete Account",
            [
              {
                placeholder: "Password",
                type: "password",
                initVal: "",
              },
            ],
            "This is the last time you can change your mind. After pressing the button everything is gone.",
            "Delete",
            (e, t) =>
              r(void 0, void 0, void 0, function* () {
                const e = yield j("passwordFirst", t);
                if (1 !== e.status)
                  return {
                    status: e.status,
                    message: e.message,
                  };
                f.add("Deleting stats...", 0);
                const o = yield u.default.users.delete();
                if (200 !== o.status)
                  return {
                    status: -1,
                    message: "Failed to delete user stats: " + o.message,
                  };
                f.add("Deleting results...", 0);
                const n = yield u.default.results.deleteAll();
                if (200 !== n.status)
                  return {
                    status: -1,
                    message: "Failed to delete results: " + n.message,
                  };
                f.add("Deleting login information...", 0);
                try {
                  yield e.user.delete();
                } catch (e) {
                  return {
                    status: -1,
                    message: (0, S.createErrorMessage)(
                      e,
                      "Failed to delete auth user"
                    ),
                  };
                }
                return (
                  (0, S.reloadAfter)(3),
                  {
                    status: 1,
                    message: "Account deleted, goodbye",
                  }
                );
              }),
            (e) => {
              const t =
                null === w.Auth || void 0 === w.Auth
                  ? void 0
                  : w.Auth.currentUser;
              t &&
                (t.providerData.find(
                  (e) => "password" === (null == e ? void 0 : e.providerId)
                ) ||
                  ((e.inputs = []),
                  (e.buttonText = "Reauthenticate to delete")));
            },
            (e) => {}
          )),
          (M.resetAccount = new A(
            "resetAccount",
            "text",
            "Reset Account",
            [
              {
                placeholder: "Password",
                type: "password",
                initVal: "",
              },
            ],
            "This is the last time you can change your mind. After pressing the button everything is gone.",
            "Reset",
            (e, t) =>
              r(void 0, void 0, void 0, function* () {
                const e = yield j("passwordFirst", t);
                if (1 !== e.status)
                  return {
                    status: e.status,
                    message: e.message,
                  };
                f.add("Resetting settings...", 0),
                  c.reset(),
                  f.add("Resetting account...", 0);
                const o = yield u.default.users.reset();
                return 200 !== o.status
                  ? {
                      status: -1,
                      message: "Failed to reset account: " + o.message,
                    }
                  : ((0, S.reloadAfter)(3),
                    {
                      status: 1,
                      message: "Account reset",
                    });
              }),
            (e) => {
              const t =
                null === w.Auth || void 0 === w.Auth
                  ? void 0
                  : w.Auth.currentUser;
              t &&
                (t.providerData.find(
                  (e) => "password" === (null == e ? void 0 : e.providerId)
                ) ||
                  ((e.inputs = []),
                  (e.buttonText = "Reauthenticate to reset")));
            },
            (e) => {}
          )),
          (M.optOutOfLeaderboards = new A(
            "optOutOfLeaderboards",
            "text",
            "Opt out of leaderboards",
            [
              {
                placeholder: "Password",
                type: "password",
                initVal: "",
              },
            ],
            "Are you sure you want to opt out of leaderboards?",
            "Opt out",
            (e, t) =>
              r(void 0, void 0, void 0, function* () {
                const e = yield j("passwordFirst", t);
                if (1 !== e.status)
                  return {
                    status: e.status,
                    message: e.message,
                  };
                const o = yield u.default.users.optOutOfLeaderboards();
                return 200 !== o.status
                  ? {
                      status: -1,
                      message: "Failed to opt out: " + o.message,
                    }
                  : ((0, S.reloadAfter)(3),
                    {
                      status: 1,
                      message: "Leaderboards opt out successful",
                    });
              }),
            (e) => {
              const t =
                null === w.Auth || void 0 === w.Auth
                  ? void 0
                  : w.Auth.currentUser;
              t &&
                (t.providerData.find(
                  (e) => "password" === (null == e ? void 0 : e.providerId)
                ) ||
                  ((e.inputs = []),
                  (e.buttonText = "Reauthenticate to reset")));
            },
            (e) => {}
          )),
          (M.clearTagPb = new A(
            "clearTagPb",
            "text",
            "Clear Tag PB",
            [],
            "Are you sure you want to clear this tags PB?",
            "Clear",
            (e) =>
              r(void 0, void 0, void 0, function* () {
                var t, o;
                const n = e.parameters[0],
                  i = yield u.default.users.deleteTagPersonalBest(n);
                if (200 !== i.status)
                  return {
                    status: -1,
                    message: "Failed to clear tag PB: " + i.message,
                  };
                if (1 === i.data.resultCode) {
                  const e =
                    null ===
                      (o =
                        null === (t = d.getSnapshot()) || void 0 === t
                          ? void 0
                          : t.tags) || void 0 === o
                      ? void 0
                      : o.filter((e) => e._id === n)[0];
                  return void 0 === e
                    ? {
                        status: -1,
                        message: "Tag not found",
                      }
                    : ((e.personalBests = {
                        time: {},
                        words: {},
                        quote: {},
                        zen: {},
                        custom: {},
                      }),
                      $(
                        `.pageSettings .section.tags .tagsList .tag[id="${n}"] .clearPbButton`
                      ).attr("aria-label", "No PB found"),
                      {
                        status: 1,
                        message: "Tag PB cleared",
                      });
                }
                return {
                  status: -1,
                  message: "Failed to clear tag PB: " + i.data.message,
                };
              }),
            (e) => {
              e.text = `Are you sure you want to clear PB for tag ${e.parameters[1]}?`;
            },
            (e) => {}
          )),
          (M.applyCustomFont = new A(
            "applyCustomFont",
            "text",
            "Custom font",
            [
              {
                placeholder: "Font name",
                initVal: "",
              },
            ],
            "Make sure you have the font installed on your computer before applying",
            "Apply",
            (e, t) =>
              r(void 0, void 0, void 0, function* () {
                var e;
                return (
                  null === (e = h.groups.fontFamily) ||
                    void 0 === e ||
                    e.setValue(t.replace(/\s/g, "_")),
                  {
                    status: 1,
                    message: "Font applied",
                  }
                );
              }),
            () => {},
            (e) => {}
          )),
          (M.resetPersonalBests = new A(
            "resetPersonalBests",
            "text",
            "Reset Personal Bests",
            [
              {
                placeholder: "Password",
                type: "password",
                initVal: "",
              },
            ],
            "",
            "Reset",
            (e, t) =>
              r(void 0, void 0, void 0, function* () {
                const e = yield j("passwordFirst", t);
                if (1 !== e.status)
                  return {
                    status: e.status,
                    message: e.message,
                  };
                const o = yield u.default.users.deletePersonalBests();
                if (200 !== o.status)
                  return {
                    status: -1,
                    message: "Failed to reset personal bests: " + o.message,
                  };
                const n = d.getSnapshot();
                return n
                  ? ((n.personalBests = {
                      time: {},
                      words: {},
                      quote: {},
                      zen: {},
                      custom: {},
                    }),
                    {
                      status: 1,
                      message: "Personal bests reset",
                    })
                  : {
                      status: -1,
                      message: "Failed to reset personal bests: no snapshot",
                    };
              }),
            (e) => {
              const t =
                null === w.Auth || void 0 === w.Auth
                  ? void 0
                  : w.Auth.currentUser;
              t &&
                (t.providerData.find(
                  (e) => "password" === (null == e ? void 0 : e.providerId)
                ) ||
                  ((e.inputs = []),
                  (e.buttonText = "Reauthenticate to reset")));
            },
            (e) => {}
          )),
          (M.resetSettings = new A(
            "resetSettings",
            "text",
            "Reset Settings",
            [],
            "Are you sure you want to reset all your settings?",
            "Reset",
            () =>
              r(void 0, void 0, void 0, function* () {
                return (
                  c.reset(),
                  {
                    status: 1,
                    message: "Settings reset",
                  }
                );
              }),
            () => {},
            (e) => {}
          )),
          (M.revokeAllTokens = new A(
            "revokeAllTokens",
            "text",
            "Revoke All Tokens",
            [
              {
                placeholder: "Password",
                type: "password",
                initVal: "",
              },
            ],
            "Are you sure you want to this? This will log you out of all devices.",
            "revoke all",
            (e, t) =>
              r(void 0, void 0, void 0, function* () {
                const e = yield j("passwordFirst", t);
                if (1 !== e.status)
                  return {
                    status: e.status,
                    message: e.message,
                  };
                const o = yield u.default.users.revokeAllTokens();
                return 200 !== o.status
                  ? {
                      status: -1,
                      message: "Failed to revoke tokens: " + o.message,
                    }
                  : ((0, S.reloadAfter)(3),
                    {
                      status: 1,
                      message: "Tokens revoked",
                    });
              }),
            (e) => {
              const t =
                  null === w.Auth || void 0 === w.Auth
                    ? void 0
                    : w.Auth.currentUser,
                o = d.getSnapshot();
              t &&
                o &&
                (t.providerData.find(
                  (e) => "password" === (null == e ? void 0 : e.providerId)
                ) ||
                  ((e.inputs[0].hidden = !0),
                  (e.buttonText = "reauthenticate to revoke all tokens")));
            },
            (e) => {}
          )),
          (M.unlinkDiscord = new A(
            "unlinkDiscord",
            "text",
            "Unlink Discord",
            [],
            "Are you sure you want to unlink your Discord account?",
            "Unlink",
            () =>
              r(void 0, void 0, void 0, function* () {
                const e = d.getSnapshot();
                if (!e)
                  return {
                    status: -1,
                    message: "Failed to unlink Discord: no snapshot",
                  };
                const t = yield u.default.users.unlinkDiscord();
                return 200 !== t.status
                  ? {
                      status: -1,
                      message: "Failed to unlink Discord: " + t.message,
                    }
                  : ((e.discordAvatar = void 0),
                    (e.discordId = void 0),
                    b.update(),
                    d.setSnapshot(e),
                    h.updateDiscordSection(),
                    {
                      status: 1,
                      message: "Discord unlinked",
                    });
              }),
            () => {},
            (e) => {}
          )),
          (M.generateApeKey = new A(
            "generateApeKey",
            "text",
            "Generate new key",
            [
              {
                placeholder: "Name",
                initVal: "",
              },
            ],
            "",
            "Generate",
            (e, t) =>
              r(void 0, void 0, void 0, function* () {
                const e = yield u.default.apeKeys.generate(t, !1);
                if (200 !== e.status)
                  return {
                    status: -1,
                    message: "Failed to generate key: " + e.message,
                  };
                const o = e.data;
                return {
                  status: 1,
                  message: "Key generated",
                  afterHide: () => {
                    W("viewApeKey", [o.apeKey]);
                  },
                };
              }),
            () => {},
            (e) => {}
          )),
          (M.viewApeKey = new A(
            "viewApeKey",
            "text",
            "Ape Key",
            [
              {
                type: "textarea",
                disabled: !0,
                placeholder: "Key",
                initVal: "",
              },
            ],
            "This is your new Ape Key. Please keep it safe. You will only see it once!",
            "Close",
            (e) =>
              r(void 0, void 0, void 0, function* () {
                return (
                  m.show(),
                  {
                    status: 1,
                    message: "Key generated",
                  }
                );
              }),
            (e) => {
              e.inputs[0].initVal = e.parameters[0];
            },
            (e) => {
              (e.canClose = !1),
                $("#simplePopup textarea").css("height", "110px"),
                $("#simplePopup .button").addClass("hidden"),
                setTimeout(() => {
                  (e.canClose = !0),
                    $("#simplePopup .button").removeClass("hidden");
                }, 5e3);
            }
          )),
          (M.deleteApeKey = new A(
            "deleteApeKey",
            "text",
            "Delete Ape Key",
            [],
            "Are you sure?",
            "Delete",
            (e) =>
              r(void 0, void 0, void 0, function* () {
                var t;
                const o = yield u.default.apeKeys.delete(
                  null !== (t = e.parameters[0]) && void 0 !== t ? t : ""
                );
                return 200 !== o.status
                  ? {
                      status: -1,
                      message: "Failed to delete key: " + o.message,
                    }
                  : (m.show(),
                    {
                      status: 1,
                      message: "Key deleted",
                    });
              }),
            (e) => {},
            (e) => {}
          )),
          (M.editApeKey = new A(
            "editApeKey",
            "text",
            "Edit Ape Key",
            [
              {
                placeholder: "Name",
                initVal: "",
              },
            ],
            "",
            "Edit",
            (e, t) =>
              r(void 0, void 0, void 0, function* () {
                var o;
                const n = yield u.default.apeKeys.update(
                  null !== (o = e.parameters[0]) && void 0 !== o ? o : "",
                  {
                    name: t,
                  }
                );
                return 200 !== n.status
                  ? {
                      status: -1,
                      message: "Failed to update key: " + n.message,
                    }
                  : (m.show(),
                    {
                      status: 1,
                      message: "Key updated",
                    });
              }),
            (e) => {},
            (e) => {}
          )),
          (M.deleteCustomText = new A(
            "deleteCustomText",
            "text",
            "Delete custom text",
            [],
            "Are you sure?",
            "Delete",
            (e) =>
              r(void 0, void 0, void 0, function* () {
                return (
                  v.deleteCustomText(e.parameters[0], !1),
                  x.setCustomTextName("", void 0),
                  y.show(!0),
                  {
                    status: 1,
                    message: "Custom text deleted",
                  }
                );
              }),
            (e) => {
              e.text = `Are you sure you want to delete custom text ${e.parameters[0]}?`;
            },
            () => {}
          )),
          (M.deleteCustomTextLong = new A(
            "deleteCustomTextLong",
            "text",
            "Delete custom text",
            [],
            "Are you sure?",
            "Delete",
            (e) =>
              r(void 0, void 0, void 0, function* () {
                return (
                  v.deleteCustomText(e.parameters[0], !0),
                  x.setCustomTextName("", void 0),
                  y.show(!0),
                  {
                    status: 1,
                    message: "Custom text deleted",
                  }
                );
              }),
            (e) => {
              e.text = `Are you sure you want to delete custom text ${e.parameters[0]}?`;
            },
            () => {}
          )),
          (M.resetProgressCustomTextLong = new A(
            "resetProgressCustomTextLong",
            "text",
            "Reset progress for custom text",
            [],
            "Are you sure?",
            "Reset",
            (e) =>
              r(void 0, void 0, void 0, function* () {
                return (
                  v.setCustomTextLongProgress(e.parameters[0], 0),
                  y.show(!0),
                  v.setPopupTextareaState(
                    v.getCustomText(e.parameters[0], !0).join(" ")
                  ),
                  {
                    status: 1,
                    message: "Custom text progress reset",
                  }
                );
              }),
            (e) => {
              e.text = `Are you sure you want to reset your progress for custom text ${e.parameters[0]}?`;
            },
            () => {}
          )),
          (M.updateCustomTheme = new A(
            "updateCustomTheme",
            "text",
            "Update custom theme",
            [
              {
                type: "text",
                placeholder: "Name",
                initVal: "",
              },
              {
                type: "checkbox",
                initVal: "false",
                label: "Update custom theme to current colors",
              },
            ],
            "",
            "update",
            (e, t, o) =>
              r(void 0, void 0, void 0, function* () {
                const n = d.getSnapshot();
                if (!n)
                  return {
                    status: -1,
                    message: "Failed to update custom theme: no snapshot",
                  };
                const i = n.customThemes.find((t) => t._id === e.parameters[0]);
                if (void 0 === i)
                  return {
                    status: -1,
                    message: "Failed to update custom theme: theme not found",
                  };
                let a = [];
                if ("true" === o)
                  for (const e of k.colorVars)
                    a.push(
                      $(
                        `.pageSettings .customTheme .customThemeEdit #${e}[type='color']`
                      ).attr("value")
                    );
                else a = i.colors;
                const r = {
                  name: t.replaceAll(" ", "_"),
                  colors: a,
                };
                return (yield d.editCustomTheme(i._id, r))
                  ? (c.setCustomThemeColors(a),
                    g.refreshButtons(),
                    {
                      status: 1,
                      message: "Custom theme updated",
                    })
                  : {
                      status: -1,
                      message: "Failed to update custom theme",
                    };
              }),
            (e) => {
              const t = d.getSnapshot();
              if (!t) return;
              const o = t.customThemes.find((t) => t._id === e.parameters[0]);
              o && (e.inputs[0].initVal = o.name);
            },
            (e) => {}
          )),
          (M.deleteCustomTheme = new A(
            "deleteCustomTheme",
            "text",
            "Delete Custom Theme",
            [],
            "Are you sure?",
            "Delete",
            (e) =>
              r(void 0, void 0, void 0, function* () {
                return (
                  yield d.deleteCustomTheme(e.parameters[0]),
                  g.refreshButtons(),
                  {
                    status: 1,
                    message: "Custom theme deleted",
                  }
                );
              }),
            (e) => {},
            (e) => {}
          )),
          (M.forgotPassword = new A(
            "forgotPassword",
            "text",
            "Forgot Password",
            [
              {
                type: "text",
                placeholder: "Email",
                initVal: "",
              },
            ],
            "",
            "Send",
            (e, t) =>
              r(void 0, void 0, void 0, function* () {
                const e = yield u.default.users.forgotPasswordEmail(t.trim());
                return 200 !== e.status
                  ? {
                      status: -1,
                      message:
                        "Failed to send password reset email: " + e.message,
                    }
                  : {
                      status: 1,
                      message: e.message,
                      notificationOptions: {
                        duration: 8,
                      },
                    };
              }),
            (e) => {
              const t = $(
                '.pageLogin .login input[name="current-email"]'
              ).val();
              t &&
                ((e.inputs[0].initVal = t),
                setTimeout(() => {
                  $("#simplePopup").find("input")[0].select();
                }, 1));
            },
            () => {}
          )),
          $(".pageLogin #forgotPasswordButton").on("click", () => {
            W("forgotPassword");
          }),
          $(
            ".pageSettings .section.discordIntegration #unlinkDiscordButton"
          ).on("click", () => {
            _.get()
              ? W("unlinkDiscord")
              : f.add("You are offline", 0, {
                  duration: 2,
                });
          }),
          $(".pageSettings #removeGoogleAuth").on("click", () => {
            _.get()
              ? W("removeGoogleAuth")
              : f.add("You are offline", 0, {
                  duration: 2,
                });
          }),
          $("#resetSettingsButton").on("click", () => {
            _.get()
              ? W("resetSettings")
              : f.add("You are offline", 0, {
                  duration: 2,
                });
          }),
          $("#revokeAllTokens").on("click", () => {
            _.get()
              ? W("revokeAllTokens")
              : f.add("You are offline", 0, {
                  duration: 2,
                });
          }),
          $(".pageSettings #resetPersonalBestsButton").on("click", () => {
            _.get()
              ? W("resetPersonalBests")
              : f.add("You are offline", 0, {
                  duration: 2,
                });
          }),
          $(".pageSettings #updateAccountName").on("click", () => {
            _.get()
              ? W("updateName")
              : f.add("You are offline", 0, {
                  duration: 2,
                });
          }),
          $("#bannerCenter").on(
            "click",
            ".banner .text .openNameChange",
            () => {
              _.get()
                ? W("updateName")
                : f.add("You are offline", 0, {
                    duration: 2,
                  });
            }
          ),
          $(".pageSettings #addPasswordAuth").on("click", () => {
            _.get()
              ? W("addPasswordAuth")
              : f.add("You are offline", 0, {
                  duration: 2,
                });
          }),
          $(".pageSettings #emailPasswordAuth").on("click", () => {
            _.get()
              ? W("updateEmail")
              : f.add("You are offline", 0, {
                  duration: 2,
                });
          }),
          $(".pageSettings #passPasswordAuth").on("click", () => {
            _.get()
              ? W("updatePassword")
              : f.add("You are offline", 0, {
                  duration: 2,
                });
          }),
          $(".pageSettings #deleteAccount").on("click", () => {
            _.get()
              ? W("deleteAccount")
              : f.add("You are offline", 0, {
                  duration: 2,
                });
          }),
          $(".pageSettings #resetAccount").on("click", () => {
            _.get()
              ? W("resetAccount")
              : f.add("You are offline", 0, {
                  duration: 2,
                });
          }),
          $(".pageSettings #optOutOfLeaderboardsButton").on("click", () => {
            _.get()
              ? W("optOutOfLeaderboards")
              : f.add("You are offline", 0, {
                  duration: 2,
                });
          }),
          $("#popups").on("click", "#apeKeysPopup .generateApeKey", () => {
            _.get()
              ? W("generateApeKey")
              : f.add("You are offline", 0, {
                  duration: 2,
                });
          }),
          $(".pageSettings").on(
            "click",
            ".section.themes .customTheme .delButton",
            (e) => {
              _.get()
                ? W("deleteCustomTheme", [
                    $(e.currentTarget)
                      .parent(".customTheme.button")
                      .attr("customThemeId"),
                  ])
                : f.add("You are offline", 0, {
                    duration: 2,
                  });
            }
          ),
          $(".pageSettings").on(
            "click",
            ".section.themes .customTheme .editButton",
            (e) => {
              _.get()
                ? W("updateCustomTheme", [
                    $(e.currentTarget)
                      .parent(".customTheme.button")
                      .attr("customThemeId"),
                  ])
                : f.add("You are offline", 0, {
                    duration: 2,
                  });
            }
          ),
          $("#popups").on(
            "click",
            "#savedTextsPopupWrapper .list .savedText .button.delete",
            (e) => {
              W(
                "deleteCustomText",
                [$(e.target).siblings(".button.name").text()],
                !0
              );
            }
          ),
          $("#popups").on(
            "click",
            "#savedTextsPopupWrapper .listLong .savedText .button.delete",
            (e) => {
              W(
                "deleteCustomTextLong",
                [$(e.target).siblings(".button.name").text()],
                !0
              );
            }
          ),
          $("#popups").on(
            "click",
            "#savedTextsPopupWrapper .listLong .savedText .button.resetProgress",
            (e) => {
              W(
                "resetProgressCustomTextLong",
                [$(e.target).siblings(".button.name").text()],
                !0
              );
            }
          ),
          $("#popups").on(
            "click",
            "#apeKeysPopup table tbody tr .button.delete",
            (e) => {
              _.get()
                ? W("deleteApeKey", [$(e.target).closest("tr").attr("keyId")])
                : f.add("You are offline", 0, {
                    duration: 2,
                  });
            }
          ),
          $("#popups").on(
            "click",
            "#apeKeysPopup table tbody tr .button.edit",
            (e) => {
              _.get()
                ? W("editApeKey", [$(e.target).closest("tr").attr("keyId")])
                : f.add("You are offline", 0, {
                    duration: 2,
                  });
            }
          ),
          $(".pageSettings").on(
            "click",
            ".section.fontFamily .button.custom",
            () => {
              W("applyCustomFont", []);
            }
          ),
          $(document).on("keydown", (e) => {
            "Escape" === e.key &&
              (0, S.isElementVisible)("#simplePopupWrapper") &&
              (O
                ? O.hide()
                : $("#simplePopupWrapper")
                    .stop(!0, !0)
                    .css("opacity", 1)
                    .removeClass("hidden")
                    .animate(
                      {
                        opacity: 0,
                      },
                      125,
                      () => {
                        $("#simplePopupWrapper").addClass("hidden");
                      }
                    ),
              e.preventDefault());
          }),
          P.save(T),
          console.log(M);
      },
      590: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.append = t.remove = t.save = void 0);
        const o = document.getElementById("popups"),
          n = new Map();
        function i(e, t = !0) {
          const o = document.getElementById(e);
          if (!o) throw new Error(`Element with id ${e} not found`);
          n.set(e, o), t && a(e);
        }
        function a(e) {
          const t = n.get(e);
          t ? t.remove() : i(e, !0);
        }
        (t.save = i),
          (t.remove = a),
          (t.append = function (e, t) {
            const i = n.get(e);
            t ? document.querySelector(t).append(i) : o.append(i);
          });
      },
      4660: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const r = o(3388),
          s = a(o(590)),
          u = "supportMeWrapper";
        function l() {
          s.append(u),
            $("#supportMeWrapper")
              .css("opacity", 0)
              .removeClass("hidden")
              .animate(
                {
                  opacity: 1,
                },
                125,
                () => {
                  $(`#${u}`).trigger("focus");
                }
              );
        }
        function d() {
          $("#supportMeWrapper")
            .css("opacity", 1)
            .animate(
              {
                opacity: 0,
              },
              125,
              () => {
                $("#supportMeWrapper").addClass("hidden"), s.remove(u);
              }
            );
        }
        $("#supportMeButton").on("click", () => {
          l();
        }),
          $("main").on("click", ".pageAbout #supportMeAboutButton", () => {
            l();
          }),
          $("#popups").on("click", "#supportMeWrapper", (e) => {
            "supportMeWrapper" === $(e.target).attr("id") && d();
          }),
          $("#popups").on("click", "#supportMeWrapper button", () => {
            d();
          }),
          $(document).on("keydown", (e) => {
            "Escape" === e.key && (0, r.isPopupVisible)(u) && d();
          }),
          s.save(u);
      },
      1673: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0);
        const u = s(o(7355)),
          l = a(o(9817)),
          d = a(o(3368)),
          c = a(o(6953)),
          p = a(o(590)),
          f = o(3388),
          h = "userReportPopupWrapper",
          m = {
            userUid: void 0,
          };
        function g() {
          return r(this, void 0, void 0, function* () {
            (0, f.isPopupVisible)(h) &&
              $("#userReportPopupWrapper")
                .stop(!0, !0)
                .css("opacity", 1)
                .animate(
                  {
                    opacity: 0,
                  },
                  125,
                  () => {
                    c.reset("userReportPopup"),
                      $("#userReportPopupWrapper").addClass("hidden"),
                      p.remove(h);
                  }
                );
          });
        }
        (t.show = function (e) {
          return r(this, void 0, void 0, function* () {
            if ((p.append(h), !(0, f.isPopupVisible)(h))) {
              c.render(
                document.querySelector("#userReportPopup .g-recaptcha"),
                "userReportPopup"
              );
              const { name: t } = e;
              (m.userUid = e.uid),
                $("#userReportPopup .user").text(t),
                $("#userReportPopup .reason").val("Inappropriate name"),
                $("#userReportPopup .comment").val(""),
                $("#userReportPopup .characterCount").text("-"),
                $("#userReportPopup .reason").select2({
                  minimumResultsForSearch: 1 / 0,
                }),
                $("#userReportPopupWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: 1,
                    },
                    125,
                    () => {
                      $("#userReportPopup textarea")
                        .trigger("focus")
                        .trigger("select");
                    }
                  );
            }
          });
        }),
          $("#userReportPopupWrapper").on("mousedown", (e) => {
            "userReportPopupWrapper" === $(e.target).attr("id") && g();
          }),
          $("#userReportPopupWrapper .comment").on("input", () => {
            setTimeout(() => {
              const e = $("#userReportPopup .comment").val().length;
              $("#userReportPopup .characterCount").text(e),
                e > 250
                  ? $("#userReportPopup .characterCount").addClass("red")
                  : $("#userReportPopup .characterCount").removeClass("red");
            }, 1);
          }),
          $("#userReportPopupWrapper .submit").on("click", () =>
            r(void 0, void 0, void 0, function* () {
              yield (function () {
                return r(this, void 0, void 0, function* () {
                  const e = c.getResponse("userReportPopup");
                  if (!e) return d.add("Please complete the captcha");
                  const t = $("#userReportPopup .reason").val(),
                    o = $("#userReportPopup .comment").val(),
                    n = e;
                  if (!t) return d.add("Please select a valid report reason");
                  if (!o) return d.add("Please provide a comment");
                  const i = o.length - 250;
                  if (i > 0)
                    return d.add(
                      `Report comment is ${i} character(s) too long`
                    );
                  l.show();
                  const a = yield u.default.users.report(m.userUid, t, o, n);
                  if ((l.hide(), 200 !== a.status))
                    return d.add("Failed to report user: " + a.message, -1);
                  d.add("Report submitted. Thank you!", 1), g();
                });
              })();
            })
          ),
          p.save(h);
      },
      2666: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const s = r(o(9546)),
          u = o(3388),
          l = a(o(590)),
          d = "versionHistoryWrapper";
        function c() {
          $("#versionHistoryWrapper")
            .css("opacity", 1)
            .animate(
              {
                opacity: 0,
              },
              125,
              () => {
                $("#versionHistoryWrapper").addClass("hidden"),
                  $("#versionHistory").html(""),
                  l.remove(d);
              }
            );
        }
        $("footer").on("click", "#newVersionIndicator", () => {
          $("#newVersionIndicator").addClass("hidden");
        }),
          $("footer").on("click", "button.currentVersion", (e) => {
            e.shiftKey ||
              (l.append(d),
              $("#versionHistory").html(
                '\n    <div class="preloader">\n      <i class="fas fa-fw fa-spin fa-circle-notch"></i>\n    </div\n  '
              ),
              (0, u.getReleasesFromGitHub)().then((e) => {
                $("#versionHistory").html('<div class="releases"></div'),
                  e.forEach((e) => {
                    if (!e.draft && !e.prerelease) {
                      let t = e.body;
                      (t = t.replace(/\r\n/g, "<br>")),
                        (t = t.replace(/### (.*?)<br>/g, "<h3>$1</h3>")),
                        (t = t.replace(/<\/h3><br>/gi, "</h3>")),
                        (t = t.replace(/^- /gm, "")),
                        (t = t.replace(/\*\*(.*?)\*\*/g, "<b>$1</b>")),
                        (t = t.replace(
                          /\[(.*?)\]\((.*?)\)/g,
                          '<a href="$2" target="_blank">$1</a>'
                        )),
                        $("#versionHistory .releases").append(
                          `\n        <div class="release">\n          <div class="title">${
                            e.name
                          }</div>\n          <div class="date">${(0, s.default)(
                            new Date(e.published_at),
                            "dd MMM yyyy"
                          )}</div>\n          <div class="body">${t}</div>\n        </div>\n      `
                        );
                    }
                  });
              }),
              $("#versionHistoryWrapper")
                .css("opacity", 0)
                .removeClass("hidden")
                .animate(
                  {
                    opacity: 1,
                  },
                  125
                ),
              $("#newVersionIndicator").addClass("hidden"));
          }),
          $("#popups").on("click", "#versionHistoryWrapper", (e) => {
            "versionHistoryWrapper" === $(e.target).attr("id") && c();
          }),
          $(document).on("keydown", (e) => {
            "Escape" === e.key &&
              (0, u.isPopupVisible)(d) &&
              (c(), e.preventDefault());
          }),
          l.save(d);
      },
      2864: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.egVideoListener = t.show = void 0);
        const s = a(o(3368)),
          u = a(o(1493)),
          l = a(o(590)),
          d = o(3388),
          c = "videoAdPopupWrapper";
        function p() {
          return r(this, void 0, void 0, function* () {
            l.append(c),
              yield u.checkAdblock(),
              u.adBlock
                ? s.add(
                    "Looks like you're using an adblocker. Video ads will not work until you disable it.",
                    0,
                    {
                      duration: 6,
                    }
                  )
                : (yield u.checkCookieblocker(),
                  u.cookieBlocker
                    ? s.add(
                        "Looks like you're using a cookie popup blocker. Video ads will not work without giving your consent through the popup.",
                        0,
                        {
                          duration: 7,
                        }
                      )
                    : (0, d.isPopupVisible)(c) ||
                      $("#videoAdPopupWrapper")
                        .stop(!0, !0)
                        .css("opacity", 0)
                        .removeClass("hidden")
                        .animate(
                          {
                            opacity: 1,
                          },
                          125,
                          () => {
                            window.dataLayer.push({
                              event: "EG_Video",
                            });
                          }
                        ));
          });
        }
        function f() {
          (0, d.isPopupVisible)(c) &&
            $("#videoAdPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#videoAdPopupWrapper").addClass("hidden"), l.remove(c);
                }
              );
        }
        (t.show = p),
          (t.egVideoListener = function (e) {
            const t = e.event;
            "started" === t ||
              ("finished" === t
                ? f()
                : "empty" === t &&
                  (s.add(
                    "Failed to load video ad. Please try again later",
                    -1,
                    {
                      duration: 3,
                    }
                  ),
                  f()));
          }),
          $(".pageTest #watchVideoAdButton").on("click", () => {
            p();
          }),
          l.save(c);
      },
      9231: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = void 0);
        const s = a(o(3388)),
          u = a(o(8248)),
          l = a(o(3368)),
          d = a(o(590)),
          c = "wordFilterPopupWrapper";
        let p = !1;
        const f = {
          homeKeys: {
            display: "home keys",
            getIncludeString: (e) => [
              ...e.keys.row3.slice(0, 4),
              ...e.keys.row3.slice(6, 10),
            ],
            getExcludeString: (e) => {
              const t = e.keys.row2,
                o = e.keys.row4,
                n = e.keys.row3.slice(10);
              return [...t, ...e.keys.row3.slice(4, 6), ...n, ...o];
            },
          },
          leftHand: {
            display: "left hand",
            getIncludeString: (e) => [
              ...e.keys.row2.slice(0, 5),
              ...e.keys.row3.slice(0, 5),
              ...e.keys.row4.slice(0, 5),
            ],
            getExcludeString: (e) => [
              ...e.keys.row2.slice(5),
              ...e.keys.row3.slice(5),
              ...e.keys.row4.slice(5),
            ],
          },
          rightHand: {
            display: "right hand",
            getIncludeString: (e) => [
              ...e.keys.row2.slice(5),
              ...e.keys.row3.slice(5),
              ...e.keys.row4.slice(4),
            ],
            getExcludeString: (e) => [
              ...e.keys.row2.slice(0, 5),
              ...e.keys.row3.slice(0, 5),
              ...e.keys.row4.slice(0, 4),
            ],
          },
          homeRow: {
            display: "home row",
            getIncludeString: (e) => e.keys.row3,
            getExcludeString: (e) => [...e.keys.row2, ...e.keys.row4],
          },
          topRow: {
            display: "top row",
            getIncludeString: (e) => e.keys.row2,
            getExcludeString: (e) => [...e.keys.row3, ...e.keys.row4],
          },
          bottomRow: {
            display: "bottom row",
            getIncludeString: (e) => e.keys.row4,
            getExcludeString: (e) => [...e.keys.row2, ...e.keys.row3],
          },
        };
        let h;
        function m(e = !1) {
          s.isPopupVisible(c) &&
            ($("#wordFilterPopup .languageInput").select2("close"),
            $("#wordFilterPopup .layoutInput").select2("close"),
            $("#wordFilterPopup .presetInput").select2("close"),
            $("#wordFilterPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                e ? 0 : 125,
                () => {
                  $("#wordFilterPopupWrapper").addClass("hidden"),
                    d.remove(c),
                    h && h();
                }
              ));
        }
        function g(e) {
          return r(this, void 0, void 0, function* () {
            const t = $("#wordFilterPopup .languageInput").val(),
              o = yield (function (e) {
                return r(this, void 0, void 0, function* () {
                  let t = $("#wordFilterPopup .wordIncludeInput").val();
                  (t = s.escapeRegExp(null == t ? void 0 : t.trim())),
                    (t = t.replace(/\s+/gi, "|"));
                  const o = new RegExp(t, "i");
                  let n = $("#wordFilterPopup .wordExcludeInput").val();
                  (n = s.escapeRegExp(n.trim())), (n = n.replace(/\s+/gi, "|"));
                  const i = new RegExp(n, "i"),
                    a = [];
                  let r;
                  try {
                    r = yield s.getLanguage(e);
                  } catch (e) {
                    return (
                      l.add(
                        s.createErrorMessage(
                          e,
                          "Failed to filter language words"
                        ),
                        -1
                      ),
                      []
                    );
                  }
                  const u = $("#wordFilterPopup .wordMaxInput").val(),
                    d = $("#wordFilterPopup .wordMinInput").val();
                  let c, p;
                  (c = "" === u ? 999 : parseInt(u)),
                    (p = "" === d ? 1 : parseInt(d));
                  for (const e of r.words) {
                    const t = o.test(e),
                      r = i.test(e);
                    ((t && !r) || (t && "" === n)) &&
                      e.length <= c &&
                      e.length >= p &&
                      a.push(e);
                  }
                  return a;
                });
              })(t);
            if (0 === o.length) return l.add("No words found", 0), void m(!0);
            const n = o.join(u.delimiter);
            u.setPopupTextareaState((e ? "" : u.popupTextareaState + " ") + n),
              m(!0);
          });
        }
        (t.show = function (e = !1, t) {
          return r(this, void 0, void 0, function* () {
            d.append(c),
              s.isPopupVisible(c) ||
                (yield (function () {
                  return r(this, void 0, void 0, function* () {
                    if (!p) {
                      let e, t;
                      $("#wordFilterPopup .languageInput").empty(),
                        $("#wordFilterPopup .layoutInput").empty(),
                        $("wordFilterPopup .presetInput").empty();
                      try {
                        e = yield s.getLanguageList();
                      } catch (e) {
                        return void console.error(
                          s.createErrorMessage(
                            e,
                            "Failed to initialise word filter popup language list"
                          )
                        );
                      }
                      e.forEach((e) => {
                        let t = e;
                        (t = t.replace("_", " ")),
                          $("#wordFilterPopup .languageInput").append(
                            `\n        <option value=${e}>${t}</option>\n      `
                          );
                      });
                      try {
                        t = yield s.getLayoutsList();
                      } catch (e) {
                        return void console.error(
                          s.createErrorMessage(
                            e,
                            "Failed to initialise word filter popup preset list"
                          )
                        );
                      }
                      for (const e in t)
                        $("#wordFilterPopup .layoutInput").append(
                          `\n      <option value=${e}>${e}</option>\n    `
                        );
                      for (const [e, t] of Object.entries(f))
                        $("#wordFilterPopup .presetInput").append(
                          `<option value=${e}>${t.display}</option>`
                        );
                      p = !0;
                    }
                  });
                })(),
                (h = t),
                $("#wordFilterPopup .languageInput").select2({
                  width: "100%",
                }),
                $("#wordFilterPopup .layoutInput").select2({
                  width: "100%",
                }),
                $("#wordFilterPopup .presetInput").select2({
                  width: "100%",
                }),
                $("#wordFilterPopupWrapper .loadingIndicator").addClass(
                  "hidden"
                ),
                $("#wordFilterPopupWrapper .button").removeClass("hidden"),
                $("#wordFilterPopupWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: 1,
                    },
                    e ? 0 : 125,
                    () => {}
                  ));
          });
        }),
          $("#wordFilterPopupWrapper").on("mousedown", (e) => {
            "wordFilterPopupWrapper" === $(e.target).attr("id") && m(!0);
          }),
          $("#wordFilterPopup .languageInput").one("select2:open", function () {
            $("input.select2-search__field").prop("placeholder", "search");
          }),
          $("#wordFilterPopupWrapper .button.addButton").on("mousedown", () => {
            $("#wordFilterPopupWrapper .loadingIndicator").removeClass(
              "hidden"
            ),
              $("#wordFilterPopupWrapper .button").addClass("hidden"),
              g(!1);
          }),
          $("#wordFilterPopupWrapper .button.setButton").on("mousedown", () => {
            $("#wordFilterPopupWrapper .loadingIndicator").removeClass(
              "hidden"
            ),
              $("#wordFilterPopupWrapper .button").addClass("hidden"),
              g(!0);
          }),
          $("#wordFilterPopup .button.generateButton").on("click", () =>
            r(void 0, void 0, void 0, function* () {
              const e = $("#wordFilterPopup .presetInput").val(),
                t = $("#wordFilterPopup .layoutInput").val(),
                o = f[e];
              if (void 0 === o) return void l.add(`Preset ${e} not found`, -1);
              const n = yield s.getLayout(t);
              $("#wordIncludeInput").val(
                o
                  .getIncludeString(n)
                  .map((e) => e[0])
                  .join(" ")
              ),
                $("#wordExcludeInput").val(
                  o
                    .getExcludeString(n)
                    .map((e) => e[0])
                    .join(" ")
                );
            })
          ),
          d.save(c);
      },
      8325: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const s = a(o(2203)),
          u = a(o(6705)),
          l = u,
          d = a(o(3388)),
          c = a(o(6578)),
          p = a(o(8980)),
          f = a(o(3368)),
          h = a(o(8911)),
          m = a(o(4044)),
          g = a(o(2709)),
          v = a(o(3285)),
          y = o(5131),
          b = a(o(732)),
          w = r(o(4166)),
          _ = o(3326),
          C = o(9438),
          S = a(o(2207));
        d.isDevEnvironment()
          ? ($("footer .currentVersion .text").text("localhost"),
            $("body").prepend(
              `<a class='button configureAPI' href='${C.envConfig.backendUrl}/configure/' target='_blank' aria-label="Configure API" data-balloon-pos="right"><i class="fas fa-fw fa-server"></i></a>`
            ))
          : d.getLatestReleaseFromGitHub().then((e) => {
              $("footer .currentVersion .text").text(e), p.show(e);
            }),
          s.set(),
          l.loadFromLocalStorage(),
          h.set(!0, !0),
          $(document).ready(() => {
            d.loadCSS("/./css/select2.min.css", !0),
              d.loadCSS("/./css/balloon.min.css", !0),
              d.loadCSS("/./css/fa.min.css", !0),
              m.check(),
              $("body").css("transition", "background .25s, transform .05s"),
              "off" !== u.default.quickRestart &&
                $("#restartTestButton").addClass("hidden"),
              window.localStorage.getItem("merchbannerclosed") ||
                f.addBanner(
                  'Check out our merchandise, available at <a target="_blank" rel="noopener" href="https://monkeytype.store/">monkeytype.store</a>',
                  1,
                  "./images/merch2.png",
                  !1,
                  () => {
                    window.localStorage.setItem("merchbannerclosed", "true");
                  },
                  !0
                ),
              setTimeout(() => {
                b.get(u.default.funbox).forEach((e) => {
                  var t, o;
                  return null ===
                    (o =
                      null === (t = e.functions) || void 0 === t
                        ? void 0
                        : t.applyGlobalCSS) || void 0 === o
                    ? void 0
                    : o.call(t);
                });
              }, 500),
              $("#contentWrapper")
                .css("opacity", "0")
                .removeClass("hidden")
                .stop(!0, !0)
                .animate(
                  {
                    opacity: 1,
                  },
                  250
                ),
              v.get() && (g.show(), S.sync()),
              c.init(),
              new w.default("https://keymash.io/");
          }),
          "serviceWorker" in navigator &&
            window.addEventListener("load", () => {
              if (d.isDevEnvironment())
                navigator.serviceWorker.getRegistrations().then(function (e) {
                  for (const t of e) t.unregister();
                });
              else {
                const e = new y.Workbox("/service-worker.js");
                e.addEventListener("waiting", (t) => {
                  e.addEventListener("controlling", (e) => {
                    t.isUpdate || e.isUpdate;
                  }),
                    e.messageSkipWaiting();
                }),
                  e
                    .register()
                    .then((t) => {
                      console.log("Service worker registration succeeded:", t),
                        setInterval(() => {
                          e.update();
                        }, 9e5);
                    })
                    .catch((e) => {
                      console.log("Service worker registration failed:", e);
                    });
              }
            }),
          (window.onerror = function (e, t, o, n, i) {
            var a;
            (0, _.log)("error", {
              error:
                null !== (a = null == i ? void 0 : i.stack) && void 0 !== a
                  ? a
                  : "",
            });
          }),
          (window.onunhandledrejection = function (e) {
            var t;
            (0, _.log)("error", {
              error: null !== (t = e.reason.stack) && void 0 !== t ? t : "",
            });
          });
      },
      8427: function (e, t, o) {
        var n =
          (this && this.__importDefault) ||
          function (e) {
            return e && e.__esModule
              ? e
              : {
                  default: e,
                };
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const i = n(o(6705));
        t.default = class {
          constructor(e, t, o, n, a) {
            (this.configName = e),
              (this.configValue = i.default[e]),
              (this.mode = o),
              (this.configFunction = t),
              (this.setCallback = n),
              (this.updateCallback = a),
              this.updateInput(),
              "select" === this.mode
                ? $(".pageSettings").on(
                    "change",
                    `.section.${this.configName} select`,
                    (e) => {
                      const t = $(e.currentTarget);
                      t.hasClass("disabled") ||
                        t.hasClass("no-auto-handle") ||
                        this.setValue(t.val());
                    }
                  )
                : "button" === this.mode &&
                  $(".pageSettings").on(
                    "click",
                    `.section.${this.configName} .button`,
                    (t) => {
                      const o = $(t.currentTarget);
                      if (
                        o.hasClass("disabled") ||
                        o.hasClass("no-auto-handle")
                      )
                        return;
                      let n = o.attr(e);
                      n &&
                        ("true" === n && (n = !0),
                        "false" === n && (n = !1),
                        this.setValue(n));
                    }
                  );
          }
          setValue(e) {
            this.configFunction(e),
              this.updateInput(),
              this.setCallback && this.setCallback();
          }
          updateInput() {
            (this.configValue = i.default[this.configName]),
              $(
                `.pageSettings .section.${this.configName} .button`
              ).removeClass("active"),
              "select" === this.mode
                ? $(`.pageSettings .section.${this.configName} select`)
                    .val(this.configValue)
                    .trigger("change.select2")
                : "button" === this.mode &&
                  $(
                    `.pageSettings .section.${this.configName} .button[${this.configName}='${this.configValue}']`
                  ).addClass("active"),
              this.updateCallback && this.updateCallback();
          }
        };
      },
      4216: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.updateActiveTab = t.setCustomInputs = t.refreshButtons = void 0);
        const s = a(o(6705)),
          u = s,
          l = a(o(743)),
          d = a(o(3388)),
          c = a(o(3368)),
          p = a(o(4203)),
          f = a(o(1833)),
          h = a(o(6192)),
          m = a(o(9817)),
          g = a(o(6350)),
          v = a(o(1446)),
          y = o(6617),
          b = a(o(7346));
        function w(e, t, o = !1, n = !1) {
          if (o) {
            const o = e.find("input.color").attr("id");
            void 0 === o && console.error("Could not find color ID!"),
              n ||
                void 0 === o ||
                document.documentElement.style.setProperty(o, t);
            const i = e.find("label");
            return (
              i.val(t),
              i.attr("value", t),
              "--bg-color" !== i.attr("for") && i.css("background-color", t),
              e.find("input.input").val(t),
              void e.find("input.color").attr("value", t)
            );
          }
          const i = [
            {
              rule: /\b[0-9]{1,3},\s?[0-9]{1,3},\s?[0-9]{1,3}\s*\b/,
              start: "rgb(",
              end: ")",
            },
            {
              rule: /\b[A-Z, a-z, 0-9]{6}\b/,
              start: "#",
              end: "",
            },
            {
              rule: /\b[0-9]{1,3},\s?[0-9]{1,3}%,\s?[0-9]{1,3}%?\s*\b/,
              start: "hsl(",
              end: ")",
            },
          ];
          t = t.replace("", "");
          for (const e of i)
            if (t.match(e.rule)) {
              t = e.start + t + e.end;
              break;
            }
          $(".colorConverter").css("color", t);
          const a = d.convertRGBtoHEX($(".colorConverter").css("color"));
          if (void 0 === a) return;
          t = a;
          const r = e.find("input.color").attr("id");
          void 0 === r && console.error("Could not find color ID!"),
            n ||
              void 0 === r ||
              document.documentElement.style.setProperty(r, t);
          const s = e.find("label");
          s.val(t),
            s.attr("value", t),
            "--bg-color" !== s.attr("for") && s.css("background-color", t),
            e.find("input.input").val(t),
            e.find("input.color").attr("value", t);
        }
        function _() {
          var e, t;
          return r(this, void 0, void 0, function* () {
            if (s.default.customTheme) {
              const o = $(
                  ".pageSettings .section.themes .allCustomThemes.buttons"
                ).empty(),
                n = $(".pageSettings .section.themes .addCustomThemeButton");
              if (
                !(null === y.Auth || void 0 === y.Auth
                  ? void 0
                  : y.Auth.currentUser)
              )
                return void $(
                  ".pageSettings .section.themes .customThemeEdit .saveCustomThemeButton"
                ).text("save");
              $(
                ".pageSettings .section.themes .customThemeEdit .saveCustomThemeButton"
              ).text("save as new"),
                n.removeClass("hidden"),
                (null !==
                  (t =
                    null === (e = g.getSnapshot()) || void 0 === e
                      ? void 0
                      : e.customThemes) && void 0 !== t
                  ? t
                  : []
                ).forEach((e) => {
                  const t = e.colors[0],
                    n = e.colors[1];
                  o.append(
                    `<div class="customTheme button" customThemeId='${
                      e._id
                    }' \n        style="color:${n};background:${t}">\n        <div class="editButton"><i class="fas fa-pen"></i></div>\n        <div class="text">${e.name.replace(
                      /_/g,
                      " "
                    )}</div>\n        <div class="delButton"><i class="fas fa-trash fa-fw"></i></div>\n        </div>`
                  );
                });
            } else {
              const e = document.querySelector(
                ".pageSettings .section.themes .favThemes.buttons"
              );
              e.innerHTML = "";
              let t = "";
              const o = document.querySelector(
                ".pageSettings .section.themes .allThemes.buttons"
              );
              o.innerHTML = "";
              let n,
                i = "",
                a = s.default.theme;
              "off" !== s.default.randomTheme &&
                "custom" !== s.default.randomTheme &&
                null !== l.randomTheme &&
                (a = l.randomTheme);
              try {
                n = yield d.getSortedThemesList();
              } catch (e) {
                return void c.add(
                  d.createErrorMessage(e, "Failed to refresh theme buttons"),
                  -1
                );
              }
              if (s.default.favThemes.length > 0) {
                (e.style.marginBottom = "1rem"), (e.style.marginTop = "1rem");
                for (const e of n)
                  s.default.favThemes.includes(e.name) &&
                    (t += `<div class="theme button ${
                      a === e.name ? "active" : ""
                    }" theme='${e.name}' style="background: ${
                      e.bgColor
                    }; color: ${e.mainColor};outline: 0 solid ${
                      e.mainColor
                    };">\n            <div class="favButton active"><i class="fas fa-star"></i></div>\n            <div class="text">${e.name.replace(
                      /_/g,
                      " "
                    )}</div>\n            <div class="themeBubbles" style="background: ${
                      e.bgColor
                    };outline: 0.25rem solid ${
                      e.bgColor
                    };">\n              <div class="themeBubble" style="background: ${
                      e.mainColor
                    }"></div>\n              <div class="themeBubble" style="background: ${
                      e.subColor
                    }"></div>\n              <div class="themeBubble" style="background: ${
                      e.textColor
                    }"></div>\n            </div>\n            </div>\n            `);
                e.innerHTML = t;
              } else (e.style.marginBottom = "0"), (e.style.marginTop = "0");
              for (const e of n)
                s.default.favThemes.includes(e.name) ||
                  (i += `<div class="theme button ${
                    a === e.name ? "active" : ""
                  }" theme='${e.name}' style="background: ${
                    e.bgColor
                  }; color: ${e.mainColor};outline: 0 solid ${
                    e.mainColor
                  };">\n        <div class="favButton"><i class="far fa-star"></i></div>\n        <div class="text">${e.name.replace(
                    /_/g,
                    " "
                  )}</div>\n        <div class="themeBubbles" style="background: ${
                    e.bgColor
                  };outline: 0.25rem solid ${
                    e.bgColor
                  };">\n          <div class="themeBubble" style="background: ${
                    e.mainColor
                  }"></div>\n          <div class="themeBubble" style="background: ${
                    e.subColor
                  }"></div>\n          <div class="themeBubble" style="background: ${
                    e.textColor
                  }"></div>\n        </div>\n        </div>\n        `);
              o.innerHTML = i;
            }
          });
        }
        function C(e = !1) {
          const t = $(
              ".pageSettings .section.themes .tabs .button[tab='preset']"
            ),
            o = $(".pageSettings .section.themes .tabs .button[tab='custom']");
          s.default.customTheme
            ? (t.removeClass("active"),
              (o.hasClass("active") && !e) || (o.addClass("active"), _()),
              d.swapElements(
                $('.pageSettings [tabContent="preset"]'),
                $('.pageSettings [tabContent="custom"]'),
                250
              ))
            : (o.removeClass("active"),
              (t.hasClass("active") && !e) || (t.addClass("active"), _()),
              d.swapElements(
                $('.pageSettings [tabContent="custom"]'),
                $('.pageSettings [tabContent="preset"]'),
                250
              ));
        }
        (t.refreshButtons = _),
          (t.setCustomInputs = function (e = !1) {
            $(
              ".pageSettings .section.themes .tabContainer .customTheme .colorPicker"
            ).each((t, o) => {
              const n =
                s.default.customThemeColors[
                  l.colorVars.indexOf($(o).find("input.color").attr("id"))
                ];
              w($(o), n, !1, e);
            });
          }),
          (t.updateActiveTab = C),
          $(".pageSettings .section.themes .tabs .button").on("click", (e) => {
            $(".pageSettings .section.themes .tabs .button").removeClass(
              "active"
            );
            const t = $(e.currentTarget);
            t.addClass("active"),
              "preset" === t.attr("tab")
                ? u.setCustomTheme(!1)
                : u.setCustomTheme(!0);
          }),
          $(".pageSettings").on(
            "click",
            " .section.themes .customTheme.button",
            (e) => {
              var t, o;
              if ($(e.target).hasClass("delButton")) return;
              if ($(e.target).hasClass("editButton")) return;
              const n =
                  null !== (t = $(e.currentTarget).attr("customThemeId")) &&
                  void 0 !== t
                    ? t
                    : "",
                i =
                  null === (o = g.getSnapshot()) || void 0 === o
                    ? void 0
                    : o.customThemes.find((e) => e._id === n);
              void 0 !== i
                ? u.setCustomThemeColors(i.colors)
                : console.error(
                    "Could not find custom theme in snapshot for id ",
                    n
                  );
            }
          ),
          $(".pageSettings").on(
            "click",
            ".section.themes .theme .favButton",
            (e) => {
              const t = $(e.currentTarget)
                .parents(".theme.button")
                .attr("theme");
              void 0 !== t
                ? (function (e) {
                    if (s.default.favThemes.includes(e))
                      u.setFavThemes(
                        s.default.favThemes.filter((t) => t !== e)
                      );
                    else {
                      const t = s.default.favThemes;
                      t.push(e), u.setFavThemes(t);
                    }
                    u.saveFullConfigToLocalStorage();
                  })(t)
                : console.error(
                    "Could not find the theme attribute attached to the button clicked!"
                  );
            }
          ),
          $(".pageSettings").on(
            "click",
            ".section.themes .theme.button",
            (e) => {
              const t = $(e.currentTarget).attr("theme");
              $(e.target).hasClass("favButton") ||
                void 0 === t ||
                u.setTheme(t);
            }
          ),
          $(
            ".pageSettings .section.themes .tabContainer .customTheme input[type=color]"
          ).on("input", (e) => {
            const t = $(e.currentTarget).attr("id"),
              o = $(e.currentTarget).val();
            w($(".colorPicker #" + t).parent(), o, !0);
          }),
          $(
            ".pageSettings .section.themes .tabContainer .customTheme input[type=color]"
          ).on("change", (e) => {
            const t = $(e.currentTarget).attr("id"),
              o = $(e.currentTarget).val();
            w($(".colorPicker #" + t).parent(), o);
          }),
          $(
            ".pageSettings .section.themes .tabContainer .customTheme input.input"
          )
            .on("blur", (e) => {
              if ("name" === e.target.id) return;
              const t = $(e.currentTarget).attr("id"),
                o = $(e.currentTarget).val();
              w($(".colorPicker #" + t).parent(), o);
            })
            .on("keypress", function (e) {
              if ("name" !== e.target.id && "Enter" === e.code) {
                $(this).attr("disabled", "disabled");
                const t = $(e.currentTarget).attr("id"),
                  o = $(e.currentTarget).val();
                w($(".colorPicker #" + t).parent(), o),
                  $(this).removeAttr("disabled");
              }
            }),
          $(".pageSettings #loadCustomColorsFromPreset").on("click", () =>
            r(void 0, void 0, void 0, function* () {
              yield l.loadStyle(s.default.theme),
                l.colorVars.forEach((e) => {
                  document.documentElement.style.setProperty(e, "");
                }),
                f.updateAllChartColors();
              const e = yield p.getAll();
              l.colorVars.forEach((t) => {
                let o;
                "--bg-color" === t
                  ? (o = e.bg)
                  : "--main-color" === t
                  ? (o = e.main)
                  : "--sub-color" === t
                  ? (o = e.sub)
                  : "--sub-alt-color" === t
                  ? (o = e.subAlt)
                  : "--caret-color" === t
                  ? (o = e.caret)
                  : "--text-color" === t
                  ? (o = e.text)
                  : "--error-color" === t
                  ? (o = e.error)
                  : "--error-extra-color" === t
                  ? (o = e.errorExtra)
                  : "--colorful-error-color" === t
                  ? (o = e.colorfulError)
                  : "--colorful-error-extra-color" === t &&
                    (o = e.colorfulErrorExtra),
                  w($(".colorPicker #" + t).parent(), o);
              });
            })
          ),
          $("#shareCustomThemeButton").on("click", () => {
            h.show();
          }),
          $(".pageSettings .saveCustomThemeButton").on("click", () =>
            r(void 0, void 0, void 0, function* () {
              if (
                ((function () {
                  const e = [];
                  for (const t of l.colorVars)
                    e.push(
                      $(
                        `.pageSettings .customTheme .customThemeEdit #${t}[type='color']`
                      ).attr("value")
                    );
                  u.setCustomThemeColors(e), c.add("Custom theme saved", 1);
                })(),
                null === y.Auth || void 0 === y.Auth
                  ? void 0
                  : y.Auth.currentUser)
              ) {
                const e = {
                  name: "custom",
                  colors: s.default.customThemeColors,
                };
                m.show();
                const t = yield g.addCustomTheme(e);
                m.hide(), t && C(!0);
              } else C(!0);
            })
          ),
          v.subscribe((e) => {
            "customThemeId" === e && _(),
              "theme" === e &&
                "settings" === b.get() &&
                (function () {
                  var e;
                  let t = s.default.theme;
                  "off" !== s.default.randomTheme &&
                    "custom" !== s.default.randomTheme &&
                    null !== l.randomTheme &&
                    (t = l.randomTheme),
                    document
                      .querySelectorAll(".pageSettings .section.themes .theme")
                      .forEach((e) => {
                        e.classList.remove("active");
                      }),
                    null ===
                      (e = document.querySelector(
                        `.pageSettings .section.themes .theme[theme='${t}']`
                      )) ||
                      void 0 === e ||
                      e.classList.add("active");
                })();
          });
      },
      7346: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.set = t.get = void 0);
        let o = "loading";
        (t.get = function () {
          return o;
        }),
          (t.set = function (e) {
            o = e;
          });
      },
      4854: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.set = t.get = void 0),
          (t.get = function () {
            var e;
            return (
              "true" ===
              (null !== (e = localStorage.getItem("prefersArabicLazyMode")) &&
              void 0 !== e
                ? e
                : "true")
            );
          }),
          (t.set = function (e) {
            localStorage.setItem(
              "prefersArabicLazyMode",
              !0 === e ? "true" : "false"
            );
          });
      },
      8526: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.setStartPos =
            t.setComposing =
            t.getStartPos =
            t.getComposing =
              void 0);
        const o = {
          composing: !1,
          startPos: -1,
        };
        (t.getComposing = function () {
          return o.composing;
        }),
          (t.getStartPos = function () {
            return o.startPos;
          }),
          (t.setComposing = function (e) {
            o.composing = e;
          }),
          (t.setStartPos = function (e) {
            o.startPos = e;
          });
      },
      3285: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.showOfflineBanner = t.get = void 0);
        const r = o(2189),
          s = a(o(3368)),
          u = a(o(5928)),
          l = a(o(1322));
        let d,
          c = navigator.onLine;
        t.get = function () {
          return c;
        };
        let p = !1;
        function f() {
          p ||
            (void 0 === d &&
              (d = s.addBanner(
                "No internet connection",
                0,
                "exclamation-triangle",
                !1,
                () => {
                  (p = !0), (d = void 0);
                }
              )));
        }
        t.showOfflineBanner = f;
        const h = (0, r.throttle)(1e4, () => {
          c
            ? (s.add("You're back online", 1, {
                customTitle: "Connection",
              }),
              void 0 !== d &&
                $(`#bannerCenter .banner[id="${d}"] .closeButton`).trigger(
                  "click"
                ),
              (p = !1))
            : l.isActive || f();
        });
        u.subscribe((e) => {
          (c = e), h();
        }),
          window.addEventListener("load", () => {
            (c = navigator.onLine), c || f();
          });
      },
      7717: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.setCustomTextName =
            t.isCustomTextLong =
            t.getCustomTextName =
              void 0);
        let o = "",
          n = !1;
        (t.getCustomTextName = function () {
          return o;
        }),
          (t.isCustomTextLong = function () {
            return n;
          }),
          (t.setCustomTextName = function (e, t) {
            (o = e), (n = t);
          });
      },
      9029: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.enable = t.get = void 0);
        let o = !1;
        (t.get = function () {
          return o;
        }),
          (t.enable = function () {
            (o = !0),
              console.log(
                "Glarses Mode On - test result will be hidden. You can check the stats in the console (here)"
              ),
              console.log("To disable Glarses Mode refresh the page.");
          });
      },
      5705: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.get = t.set = void 0);
        let o = !0;
        (t.set = function (e) {
          o = e;
        }),
          (t.get = function () {
            return o;
          });
      },
      210: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.get = t.clear = t.set = void 0);
        let o = !1;
        (t.set = function () {
          o || ((o = !0), console.error("Slow timer, disabling animations"));
        }),
          (t.clear = function () {
            o = !1;
          }),
          (t.get = function () {
            return o;
          });
      },
      195: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.increment = t.set = t.get = void 0);
        let o = 0;
        (t.get = function () {
          return o;
        }),
          (t.set = function (e) {
            o = e;
          }),
          (t.increment = function () {
            o++;
          });
      },
      262: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.replace = t.getList = void 0);
        const u = s(o(6705)),
          l = o(3388),
          d = a(o(8248));
        let c = [];
        function p() {
          return r(this, void 0, void 0, function* () {
            return 0 === c.length
              ? $.getJSON("languages/britishenglish.json", function (e) {
                  return (c = e), c;
                })
              : c;
          });
        }
        (t.getList = p),
          (t.replace = function e(t, o) {
            var n;
            return r(this, void 0, void 0, function* () {
              const i = yield p();
              if (t.includes("-"))
                return (yield Promise.all(
                  t.split("-").map((t) =>
                    r(this, void 0, void 0, function* () {
                      return e(t, o);
                    })
                  )
                )).join("-");
              {
                const e = i.find((e) =>
                  t.match(RegExp(`^([\\W]*${e[0]}[\\W]*)$`, "gi"))
                );
                return e &&
                  (("quote" !== u.default.mode &&
                    ("custom" !== u.default.mode ||
                      d.isTimeRandom ||
                      d.isWordRandom ||
                      d.isSectionRandom)) ||
                    !(null === (n = e[2]) || void 0 === n
                      ? void 0
                      : n.includes(o)))
                  ? t.replace(
                      RegExp(`^(?:([\\W]*)(${e[0]})([\\W]*))$`, "gi"),
                      (t, o, n, i) =>
                        o +
                        (n.charAt(0) === n.charAt(0).toUpperCase()
                          ? n === n.toUpperCase()
                            ? e[1].toUpperCase()
                            : (0, l.capitalizeFirstLetterOfEachWord)(e[1])
                          : e[1]) +
                        i
                    )
                  : t;
              }
            });
          });
      },
      4173: function (e, t, o) {
        var n =
          (this && this.__importDefault) ||
          function (e) {
            return e && e.__esModule
              ? e
              : {
                  default: e,
                };
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.capsState = void 0);
        const i = n(o(6705)),
          a = document.querySelector("#capsWarning"),
          r = navigator.platform.startsWith("Mac");
        t.capsState = !1;
        let s = !1;
        function u(e) {
          var o, n;
          "CapsLock" ===
            (null === (o = null == e ? void 0 : e.originalEvent) || void 0 === o
              ? void 0
              : o.key) && null !== t.capsState
            ? (t.capsState = !t.capsState)
            : (t.capsState =
                (null === (n = null == e ? void 0 : e.originalEvent) ||
                void 0 === n
                  ? void 0
                  : n.getModifierState("CapsLock")) || !1);
          try {
            i.default.capsLockWarning && t.capsState
              ? s || (null == a || a.classList.remove("hidden"), (s = !0))
              : s && (null == a || a.classList.add("hidden"), (s = !1));
          } catch (e) {}
        }
        $(document).on("keyup", u),
          $(document).on("keydown", (e) => {
            r && u(e);
          });
      },
      4292: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show =
            t.updatePosition =
            t.hide =
            t.startAnimation =
            t.stopAnimation =
            t.caretAnimating =
              void 0);
        const u = a(o(3388)),
          l = s(o(6705)),
          d = a(o(4897)),
          c = a(o(210)),
          p = a(o(1322));
        t.caretAnimating = !0;
        const f = document.querySelector("#caret");
        function h() {
          !1 === t.caretAnimating &&
            ("off" === l.default.smoothCaret || c.get()
              ? (f.style.animationName = "caretFlashHard")
              : (f.style.animationName = "caretFlashSmooth"),
            (t.caretAnimating = !0));
        }
        function m() {
          var e, t, o, n, i;
          return r(this, void 0, void 0, function* () {
            const a = Math.round(
                null !==
                  (t =
                    null === (e = document.querySelector("#caret")) ||
                    void 0 === e
                      ? void 0
                      : e.getBoundingClientRect().width) && void 0 !== t
                  ? t
                  : 0
              ),
              r = ["block", "outline", "underline"].includes(
                l.default.caretStyle
              ),
              s = d.input.current.length,
              h = s,
              m = 0 === $("#words .active").children().length;
            m &&
              $("#words .active").append(
                '<letter style="opacity: 0;">_</letter>'
              );
            const g =
              null ===
                (o =
                  null === document || void 0 === document
                    ? void 0
                    : document.querySelector("#words .active")) || void 0 === o
                ? void 0
                : o.querySelectorAll("letter");
            if (!g) return;
            const v = g[h],
              y = g[Math.min(h - 1, g.length - 1)],
              b = (yield u.getCurrentLanguage(l.default.language)).rightToLeft,
              w =
                (v ? v.offsetLeft : y.offsetLeft + y.offsetWidth) +
                (b ? (v ? v.offsetWidth : -y.offsetWidth) : 0),
              _ =
                (v ? v.offsetTop : y.offsetTop) -
                l.default.fontSize * u.convertRemToPixels(1) * 0.1;
            let C = w - (r ? 0 : a / 2);
            const S =
              null !==
                (n = $(document.querySelector("#wordsWrapper")).width()) &&
              void 0 !== n
                ? n
                : 0;
            if ("letter" === l.default.tapeMode) C = S / 2 - (r ? 0 : a / 2);
            else if ("word" === l.default.tapeMode)
              if (0 === s) C = S / 2 - (r ? 0 : a / 2);
              else {
                let e = 0;
                for (let t = 0; t < s; t++) e += $(g[t]).outerWidth(!0);
                C = S / 2 + e - (r ? 0 : a / 2);
              }
            const x = r
              ? (null !== (i = v ? v.offsetWidth : y.offsetWidth) &&
                void 0 !== i
                  ? i
                  : 0) + "px"
              : "";
            let P = $("#words .smoothScroller").height();
            void 0 === P && (P = 0);
            const k = $(f);
            k.css("display", "block");
            const T = {
              top: _ - P,
              left: C,
            };
            "" !== x ? (T.width = x) : k.css("width", "");
            const O =
              "off" == l.default.smoothCaret
                ? 0
                : "slow" == l.default.smoothCaret
                ? 150
                : "medium" == l.default.smoothCaret
                ? 100
                : "fast" == l.default.smoothCaret
                ? 85
                : 0;
            if (
              (k.stop(!0, !1).animate(T, c.get() ? 0 : O),
              l.default.showAllLines)
            ) {
              const e = window.innerHeight,
                t = e / 2 - k.outerHeight() / 2,
                o = document.body.scrollHeight;
              if (_ >= t && o > e && p.isActive) {
                const e = _ - t / 2;
                window.scrollTo({
                  left: 0,
                  top: e,
                  behavior: "smooth",
                });
              }
            }
            m && $("#words .active").children().remove();
          });
        }
        (t.stopAnimation = function () {
          !0 === t.caretAnimating &&
            ((f.style.animationName = "none"),
            (f.style.opacity = "1"),
            (t.caretAnimating = !1));
        }),
          (t.startAnimation = h),
          (t.hide = function () {
            f.classList.add("hidden");
          }),
          (t.updatePosition = m),
          (t.show = function () {
            $("#result").hasClass("hidden") &&
              (f.classList.remove("hidden"), m(), h());
          });
      },
      8248: function (e, t) {
        function o() {
          var e;
          return JSON.parse(
            null !== (e = window.localStorage.getItem("customText")) &&
              void 0 !== e
              ? e
              : "{}"
          );
        }
        function n() {
          var e;
          return JSON.parse(
            null !== (e = window.localStorage.getItem("customTextLong")) &&
              void 0 !== e
              ? e
              : "{}"
          );
        }
        function i(e) {
          window.localStorage.setItem("customText", JSON.stringify(e));
        }
        function a(e) {
          window.localStorage.setItem("customTextLong", JSON.stringify(e));
        }
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.getCustomTextNames =
            t.setCustomTextLongProgress =
            t.getCustomTextLongProgress =
            t.deleteCustomText =
            t.setCustomText =
            t.getCustomText =
            t.setDelimiter =
            t.setSection =
            t.setWord =
            t.setTime =
            t.setIsSectionRandom =
            t.setIsTimeRandom =
            t.setIsWordRandom =
            t.getTextArray =
            t.getText =
            t.setText =
            t.setPopupTextareaState =
            t.popupTextareaState =
            t.delimiter =
            t.section =
            t.time =
            t.word =
            t.isSectionRandom =
            t.isTimeRandom =
            t.isWordRandom =
            t.text =
              void 0),
          (t.text = [
            "The",
            "quick",
            "brown",
            "fox",
            "jumps",
            "over",
            "the",
            "lazy",
            "dog",
          ]),
          (t.isWordRandom = !1),
          (t.isTimeRandom = !1),
          (t.isSectionRandom = !1),
          (t.word = -1),
          (t.time = -1),
          (t.section = -1),
          (t.delimiter = " "),
          (t.popupTextareaState =
            "The quick brown fox jumps over the lazy dog"),
          (t.setPopupTextareaState = function (e) {
            t.popupTextareaState = e;
          }),
          (t.setText = function (e) {
            t.text = e;
          }),
          (t.getText = function () {
            return t.text.join(" ");
          }),
          (t.getTextArray = function () {
            return t.text;
          }),
          (t.setIsWordRandom = function (e) {
            t.isWordRandom = e;
          }),
          (t.setIsTimeRandom = function (e) {
            t.isTimeRandom = e;
          }),
          (t.setIsSectionRandom = function (e) {
            t.isSectionRandom = e;
          }),
          (t.setTime = function (e) {
            t.time = e;
          }),
          (t.setWord = function (e) {
            t.word = e;
          }),
          (t.setSection = function (e) {
            t.section = e;
          }),
          (t.setDelimiter = function (e) {
            t.delimiter = e;
          }),
          (t.getCustomText = function (e, t = !1) {
            if (t) {
              const t = n()[e];
              if (void 0 === t) throw new Error(`Custom text ${e} not found`);
              return t.text.split(/ +/);
            }
            {
              const t = o()[e];
              if (void 0 === t) throw new Error(`Custom text ${e} not found`);
              return t.split(/ +/);
            }
          }),
          (t.setCustomText = function (e, t, r = !1) {
            if (r) {
              const o = n();
              o[e] = {
                text: "",
                progress: 0,
              };
              const i = o[e];
              if (void 0 === i) throw new Error("Custom text not found");
              (i.text = "string" == typeof t ? t : t.join(" ")), a(o);
            } else {
              const n = o();
              (n[e] = "string" == typeof t ? t : t.join(" ")), i(n);
            }
          }),
          (t.deleteCustomText = function (e, t) {
            const r = t ? n() : o();
            delete r[e], t ? a(r) : i(r);
          }),
          (t.getCustomTextLongProgress = function (e) {
            var t;
            const o = n()[e];
            if (void 0 === o) throw new Error("Custom text not found");
            return null !== (t = o.progress) && void 0 !== t ? t : 0;
          }),
          (t.setCustomTextLongProgress = function (e, t) {
            const o = n(),
              i = o[e];
            if (void 0 === i) throw new Error("Custom text not found");
            (i.progress = t), a(o);
          }),
          (t.getCustomTextNames = function (e = !1) {
            return e ? Object.keys(n()) : Object.keys(o());
          });
      },
      476: function (e, t, o) {
        var n =
          (this && this.__awaiter) ||
          function (e, t, o, n) {
            return new (o || (o = Promise))(function (i, a) {
              function r(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  a(e);
                }
              }
              function s(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  a(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof o
                      ? t
                      : new o(function (e) {
                          e(t);
                        })).then(r, s);
              }
              u((n = n.apply(e, t || [])).next());
            });
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.replace = t.check = void 0);
        const i = o(3388),
          a = [
            ["are", ["aren't"]],
            ["can", ["can't"]],
            ["could", ["couldn't"]],
            ["did", ["didn't"]],
            ["does", ["doesn't"]],
            ["do", ["don't"]],
            ["had", ["hadn't"]],
            ["has", ["hasn't"]],
            ["have", ["haven't"]],
            ["is", ["isn't"]],
            ["it", ["it's", "it'll"]],
            ["i", ["i'm", "i'll", "i've", "i'd"]],
            ["you", ["you'll", "you're", "you've", "you'd"]],
            ["that", ["that's", "that'll", "that'd"]],
            ["must", ["mustn't", "must've"]],
            ["there", ["there's", "there'll", "there'd"]],
            ["he", ["he's", "he'll", "he'd"]],
            ["she", ["she's", "she'll", "she'd"]],
            ["we", ["we're", "we'll", "we'd"]],
            ["they", ["they're", "they'll", "they'd"]],
            ["should", ["shouldn't", "should've"]],
            ["was", ["wasn't"]],
            ["were", ["weren't"]],
            ["will", ["won't"]],
            ["would", ["wouldn't", "would've"]],
            ["going", ["goin'"]],
          ];
        (t.check = function (e) {
          return n(this, void 0, void 0, function* () {
            return (
              void 0 !==
              a.find((t) => e.match(RegExp(`^([\\W]*${t[0]}[\\W]*)$`, "gi")))
            );
          });
        }),
          (t.replace = function (e) {
            return n(this, void 0, void 0, function* () {
              const t = a.find((t) =>
                e.match(RegExp(`^([\\W]*${t[0]}[\\W]*)$`, "gi"))
              );
              if (void 0 === t) return e;
              const o = (0, i.randomElementFromArray)(t[1]);
              return e.replace(
                RegExp(`^(?:([\\W]*)(${t[0]})([\\W]*))$`, "gi"),
                (e, t, n, a) => {
                  return (
                    t +
                    (n.charAt(0) === n.charAt(0).toUpperCase()
                      ? "I" !== (r = n) && r === r.toUpperCase()
                        ? o.toUpperCase()
                        : (0, i.capitalizeFirstLetterOfEachWord)(o)
                      : o) +
                    a
                  );
                  var r;
                }
              );
            });
          });
      },
      8911: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.set = void 0);
        const r = a(o(4292)),
          s = a(o(7346)),
          u = a(o(3261)),
          l = a(o(8700)),
          d = a(o(2331));
        let c = !1;
        function p(e, t = !1) {
          e && !c
            ? ((c = !0),
              r.stopAnimation(),
              $("header").addClass("focus"),
              $("footer").addClass("focus"),
              t || $("body").css("cursor", "none"),
              $("main").addClass("focus"),
              $("#bannerCenter").addClass("focus"),
              $("#notificationCenter").addClass("focus"),
              $("#capsWarning").addClass("focus"),
              $("#ad-vertical-right-wrapper").addClass("focus"),
              $("#ad-vertical-left-wrapper").addClass("focus"),
              $("#ad-footer-wrapper").addClass("focus"),
              $("#ad-footer-small-wrapper").addClass("focus"),
              u.show(),
              l.show(),
              d.show())
            : !e &&
              c &&
              ((c = !1),
              r.startAnimation(),
              $("header").removeClass("focus"),
              $("footer").removeClass("focus"),
              $("body").css("cursor", "default"),
              $("main").removeClass("focus"),
              $("#bannerCenter").removeClass("focus"),
              $("#notificationCenter").removeClass("focus"),
              $("#capsWarning").removeClass("focus"),
              $("#app").removeClass("focus"),
              $("#ad-vertical-right-wrapper").removeClass("focus"),
              $("#ad-vertical-left-wrapper").removeClass("focus"),
              $("#ad-footer-wrapper").removeClass("focus"),
              $("#ad-footer-small-wrapper").removeClass("focus"),
              u.hide(),
              l.hide(),
              d.hide());
        }
        (t.set = p),
          $(document).on("mousemove", function (e) {
            c &&
              "loading" !== s.get() &&
              (("account" === s.get() && !0 === c) ||
                (e.originalEvent &&
                  (e.originalEvent.movementX > 3 ||
                    e.originalEvent.movementY > 3) &&
                  p(!1)));
          });
      },
      732: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.setFunboxFunctions = t.get = t.getAll = void 0);
        const o = [
          {
            name: "nausea",
            info: "I think I'm gonna be sick.",
            hasCSS: !0,
          },
          {
            name: "round_round_baby",
            info: "...right round, like a record baby. Right, round round round.",
            hasCSS: !0,
          },
          {
            name: "simon_says",
            info: "Type what simon says.",
            properties: ["changesWordsVisibility", "usesLayout"],
            forcedConfig: {
              highlightMode: ["letter", "off"],
            },
            hasCSS: !0,
          },
          {
            name: "mirror",
            info: "Everything is mirrored!",
            hasCSS: !0,
          },
          {
            name: "upside_down",
            info: "Everything is upside down!",
            hasCSS: !0,
          },
          {
            name: "tts",
            info: "Listen closely.",
            properties: ["changesWordsVisibility", "speaks"],
            forcedConfig: {
              highlightMode: ["letter", "off"],
            },
            hasCSS: !0,
          },
          {
            name: "choo_choo",
            info: "All the letters are spinning!",
            properties: ["noLigatures", "conflictsWithSymmetricChars"],
            hasCSS: !0,
          },
          {
            name: "arrows",
            info: "Play it on a pad!",
            properties: [
              "ignoresLanguage",
              "ignoresLayout",
              "nospace",
              "noLetters",
              "symmetricChars",
            ],
            forcedConfig: {
              punctuation: [!1],
              numbers: [!1],
              highlightMode: ["letter", "off"],
            },
          },
          {
            name: "rAnDoMcAsE",
            info: "I kInDa LiKe HoW iNeFfIcIeNt QwErTy Is.",
            properties: ["changesCapitalisation"],
          },
          {
            name: "capitals",
            info: "Capitalize Every Word.",
            properties: ["changesCapitalisation"],
          },
          {
            name: "layoutfluid",
            info: "Switch between layouts specified below proportionately to the length of the test.",
            properties: ["changesLayout", "noInfiniteDuration"],
          },
          {
            name: "earthquake",
            info: "Everybody get down! The words are shaking!",
            properties: ["noLigatures"],
            hasCSS: !0,
          },
          {
            name: "space_balls",
            info: "In a galaxy far far away.",
            hasCSS: !0,
          },
          {
            name: "gibberish",
            info: "Anvbuefl dizzs eoos alsb?",
            properties: ["ignoresLanguage", "unspeakable"],
          },
          {
            name: "58008",
            alias: "numbers",
            info: "A special mode for accountants.",
            properties: ["ignoresLanguage", "ignoresLayout", "noLetters"],
            forcedConfig: {
              numbers: [!1],
            },
          },
          {
            name: "ascii",
            info: "Where was the ampersand again?. Only ASCII characters.",
            properties: ["ignoresLanguage", "noLetters", "unspeakable"],
            forcedConfig: {
              numbers: [!1],
            },
          },
          {
            name: "specials",
            info: "!@#$%^&*. Only special characters.",
            properties: ["ignoresLanguage", "noLetters", "unspeakable"],
            forcedConfig: {
              punctuation: [!1],
              numbers: [!1],
            },
          },
          {
            name: "plus_one",
            info: "React quickly! Only one future word is visible.",
            properties: [
              "changesWordsVisibility",
              "toPush:2",
              "noInfiniteDuration",
            ],
          },
          {
            name: "plus_two",
            info: "Only two future words are visible.",
            properties: [
              "changesWordsVisibility",
              "toPush:3",
              "noInfiniteDuration",
            ],
          },
          {
            name: "plus_three",
            info: "Only three future words are visible.",
            properties: [
              "changesWordsVisibility",
              "toPush:4",
              "noInfiniteDuration",
            ],
          },
          {
            name: "read_ahead_easy",
            info: "Only the current word is invisible.",
            properties: ["changesWordsVisibility"],
            forcedConfig: {
              highlightMode: ["letter", "off"],
            },
            hasCSS: !0,
          },
          {
            name: "read_ahead",
            info: "Current and the next word are invisible!",
            properties: ["changesWordsVisibility"],
            forcedConfig: {
              highlightMode: ["letter", "off"],
            },
            hasCSS: !0,
          },
          {
            name: "read_ahead_hard",
            info: "Current and the next two words are invisible!",
            properties: ["changesWordsVisibility"],
            forcedConfig: {
              highlightMode: ["letter", "off"],
            },
            hasCSS: !0,
          },
          {
            name: "memory",
            info: "Test your memory. Remember the words and type them blind.",
            properties: ["changesWordsVisibility", "noInfiniteDuration"],
            forcedConfig: {
              mode: ["words", "quote", "custom"],
            },
          },
          {
            name: "nospace",
            info: "Whoneedsspacesanyway?",
            properties: ["nospace"],
            forcedConfig: {
              highlightMode: ["letter", "off"],
            },
          },
          {
            name: "poetry",
            info: "Practice typing some beautiful prose.",
            properties: ["noInfiniteDuration", "ignoresLanguage"],
            forcedConfig: {
              punctuation: [!1],
              numbers: [!1],
            },
          },
          {
            name: "wikipedia",
            info: "Practice typing wikipedia sections.",
            properties: ["noInfiniteDuration", "ignoresLanguage"],
            forcedConfig: {
              punctuation: [!1],
              numbers: [!1],
            },
          },
          {
            name: "weakspot",
            info: "Focus on slow and mistyped letters.",
            properties: ["changesWordsFrequency"],
          },
          {
            name: "pseudolang",
            info: "Nonsense words that look like the current language.",
            properties: ["unspeakable", "ignoresLanguage"],
          },
          {
            name: "IPv4",
            alias: "network",
            info: "For sysadmins.",
            properties: ["ignoresLanguage", "ignoresLayout", "noLetters"],
            forcedConfig: {
              numbers: [!1],
            },
          },
          {
            name: "IPv6",
            alias: "network",
            info: "For sysadmins with a long beard.",
            properties: ["ignoresLanguage", "ignoresLayout", "noLetters"],
            forcedConfig: {
              numbers: [!1],
            },
          },
          {
            name: "binary",
            alias: "numbers",
            info: "01000010 01100101 01100101 01110000 00100000 01100010 01101111 01101111 01110000 00101110",
            properties: ["ignoresLanguage", "ignoresLayout", "noLetters"],
            forcedConfig: {
              numbers: [!1],
              punctuation: [!1],
            },
          },
          {
            name: "zipf",
            alias: "frequency",
            info: "Words are generated according to Zipf's law. (not all languages will produce Zipfy results, use with caution)",
            properties: ["changesWordsFrequency"],
          },
          {
            name: "morse",
            info: "-.../././.--./ -.../---/---/.--./-.-.--/ ",
            properties: [
              "ignoresLanguage",
              "ignoresLayout",
              "noLetters",
              "nospace",
            ],
          },
          {
            name: "crt",
            info: "Go back to the 1980s",
            properties: ["noLigatures"],
          },
          {
            name: "backwards",
            info: "...sdrawkcab epyt ot yrt woN",
            properties: [
              "noLigatures",
              "conflictsWithSymmetricChars",
              "wordOrder:reverse",
            ],
          },
          {
            name: "ddoouubblleedd",
            info: "TTyyppee eevveerryytthhiinngg ttwwiiccee..",
            properties: ["noLigatures"],
          },
        ];
        (t.getAll = function () {
          return o;
        }),
          (t.get = function (e) {
            const t = [];
            for (const n of e.split("#")) {
              const e = o.find((e) => e.name === n);
              e && t.push(e);
            }
            return t;
          }),
          (t.setFunboxFunctions = function (e, t) {
            const n = o.find((t) => t.name === e);
            if (!n) throw new Error(`Funbox ${e} not found.`);
            n.functions = t;
          });
      },
      6534: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.load = t.save = void 0);
        let o = {};
        (t.save = function (e, t, n) {
          var i;
          (null !== (i = o[e]) && void 0 !== i) ||
            (o[e] = {
              value: t,
              setFunction: n,
            });
        }),
          (t.load = function () {
            Object.keys(o).forEach((e) => {
              const t = o[e];
              t.setFunction(t.value, !0);
            }),
              (o = {});
          });
      },
      8789: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.areFunboxesCompatible =
            t.canSetFunboxWithConfig =
            t.canSetConfigWithCurrentFunboxes =
            t.checkFunboxForcedConfigs =
              void 0);
        const r = a(o(732)),
          s = a(o(3368)),
          u = a(o(3388));
        function l(e, t, o) {
          var n, i;
          if (0 === r.get(o).length)
            return {
              result: !0,
            };
          if ("words" === e || "time" === e) {
            if (0 === t) {
              "nospace" === o && console.log("break");
              const t = r.get(o).filter((e) => {
                var t;
                return null === (t = e.properties) || void 0 === t
                  ? void 0
                  : t.includes("noInfiniteDuration");
              });
              return t.length > 0
                ? {
                    result: !1,
                    forcedConfigs: ["words" === e ? 10 : 15],
                  }
                : {
                    result: !0,
                  };
            }
            return {
              result: !0,
            };
          }
          {
            const a = {};
            for (const e of r.get(o))
              if (e.forcedConfig)
                for (const t in e.forcedConfig)
                  void 0 === a[t]
                    ? (a[t] = e.forcedConfig[t])
                    : (a[t] = u.intersect(a[t], e.forcedConfig[t], !0));
            if (void 0 === a[e])
              return {
                result: !0,
              };
            if (0 === (null === (n = a[e]) || void 0 === n ? void 0 : n.length))
              throw new Error("No intersection of forced configs");
            return {
              result: (null !== (i = a[e]) && void 0 !== i ? i : []).includes(
                t
              ),
              forcedConfigs: a[e],
            };
          }
        }
        function d(e, t, o, n = !1) {
          let i = 0;
          if ("mode" === e) {
            let e = [];
            (e = e.concat(
              r.get(o).filter((e) => {
                var o, n;
                return (
                  void 0 !==
                    (null === (o = e.forcedConfig) || void 0 === o
                      ? void 0
                      : o.mode) &&
                  !(null === (n = e.forcedConfig) || void 0 === n
                    ? void 0
                    : n.mode.includes(t))
                );
              })
            )),
              "zen" === t &&
                (e = e.concat(
                  r.get(o).filter((e) => {
                    var t, o, n, i, a, r, s, u, l, d, c;
                    return (
                      (null === (t = e.functions) || void 0 === t
                        ? void 0
                        : t.getWord) ||
                      (null === (o = e.functions) || void 0 === o
                        ? void 0
                        : o.pullSection) ||
                      (null === (n = e.functions) || void 0 === n
                        ? void 0
                        : n.alterText) ||
                      (null === (i = e.functions) || void 0 === i
                        ? void 0
                        : i.withWords) ||
                      (null === (a = e.properties) || void 0 === a
                        ? void 0
                        : a.includes("changesCapitalisation")) ||
                      (null === (r = e.properties) || void 0 === r
                        ? void 0
                        : r.includes("nospace")) ||
                      (null === (s = e.properties) || void 0 === s
                        ? void 0
                        : s.find((e) => e.startsWith("toPush:"))) ||
                      (null === (u = e.properties) || void 0 === u
                        ? void 0
                        : u.includes("changesWordsVisibility")) ||
                      (null === (l = e.properties) || void 0 === l
                        ? void 0
                        : l.includes("speaks")) ||
                      (null === (d = e.properties) || void 0 === d
                        ? void 0
                        : d.includes("changesLayout")) ||
                      (null === (c = e.properties) || void 0 === c
                        ? void 0
                        : c.includes("changesWordsFrequency"))
                    );
                  })
                )),
              ("quote" !== t && "custom" !== t) ||
                (e = e.concat(
                  r.get(o).filter((e) => {
                    var t, o, n, i;
                    return (
                      (null === (t = e.functions) || void 0 === t
                        ? void 0
                        : t.getWord) ||
                      (null === (o = e.functions) || void 0 === o
                        ? void 0
                        : o.pullSection) ||
                      (null === (n = e.functions) || void 0 === n
                        ? void 0
                        : n.withWords) ||
                      (null === (i = e.properties) || void 0 === i
                        ? void 0
                        : i.includes("changesWordsFrequency"))
                    );
                  })
                )),
              e.length > 0 && (i += 1);
          }
          if ("words" === e || "time" === e) {
            if (!l(e, t, o).result) {
              if (!n)
                return (
                  s.add("Active funboxes do not support infinite tests", 0), !1
                );
              i += 1;
            }
          } else l(e, t, o).result || (i += 1);
          return !(
            i > 0 &&
            (n ||
              s.add(
                `You can't set ${u.camelCaseToWords(
                  e
                )} to ${t} with currently active funboxes.`,
                0,
                {
                  duration: 5,
                }
              ),
            1)
          );
        }
        (t.checkFunboxForcedConfigs = l),
          (t.canSetConfigWithCurrentFunboxes = d),
          (t.canSetFunboxWithConfig = function (e, t) {
            console.log("cansetfunboxwithconfig", e, t.mode);
            let o = t.funbox;
            "none" === o ? (o = e) : (o += "#" + e);
            const n = [];
            for (const [e, i] of Object.entries(t))
              d(e, i, o, !0) ||
                n.push({
                  key: e,
                  value: i,
                });
            if (n.length > 0) {
              const t = [];
              for (const e of n)
                t.push(
                  `${u.capitalizeFirstLetter(
                    u.camelCaseToWords(e.key)
                  )} cannot be set to ${e.value}.`
                );
              return (
                s.add(
                  `You can't enable ${e.replace(/_/g, " ")}:<br>${t.join(
                    "<br>"
                  )}`,
                  0,
                  {
                    duration: 5,
                    allowHTML: !0,
                  }
                ),
                !1
              );
            }
            return !0;
          }),
          (t.areFunboxesCompatible = function (e, t) {
            if ("none" === t || "none" === e) return !0;
            let o = r.get(e);
            void 0 !== t &&
              (o = o.concat(r.getAll().filter((e) => e.name === t)));
            const n =
                r
                  .get(e)
                  .filter(
                    (t) => void 0 !== e.split("#").find((e) => e === t.name)
                  ).length === e.split("#").length,
              i =
                o.filter((e) => {
                  var t, o, n;
                  return (
                    (null === (t = e.functions) || void 0 === t
                      ? void 0
                      : t.getWord) ||
                    (null === (o = e.functions) || void 0 === o
                      ? void 0
                      : o.pullSection) ||
                    (null === (n = e.functions) || void 0 === n
                      ? void 0
                      : n.withWords)
                  );
                }).length <= 1,
              a =
                0 ===
                  o.filter((e) => {
                    var t;
                    return null === (t = e.properties) || void 0 === t
                      ? void 0
                      : t.find((e) => "changesLayout" === e);
                  }).length ||
                0 ===
                  o.filter((e) => {
                    var t;
                    return null === (t = e.properties) || void 0 === t
                      ? void 0
                      : t.find(
                          (e) => "ignoresLayout" === e || "usesLayout" === e
                        );
                  }).length,
              s =
                o.filter((e) => {
                  var t;
                  return null === (t = e.properties) || void 0 === t
                    ? void 0
                    : t.find((e) => "nospace" === e || e.startsWith("toPush"));
                }).length <= 1,
              l =
                o.filter((e) => {
                  var t;
                  return null === (t = e.properties) || void 0 === t
                    ? void 0
                    : t.find((e) => "changesWordsVisibility" === e);
                }).length <= 1,
              d =
                o.filter((e) => {
                  var t;
                  return null === (t = e.properties) || void 0 === t
                    ? void 0
                    : t.find((e) => "changesWordsFrequency" === e);
                }).length <= 1,
              c =
                0 ===
                  o.filter((e) => {
                    var t;
                    return null === (t = e.properties) || void 0 === t
                      ? void 0
                      : t.find((e) => "changesWordsFrequency" === e);
                  }).length ||
                0 ===
                  o.filter((e) => {
                    var t;
                    return null === (t = e.properties) || void 0 === t
                      ? void 0
                      : t.find((e) => "ignoresLanguage" === e);
                  }).length,
              p =
                0 ===
                  o.filter((e) => {
                    var t;
                    return null === (t = e.properties) || void 0 === t
                      ? void 0
                      : t.find((e) => "noLetters" === e);
                  }).length ||
                0 ===
                  o.filter((e) => {
                    var t;
                    return null === (t = e.properties) || void 0 === t
                      ? void 0
                      : t.find((e) => "changesCapitalisation" === e);
                  }).length,
              f =
                0 ===
                  o.filter((e) => {
                    var t;
                    return null === (t = e.properties) || void 0 === t
                      ? void 0
                      : t.find((e) => "conflictsWithSymmetricChars" === e);
                  }).length ||
                0 ===
                  o.filter((e) => {
                    var t;
                    return null === (t = e.properties) || void 0 === t
                      ? void 0
                      : t.find((e) => "symmetricChars" === e);
                  }).length,
              h =
                o.filter((e) => {
                  var t;
                  return null === (t = e.properties) || void 0 === t
                    ? void 0
                    : t.find((e) => "speaks" === e);
                }).length <= 1,
              m =
                0 ===
                  o.filter((e) => {
                    var t;
                    return null === (t = e.properties) || void 0 === t
                      ? void 0
                      : t.find((e) => "speaks" === e);
                  }).length ||
                (1 ===
                  o.filter((e) => {
                    var t;
                    return null === (t = e.properties) || void 0 === t
                      ? void 0
                      : t.find((e) => "speaks" === e);
                  }).length &&
                  0 ===
                    o.filter((e) => {
                      var t;
                      return null === (t = e.properties) || void 0 === t
                        ? void 0
                        : t.find((e) => "unspeakable" === e);
                    }).length) ||
                0 ===
                  o.filter((e) => {
                    var t;
                    return null === (t = e.properties) || void 0 === t
                      ? void 0
                      : t.find((e) => "ignoresLanguage" === e);
                  }).length,
              g =
                o.filter((e) => {
                  var t, o;
                  return (
                    (null === (t = e.properties) || void 0 === t
                      ? void 0
                      : t.find((e) => e.startsWith("toPush:"))) ||
                    (null === (o = e.functions) || void 0 === o
                      ? void 0
                      : o.pullSection)
                  );
                }).length <= 1,
              v = o.filter((e) => 1 == e.hasCSS).length <= 1,
              y =
                o.filter((e) => {
                  var t;
                  return null === (t = e.functions) || void 0 === t
                    ? void 0
                    : t.punctuateWord;
                }).length <= 1,
              b =
                o.filter((e) => {
                  var t;
                  return null === (t = e.functions) || void 0 === t
                    ? void 0
                    : t.isCharCorrect;
                }).length <= 1,
              w =
                o.filter((e) => {
                  var t;
                  return null === (t = e.functions) || void 0 === t
                    ? void 0
                    : t.getWordHtml;
                }).length <= 1,
              $ = {};
            let _ = !0;
            for (const e of o)
              if (e.forcedConfig)
                for (const t in e.forcedConfig)
                  if ($[t]) {
                    if (0 === u.intersect($[t], e.forcedConfig[t], !0).length) {
                      _ = !1;
                      break;
                    }
                  } else $[t] = e.forcedConfig[t];
            return (
              n &&
              i &&
              a &&
              s &&
              l &&
              d &&
              c &&
              p &&
              f &&
              h &&
              m &&
              g &&
              v &&
              y &&
              b &&
              w &&
              _
            );
          });
      },
      2591: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.rememberSettings =
            t.activate =
            t.clear =
            t.toggleFunbox =
            t.setFunbox =
            t.toggleScript =
              void 0);
        const s = a(o(3368)),
          u = a(o(3388)),
          l = a(o(2203)),
          d = a(o(6705)),
          c = d,
          p = a(o(556)),
          f = a(o(6534)),
          h = a(o(732)),
          m = o(6534),
          g = a(o(5012)),
          v = a(o(5368)),
          y = a(o(9470)),
          b = a(o(4897)),
          w = a(o(5708)),
          _ = o(3118),
          C = o(277),
          S = a(o(7095)),
          x = o(8789),
          P = o(4905),
          k = a(o(6883));
        class T {
          constructor() {
            (this.chars = {}), (this.count = 0);
          }
          addChar(e) {
            this.count++,
              e in this.chars ? this.chars[e]++ : (this.chars[e] = 1);
          }
          randomChar() {
            const e = u.randomIntFromRange(0, this.count - 1);
            let t = 0;
            for (const [o, n] of Object.entries(this.chars))
              if (((t += n), t > e)) return o;
            return Object.keys(this.chars)[0];
          }
        }
        class O extends P.Wordset {
          constructor(e) {
            super(e), (this.ngrams = {}), (this.length = 1 / 0);
            for (let t of e) {
              t += " ";
              let e = "";
              for (const o of t)
                e in this.ngrams || (this.ngrams[e] = new T()),
                  this.ngrams[e].addChar(o),
                  (e = (e + o).slice(-2));
            }
          }
          randomWord() {
            let e = "";
            for (;;) {
              const t = e.slice(-2),
                o = this.ngrams[t];
              if (!o) {
                e = "";
                continue;
              }
              const n = o.randomChar();
              if (" " === n) break;
              e += n;
            }
            return e;
          }
        }
        function M(e) {
          return (
            "none" === e &&
              h.get(d.default.funbox).forEach((e) => {
                var t, o;
                return null ===
                  (o =
                    null === (t = e.functions) || void 0 === t
                      ? void 0
                      : t.clearGlobal) || void 0 === o
                  ? void 0
                  : o.call(t);
              }),
            f.load(),
            c.setFunbox(e, !1),
            !0
          );
        }
        function A(e) {
          if (
            ("none" === e && M("none"),
            !(0, x.areFunboxesCompatible)(d.default.funbox, e) &&
              !d.default.funbox.split("#").includes(e))
          )
            return (
              s.add(
                `${u.capitalizeFirstLetter(
                  e.replace(/_/g, " ")
                )} funbox is not compatible with the current funbox selection`,
                0
              ),
              !0
            );
          f.load();
          const t = c.toggleFunbox(e, !1);
          return (
            d.default.funbox.includes(e)
              ? h.get(e).forEach((e) => {
                  var t, o;
                  return null ===
                    (o =
                      null === (t = e.functions) || void 0 === t
                        ? void 0
                        : t.applyGlobalCSS) || void 0 === o
                    ? void 0
                    : o.call(t);
                })
              : h.get(e).forEach((e) => {
                  var t, o;
                  return null ===
                    (o =
                      null === (t = e.functions) || void 0 === t
                        ? void 0
                        : t.clearGlobal) || void 0 === o
                    ? void 0
                    : o.call(t);
                }),
            !1 !== t && !0 !== t
          );
        }
        function j() {
          var e, t, o, n;
          return r(this, void 0, void 0, function* () {
            return (
              $("body").attr(
                "class",
                (null ===
                  (n =
                    null ===
                      (o =
                        null ===
                          (t =
                            null === (e = $("body")) || void 0 === e
                              ? void 0
                              : e.attr("class")) || void 0 === t
                          ? void 0
                          : t.split(/\s+/)) || void 0 === o
                      ? void 0
                      : o.filter((e) => !e.startsWith("fb-"))) || void 0 === n
                  ? void 0
                  : n.join(" ")) || ""
              ),
              $("#funBoxTheme").removeAttr("href"),
              $("#wordsWrapper").removeClass("hidden"),
              p.reset(),
              l.set(),
              !0
            );
          });
        }
        h.setFunboxFunctions("simon_says", {
          applyConfig() {
            c.setKeymapMode("next", !0);
          },
          rememberSettings() {
            (0, m.save)("keymapMode", d.default.keymapMode, c.setKeymapMode);
          },
        }),
          h.setFunboxFunctions("tts", {
            applyConfig() {
              c.setKeymapMode("off", !0);
            },
            rememberSettings() {
              (0, m.save)("keymapMode", d.default.keymapMode, c.setKeymapMode);
            },
            toggleScript(e) {
              void 0 !== window.speechSynthesis
                ? e[0] && g.dispatch(e[0])
                : s.add("Failed to load text-to-speech script", -1);
            },
          }),
          h.setFunboxFunctions("arrows", {
            getWord: (e, t) => u.chart2Word(0 === t),
            rememberSettings() {
              (0, m.save)(
                "highlightMode",
                d.default.highlightMode,
                c.setHighlightMode
              );
            },
            handleChar: (e) =>
              "a" === e || "ArrowLeft" === e || "j" === e
                ? ""
                : "s" === e || "ArrowDown" === e || "k" === e
                ? ""
                : "w" === e || "ArrowUp" === e || "i" === e
                ? ""
                : "d" === e || "ArrowRight" === e || "l" === e
                ? ""
                : e,
            isCharCorrect: (e, t) =>
              (("a" === e || "ArrowLeft" === e || "j" === e) && "" === t) ||
              (("s" === e || "ArrowDown" === e || "k" === e) && "" === t) ||
              (("w" === e || "ArrowUp" === e || "i" === e) && "" === t) ||
              (("d" === e || "ArrowRight" === e || "l" === e) && "" === t),
            preventDefaultEvent(e) {
              return r(this, void 0, void 0, function* () {
                return [
                  "ArrowLeft",
                  "ArrowUp",
                  "ArrowRight",
                  "ArrowDown",
                ].includes(e.key);
              });
            },
            getWordHtml(e, t) {
              let o = "";
              return (
                "" === e &&
                  (t && (o += "<letter>"),
                  (o += '<i class="fas fa-arrow-up"></i>'),
                  t && (o += "</letter>")),
                "" === e &&
                  (t && (o += "<letter>"),
                  (o += '<i class="fas fa-arrow-down"></i>'),
                  t && (o += "</letter>")),
                "" === e &&
                  (t && (o += "<letter>"),
                  (o += '<i class="fas fa-arrow-left"></i>'),
                  t && (o += "</letter>")),
                "" === e &&
                  (t && (o += "<letter>"),
                  (o += '<i class="fas fa-arrow-right"></i>'),
                  t && (o += "</letter>")),
                o
              );
            },
          }),
          h.setFunboxFunctions("rAnDoMcAsE", {
            alterText(e) {
              let t = e[0];
              for (let o = 1; o < e.length; o++)
                t[o - 1] === t[o - 1].toUpperCase()
                  ? (t += e[o].toLowerCase())
                  : (t += e[o].toUpperCase());
              return t;
            },
          }),
          h.setFunboxFunctions("backwards", {
            alterText: (e) => e.split("").reverse().join(""),
          }),
          h.setFunboxFunctions("capitals", {
            alterText: (e) => u.capitalizeFirstLetterOfEachWord(e),
          }),
          h.setFunboxFunctions("layoutfluid", {
            applyConfig() {
              var e;
              const t =
                null !== (e = d.default.customLayoutfluid.split("#")[0]) &&
                void 0 !== e
                  ? e
                  : "qwerty";
              c.setLayout(t, !0), c.setKeymapLayout(t, !0);
            },
            rememberSettings() {
              (0, m.save)("keymapMode", d.default.keymapMode, c.setKeymapMode),
                (0, m.save)("layout", d.default.layout, c.setLayout),
                (0, m.save)(
                  "keymapLayout",
                  d.default.keymapLayout,
                  c.setKeymapLayout
                );
            },
            handleSpace() {
              if ("time" !== d.default.mode) {
                const e = d.default.customLayoutfluid
                    ? d.default.customLayoutfluid.split("#")
                    : ["qwerty", "dvorak", "colemak"],
                  t = y.words.length,
                  o = Math.floor(t / e.length),
                  n = Math.floor((b.input.history.length + 1) / o),
                  i = o - ((y.words.currentIndex + 1) % o);
                e[n]
                  ? (i <= 3 && e[n + 1]
                      ? (k.show(), k.updateWords(i, e[n + 1]))
                      : k.hide(),
                    i === o &&
                      (c.setLayout(e[n]),
                      c.setKeymapLayout(e[n]),
                      i > 3 && k.hide()))
                  : k.hide(),
                  setTimeout(() => {
                    v.highlight(
                      y.words
                        .getCurrent()
                        .charAt(b.input.current.length)
                        .toString()
                    );
                  }, 1);
              }
            },
            getResultContent: () =>
              d.default.customLayoutfluid.replace(/#/g, " "),
            restart() {
              this.applyConfig && this.applyConfig(),
                setTimeout(() => {
                  v.highlight(
                    y.words
                      .getCurrent()
                      .substring(
                        b.input.current.length,
                        b.input.current.length + 1
                      )
                      .toString()
                  );
                }, 1);
            },
          }),
          h.setFunboxFunctions("gibberish", {
            getWord: () => u.getGibberish(),
          }),
          h.setFunboxFunctions("58008", {
            getWord() {
              let e = u.getNumbers(7);
              return (
                d.default.language.startsWith("kurdish")
                  ? (e = u.convertNumberToArabic(e))
                  : d.default.language.startsWith("nepali") &&
                    (e = u.convertNumberToNepali(e)),
                e
              );
            },
            punctuateWord(e) {
              if (
                e.length > 3 &&
                (Math.random() < 0.5 &&
                  (e = u.setCharAt(
                    e,
                    u.randomIntFromRange(1, e.length - 2),
                    "."
                  )),
                Math.random() < 0.75)
              ) {
                const t = u.randomIntFromRange(1, e.length - 2);
                if ("." !== e[t - 1] && "." !== e[t + 1] && "0" !== e[t + 1]) {
                  const o = u.randomElementFromArray(["/", "*", "-", "+"]);
                  e = u.setCharAt(e, t, o);
                }
              }
              return e;
            },
            rememberSettings() {
              (0, m.save)("numbers", d.default.numbers, c.setNumbers);
            },
            handleChar: (e) => ("\n" === e ? " " : e),
          }),
          h.setFunboxFunctions("ascii", {
            getWord: () => u.getASCII(),
            punctuateWord: (e) => e,
          }),
          h.setFunboxFunctions("specials", {
            getWord: () => u.getSpecials(),
          }),
          h.setFunboxFunctions("read_ahead_easy", {
            rememberSettings() {
              (0, m.save)(
                "highlightMode",
                d.default.highlightMode,
                c.setHighlightMode
              );
            },
          }),
          h.setFunboxFunctions("read_ahead", {
            rememberSettings() {
              (0, m.save)(
                "highlightMode",
                d.default.highlightMode,
                c.setHighlightMode
              );
            },
          }),
          h.setFunboxFunctions("read_ahead_hard", {
            rememberSettings() {
              (0, m.save)(
                "highlightMode",
                d.default.highlightMode,
                c.setHighlightMode
              );
            },
          }),
          h.setFunboxFunctions("memory", {
            applyConfig() {
              $("#wordsWrapper").addClass("hidden"),
                c.setShowAllLines(!0, !0),
                "next" === d.default.keymapMode && c.setKeymapMode("react", !0);
            },
            rememberSettings() {
              (0, m.save)("mode", d.default.mode, c.setMode),
                (0, m.save)(
                  "showAllLines",
                  d.default.showAllLines,
                  c.setShowAllLines
                ),
                "next" === d.default.keymapMode &&
                  (0, m.save)(
                    "keymapMode",
                    d.default.keymapMode,
                    c.setKeymapMode
                  );
            },
            start() {
              p.reset(), $("#wordsWrapper").addClass("hidden");
            },
            restart() {
              p.start(),
                "next" === d.default.keymapMode && c.setKeymapMode("react");
            },
          }),
          h.setFunboxFunctions("nospace", {
            rememberSettings() {
              (0, m.save)(
                "highlightMode",
                d.default.highlightMode,
                c.setHighlightMode
              );
            },
          }),
          h.setFunboxFunctions("poetry", {
            pullSection() {
              return r(this, void 0, void 0, function* () {
                return (0, _.getPoem)();
              });
            },
          }),
          h.setFunboxFunctions("wikipedia", {
            pullSection(e) {
              return r(this, void 0, void 0, function* () {
                return (0, C.getSection)(e || "english");
              });
            },
          }),
          h.setFunboxFunctions("weakspot", {
            getWord: (e) => (void 0 !== e ? w.getWord(e) : ""),
          }),
          h.setFunboxFunctions("pseudolang", {
            withWords(e) {
              return r(this, void 0, void 0, function* () {
                return void 0 !== e ? new O(e) : new P.Wordset([]);
              });
            },
          }),
          h.setFunboxFunctions("IPv4", {
            getWord: () => S.getRandomIPv4address(),
            punctuateWord(e) {
              let t = e;
              return Math.random() < 0.25 && (t = S.addressToCIDR(e)), t;
            },
            rememberSettings() {
              (0, m.save)("numbers", d.default.numbers, c.setNumbers);
            },
          }),
          h.setFunboxFunctions("IPv6", {
            getWord: () => S.getRandomIPv6address(),
            punctuateWord(e) {
              let t = e;
              return (
                Math.random() < 0.25 && (t = S.addressToCIDR(e)),
                t.includes(":") &&
                  (t = t
                    .replace(/\b(?:0+:){2,}/, "::")
                    .split(":")
                    .map((e) => e.replace(/\b0+/g, ""))
                    .join(":")),
                t
              );
            },
            rememberSettings() {
              (0, m.save)("numbers", d.default.numbers, c.setNumbers);
            },
          }),
          h.setFunboxFunctions("binary", {
            getWord: () => u.getBinary(),
          }),
          h.setFunboxFunctions("zipf", {
            getWordsFrequencyMode: () => "zipf",
          }),
          h.setFunboxFunctions("ddoouubblleedd", {
            alterText: (e) => e.replace(/./gu, "$&$&"),
          }),
          (t.toggleScript = function (...e) {
            h.get(d.default.funbox).forEach((t) => {
              var o;
              (null === (o = t.functions) || void 0 === o
                ? void 0
                : o.toggleScript) && t.functions.toggleScript(e);
            });
          }),
          (t.setFunbox = M),
          (t.toggleFunbox = A),
          (t.clear = j),
          (t.activate = function (e) {
            return r(this, void 0, void 0, function* () {
              if (
                (null == e
                  ? (e = d.default.funbox)
                  : d.default.funbox !== e && (d.default.funbox = e),
                !(0, x.areFunboxesCompatible)(d.default.funbox))
              )
                return (
                  s.add(
                    u.createErrorMessage(
                      void 0,
                      `Failed to activate funbox: funboxes ${d.default.funbox.replace(
                        /_/g,
                        " "
                      )} are not compatible`
                    ),
                    -1
                  ),
                  c.setFunbox("none", !0),
                  yield j(),
                  !1
                );
              let t;
              p.reset(),
                yield (function () {
                  var e, t;
                  return r(this, void 0, void 0, function* () {
                    const o = $("body"),
                      n = h
                        .get(d.default.funbox)
                        .map((e) => "fb-" + e.name.replaceAll("_", "-")),
                      i =
                        (null ===
                          (t =
                            null ===
                              (e = null == o ? void 0 : o.attr("class")) ||
                            void 0 === e
                              ? void 0
                              : e.split(/\s+/)) || void 0 === t
                          ? void 0
                          : t.filter((e) => !e.startsWith("fb-"))) || [];
                    return o.attr("class", [...i, ...n].join(" ")), !0;
                  });
                })(),
                yield (function () {
                  return r(this, void 0, void 0, function* () {
                    const e = $("#funBoxTheme"),
                      t = h.get(d.default.funbox).find((e) => 1 == e.hasCSS),
                      o = null != t ? "funbox/" + t.name + ".css" : "";
                    return (
                      o != (e.attr("href") || null) && e.attr("href", o), !0
                    );
                  });
                })(),
                $("#wordsWrapper").removeClass("hidden");
              try {
                t = yield u.getCurrentLanguage(d.default.language);
              } catch (e) {
                return (
                  s.add(
                    u.createErrorMessage(e, "Failed to activate funbox"),
                    -1
                  ),
                  c.setFunbox("none", !0),
                  yield j(),
                  !1
                );
              }
              if (
                t.ligatures &&
                h.get(d.default.funbox).find((e) => {
                  var t;
                  return null === (t = e.properties) || void 0 === t
                    ? void 0
                    : t.includes("noLigatures");
                })
              )
                return (
                  s.add(
                    "Current language does not support this funbox mode",
                    0
                  ),
                  c.setFunbox("none", !0),
                  void (yield j())
                );
              let o = !0;
              for (const [e, t] of Object.entries(d.default)) {
                const n = (0, x.checkFunboxForcedConfigs)(
                  e,
                  t,
                  d.default.funbox
                );
                if (!0 !== n.result && !1 === n.result) {
                  if (!(n.forcedConfigs && n.forcedConfigs.length > 0)) {
                    o = !1;
                    break;
                  }
                  "mode" === e && c.setMode(n.forcedConfigs[0]),
                    "words" === e && c.setWordCount(n.forcedConfigs[0]),
                    "time" === e && c.setTimeConfig(n.forcedConfigs[0]),
                    "punctuation" === e && c.setPunctuation(n.forcedConfigs[0]),
                    "numbers" === e && c.setNumbers(n.forcedConfigs[0]),
                    "highlightMode" === e &&
                      c.setHighlightMode(n.forcedConfigs[0]);
                }
              }
              return o
                ? (l.set(),
                  h.get(d.default.funbox).forEach((e) =>
                    r(this, void 0, void 0, function* () {
                      var t, o;
                      null ===
                        (o =
                          null === (t = e.functions) || void 0 === t
                            ? void 0
                            : t.applyConfig) ||
                        void 0 === o ||
                        o.call(t);
                    })
                  ),
                  !0)
                : (d.default.funbox.includes("#")
                    ? s.add(
                        `Failed to activate funboxes ${d.default.funbox}: no intersecting forced configs. Disabling funbox`,
                        -1
                      )
                    : s.add(
                        `Failed to activate funbox ${d.default.funbox}: no forced configs. Disabling funbox`,
                        -1
                      ),
                  c.setFunbox("none", !0),
                  void (yield j()));
            });
          }),
          (t.rememberSettings = function () {
            return r(this, void 0, void 0, function* () {
              h.get(d.default.funbox).forEach((e) =>
                r(this, void 0, void 0, function* () {
                  var t;
                  (null === (t = e.functions) || void 0 === t
                    ? void 0
                    : t.rememberSettings) && e.functions.rememberSettings();
                })
              );
            });
          }),
          h.setFunboxFunctions("morse", {
            alterText: (e) => u.convertToMorse(e),
          }),
          h.setFunboxFunctions("crt", {
            applyGlobalCSS() {
              var e, t;
              if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {
                const o = navigator.userAgent.match(
                    /.*Version\/([0-9]*)\.([0-9]*).*/
                  ),
                  n =
                    null !== o
                      ? parseInt(null !== (e = o[1]) && void 0 !== e ? e : "0")
                      : 0,
                  i =
                    null !== o
                      ? parseInt(null !== (t = o[2]) && void 0 !== t ? t : "0")
                      : 0;
                if (n <= 16 && i <= 5)
                  return (
                    s.add(
                      "CRT is not available on Safari 16.5 or earlier.",
                      0,
                      {
                        duration: 5,
                      }
                    ),
                    void A("crt")
                  );
              }
              $("body").append('<div id="scanline" />'),
                $("body").addClass("crtmode"),
                $("#globalFunBoxTheme").attr("href", "funbox/crt.css");
            },
            clearGlobal() {
              $("#scanline").remove(),
                $("body").removeClass("crtmode"),
                $("#globalFunBoxTheme").attr("href", "");
            },
          });
      },
      6883: function (e, t, o) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.updateWords = t.updateTime = t.hide = t.show = void 0);
        const n = o(3388);
        (t.show = function () {
          $("#typingTest #layoutfluidTimer").stop(!0, !0).animate(
            {
              opacity: 1,
            },
            125
          );
        }),
          (t.hide = function () {
            $("#typingTest #layoutfluidTimer").stop(!0, !0).animate(
              {
                opacity: 0,
              },
              125
            );
          }),
          (t.updateTime = function (e, t) {
            $("#typingTest #layoutfluidTimer").text(
              `${(0, n.capitalizeFirstLetter)(t)} in: ${e}s`
            );
          }),
          (t.updateWords = function (e, t) {
            const o = (0, n.capitalizeFirstLetter)(t.replace(/_/g, " "));
            let i = `${o} in: ${e} words`;
            1 === e && (i = `${o} starting next word`),
              $("#typingTest #layoutfluidTimer").text(i);
          });
      },
      556: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.update = t.start = t.reset = t.hide = t.show = void 0);
        const r = a(o(9470));
        let s = null,
          u = null;
        function l() {
          $("#typingTest #memoryTimer").stop(!0, !0).animate(
            {
              opacity: 1,
            },
            125
          );
        }
        function d() {
          $("#typingTest #memoryTimer").stop(!0, !0).animate(
            {
              opacity: 0,
            },
            125
          );
        }
        function c() {
          null !== u && (clearInterval(u), (u = null)), (s = null), d();
        }
        function p(e) {
          $("#typingTest #memoryTimer").text(
            `Timer left to memorise all words: ${e}s`
          );
        }
        (t.show = l),
          (t.hide = d),
          (t.reset = c),
          (t.start = function () {
            c(),
              (s = Math.round(Math.pow(r.words.length, 1.2))),
              p(s),
              l(),
              (u = setInterval(() => {
                null !== s &&
                  ((s -= 1),
                  0 === s ? d() : p(s),
                  s <= 0 && (c(), $("#wordsWrapper").addClass("hidden")));
              }, 1e3));
          }),
          (t.update = p);
      },
      7095: function (e, t, o) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.addressToCIDR =
            t.getRandomIPv6address =
            t.getRandomIPv4address =
              void 0);
        const n = o(3388);
        function i(e, t, o, i, a) {
          const r = [],
            s = Math.round(e / t);
          for (let e = 0; e < t; e++) {
            let e = (0, n.randomIntFromRange)(0, Math.pow(2, s) - 1).toString(
              o
            );
            if (i) {
              const t = Math.ceil(s / Math.ceil(Math.log2(o)));
              e = "0".repeat(Math.max(0, t - e.length)) + e;
            }
            r.push(e);
          }
          return r.join(a);
        }
        function a(e, t, o, n, i, a) {
          const r = i.split(n).map((e) => parseInt(e, o)),
            s = Math.round(e / t);
          let u = a;
          for (let e = 0; e < t; e++)
            (u -= s),
              u < 0 &&
                (-u <= s
                  ? (r[e] &= (Math.pow(2, s) - 1) ^ (Math.pow(2, -u) - 1))
                  : (r[e] = 0));
          return r.map((e) => e.toString(o)).join(n) + "/" + a.toString();
        }
        (t.getRandomIPv4address = function () {
          return i(32, 4, 10, !1, ".");
        }),
          (t.getRandomIPv6address = function () {
            return i(128, 8, 16, !0, ":");
          }),
          (t.addressToCIDR = function (e) {
            return e.includes(":")
              ? a(128, 8, 16, ":", e, 4 * (0, n.randomIntFromRange)(16, 32))
              : a(32, 4, 10, ".", e, (0, n.randomIntFromRange)(8, 32));
          });
      },
      4583: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.getCharFromEvent = void 0);
        const u = s(o(6705)),
          l = a(o(3388)),
          d = o(4173),
          c = a(o(3368));
        let p = !1;
        const f = /\p{P}/u;
        function h(e) {
          const t = "AltLeft" === e.code && navigator.userAgent.includes("Mac");
          ("AltRight" === e.code || t) &&
            ("keydown" === e.type && (p = !0), "keyup" === e.type && (p = !1));
        }
        (t.getCharFromEvent = function (e) {
          var t;
          return r(this, void 0, void 0, function* () {
            let o;
            try {
              o = yield l.getLayout(u.default.layout);
            } catch (e) {
              return (
                c.add(l.createErrorMessage(e, "Failed to emulate event"), -1),
                null
              );
            }
            let n = [];
            if (
              ("ansi" === o.type
                ? (n = [
                    "Backquote",
                    "Digit1",
                    "Digit2",
                    "Digit3",
                    "Digit4",
                    "Digit5",
                    "Digit6",
                    "Digit7",
                    "Digit8",
                    "Digit9",
                    "Digit0",
                    "Minus",
                    "Equal",
                    "KeyQ",
                    "KeyW",
                    "KeyE",
                    "KeyR",
                    "KeyT",
                    "KeyY",
                    "KeyU",
                    "KeyI",
                    "KeyO",
                    "KeyP",
                    "BracketLeft",
                    "BracketRight",
                    "Backslash",
                    "KeyA",
                    "KeyS",
                    "KeyD",
                    "KeyF",
                    "KeyG",
                    "KeyH",
                    "KeyJ",
                    "KeyK",
                    "KeyL",
                    "Semicolon",
                    "Quote",
                    "KeyZ",
                    "KeyX",
                    "KeyC",
                    "KeyV",
                    "KeyB",
                    "KeyN",
                    "KeyM",
                    "Comma",
                    "Period",
                    "Slash",
                    "Space",
                  ])
                : "iso" === o.type
                ? (n = [
                    "Backquote",
                    "Digit1",
                    "Digit2",
                    "Digit3",
                    "Digit4",
                    "Digit5",
                    "Digit6",
                    "Digit7",
                    "Digit8",
                    "Digit9",
                    "Digit0",
                    "Minus",
                    "Equal",
                    "KeyQ",
                    "KeyW",
                    "KeyE",
                    "KeyR",
                    "KeyT",
                    "KeyY",
                    "KeyU",
                    "KeyI",
                    "KeyO",
                    "KeyP",
                    "BracketLeft",
                    "BracketRight",
                    "KeyA",
                    "KeyS",
                    "KeyD",
                    "KeyF",
                    "KeyG",
                    "KeyH",
                    "KeyJ",
                    "KeyK",
                    "KeyL",
                    "Semicolon",
                    "Quote",
                    "Backslash",
                    "IntlBackslash",
                    "KeyZ",
                    "KeyX",
                    "KeyC",
                    "KeyV",
                    "KeyB",
                    "KeyN",
                    "KeyM",
                    "Comma",
                    "Period",
                    "Slash",
                    "Space",
                  ])
                : "matrix" === o.type &&
                  (n = [
                    "Backquote",
                    "Digit1",
                    "Digit2",
                    "Digit3",
                    "Digit4",
                    "Digit5",
                    "Digit6",
                    "Digit7",
                    "Digit8",
                    "Digit9",
                    "Digit0",
                    "Minus",
                    "Equal",
                    "KeyQ",
                    "KeyW",
                    "KeyE",
                    "KeyR",
                    "KeyT",
                    "KeyY",
                    "KeyU",
                    "KeyI",
                    "KeyO",
                    "KeyP",
                    "BracketLeft",
                    "BracketRight",
                    "Backslash",
                    "KeyA",
                    "KeyS",
                    "KeyD",
                    "KeyF",
                    "KeyG",
                    "KeyH",
                    "KeyJ",
                    "KeyK",
                    "KeyL",
                    "Semicolon",
                    "Quote",
                    "KeyZ",
                    "KeyX",
                    "KeyC",
                    "KeyV",
                    "KeyB",
                    "KeyN",
                    "KeyM",
                    "Comma",
                    "Period",
                    "Slash",
                    "Space",
                  ]),
              !n.includes(e.code))
            )
              return null;
            const i = o.keys,
              a = i.row1
                .concat(i.row2)
                .concat(i.row3)
                .concat(i.row4)
                .concat(i.row5),
              r = n.indexOf(e.code);
            if (-1 === r) return e.code.includes("Numpad") ? e.key : null;
            const s = (function (e, t) {
              let o = e.shiftKey;
              const n = p && t.length > 2 ? 2 : 0,
                i = !f.test(t.slice(n, n + 2));
              d.capsState && i && (o = !e.shiftKey);
              const a = t[(o ? 1 : 0) + n],
                r = t[o ? 1 : 0],
                s = t[0];
              return a || r || s;
            })(e, null !== (t = a[r]) && void 0 !== t ? t : "");
            return void 0 !== s ? s : null;
          });
        }),
          $(document).on("keydown", h),
          $(document).on("keyup", h);
      },
      3439: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.replaceAccents = void 0);
        const o = new Map(
          [
            ["", "a"],
            ["", "e"],
            ["", "i"],
            ["", "o"],
            ["", "u"],
            ["", "n"],
            ["", "c"],
            ["", "r"],
            ["", "d"],
            ["", "t"],
            ["", "m"],
            ["", "ae"],
            ["", "oe"],
            ["", "w"],
            ["g", "g"],
            ["", "h"],
            ["", "j"],
            ["", "n"],
            ["", "s"],
            ["", "ss"],
            ["", "z"],
            ["", "y"],
            ["", "l"],
            ["", ""],
            ["", ""],
            ["", ""],
            ["", ""],
            ["", ""],
            ["", ""],
            ["", ""],
            ["", ""],
            ["", ""],
            ["", ""],
            ["", ""],
            ["", ""],
            ["", ""],
            ["", ""],
            ["", ""],
            ["", ""],
            ["", ""],
            ["", "th"],
          ].flatMap((e) => [...e[0]].map((t) => [t, e[1]]))
        );
        function n(e, t) {
          const n = e.toLowerCase(),
            i = null == t ? void 0 : t.find((e) => e[0].includes(n));
          return void 0 !== i ? i[1] : o.get(n);
        }
        t.replaceAccents = function (e, t) {
          if (!e) return e;
          const o = e.toUpperCase(),
            i = [...e].map((e, t) => e == o[t]),
            a = [];
          for (let o = 0; o < e.length; o++) {
            const r = e[o],
              s = i[o],
              u = n(r, t);
            void 0 !== u
              ? s
                ? (a.push(u.substring(0, 1).toUpperCase()),
                  a.push(u.substring(1)))
                : a.push(u)
              : a.push(s ? r.toUpperCase() : r);
          }
          return a.join("");
        };
      },
      2331: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.hide = t.show = t.update = void 0);
        const s = r(o(6705)),
          u = a(o(1322)),
          l = a(o(1446));
        t.update = function (e) {
          let t = Math.floor(e);
          s.default.blindMode && (t = 100),
            (document.querySelector("#miniTimerAndLiveWpm .acc").innerHTML =
              t + "%"),
            (document.querySelector("#liveAcc").innerHTML = t + "%");
        };
        let d = !1;
        function c() {
          s.default.showLiveAcc &&
            u.isActive &&
            (d ||
              ("mini" === s.default.timerStyle
                ? $("#miniTimerAndLiveWpm .acc")
                    .stop(!0, !1)
                    .removeClass("hidden")
                    .css("opacity", 0)
                    .animate(
                      {
                        opacity: s.default.timerOpacity,
                      },
                      125
                    )
                : $("#liveAcc")
                    .stop(!0, !1)
                    .removeClass("hidden")
                    .css("opacity", 0)
                    .animate(
                      {
                        opacity: s.default.timerOpacity,
                      },
                      125
                    ),
              (d = !0)));
        }
        function p() {
          d &&
            ($("#liveAcc")
              .stop(!0, !1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#liveAcc").addClass("hidden");
                }
              ),
            $("#miniTimerAndLiveWpm .acc")
              .stop(!0, !1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#miniTimerAndLiveWpm .acc").addClass("hidden");
                }
              ),
            (d = !1));
        }
        (t.show = c),
          (t.hide = p),
          l.subscribe((e, t) => {
            "showLiveAcc" === e && (t ? c() : p());
          });
      },
      8700: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.hide = t.show = t.update = void 0);
        const u = s(o(6705)),
          l = a(o(1322)),
          d = a(o(1446)),
          c = o(8628);
        t.update = function (e) {
          return r(this, void 0, void 0, function* () {
            u.default.showLiveBurst &&
              ((e = Math.round(
                (0, c.get)(u.default.typingSpeedUnit).fromWpm(e)
              )),
              (document.querySelector("#miniTimerAndLiveWpm .burst").innerHTML =
                e.toString()),
              (document.querySelector("#liveBurst").innerHTML = e.toString()));
          });
        };
        let p = !1;
        function f() {
          u.default.showLiveBurst &&
            l.isActive &&
            (p ||
              ("mini" === u.default.timerStyle
                ? $("#miniTimerAndLiveWpm .burst")
                    .stop(!0, !1)
                    .removeClass("hidden")
                    .css("opacity", 0)
                    .animate(
                      {
                        opacity: u.default.timerOpacity,
                      },
                      125
                    )
                : $("#liveBurst")
                    .stop(!0, !1)
                    .removeClass("hidden")
                    .css("opacity", 0)
                    .animate(
                      {
                        opacity: u.default.timerOpacity,
                      },
                      125
                    ),
              (p = !0)));
        }
        function h() {
          p &&
            ($("#liveBurst")
              .stop(!0, !1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#liveBurst").addClass("hidden");
                }
              ),
            $("#miniTimerAndLiveWpm .burst")
              .stop(!0, !1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#miniTimerAndLiveWpm .burst").addClass("hidden");
                }
              ),
            (p = !1));
        }
        (t.show = f),
          (t.hide = h),
          d.subscribe((e, t) => {
            "showLiveBurst" === e && (t ? f() : h());
          });
      },
      3261: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.hide = t.show = t.update = void 0);
        const s = r(o(6705)),
          u = a(o(1322)),
          l = a(o(1446)),
          d = o(8628),
          c = document.querySelector("#liveWpm"),
          p = document.querySelector("#miniTimerAndLiveWpm .wpm");
        t.update = function (e, t) {
          let o = e;
          s.default.blindMode && (o = t),
            (o = Math.round((0, d.get)(s.default.typingSpeedUnit).fromWpm(o))),
            (p.innerHTML = o.toString()),
            (c.innerHTML = o.toString());
        };
        let f = !1;
        function h() {
          s.default.showLiveWpm &&
            u.isActive &&
            (f ||
              ("mini" === s.default.timerStyle
                ? $(p)
                    .stop(!0, !1)
                    .removeClass("hidden")
                    .css("opacity", 0)
                    .animate(
                      {
                        opacity: s.default.timerOpacity,
                      },
                      125
                    )
                : $(c)
                    .stop(!0, !1)
                    .removeClass("hidden")
                    .css("opacity", 0)
                    .animate(
                      {
                        opacity: s.default.timerOpacity,
                      },
                      125
                    ),
              (f = !0)));
        }
        function m() {
          f &&
            ($(c)
              .stop(!0, !1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  c.classList.add("hidden");
                }
              ),
            $(p)
              .stop(!0, !1)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  p.classList.add("hidden");
                }
              ),
            (f = !1));
        }
        (t.show = h),
          (t.hide = m),
          l.subscribe((e, t) => {
            "showLiveWpm" === e && (t ? h() : m());
          });
      },
      2203: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.get = t.reset = t.set = void 0);
        let o = !1;
        (t.set = function () {
          o = !0;
        }),
          (t.reset = function () {
            o = !1;
          }),
          (t.get = function () {
            return o;
          });
      },
      7353: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.hide = t.show = t.stop = t.type = t.updateFastOpacity = void 0);
        const s = o(3388),
          u = r(o(6705)),
          l = a(o(1446)),
          d = a(o(1322));
        l.subscribe((e) => {
          "monkey" === e &&
            d.isActive &&
            (u.default.monkey
              ? $("#monkey").removeClass("hidden")
              : $("#monkey").addClass("hidden"));
        });
        let c = !1,
          p = !1;
        const f = {
            "00": document.querySelector("#monkey .up"),
            "01": document.querySelector("#monkey .right"),
            10: document.querySelector("#monkey .left"),
            11: document.querySelector("#monkey .both"),
          },
          h = {
            "00": document.querySelector("#monkey .fast .up"),
            "01": document.querySelector("#monkey .fast .right"),
            10: document.querySelector("#monkey .fast .left"),
            11: document.querySelector("#monkey .fast .both"),
          };
        let m = "right";
        function g(e) {
          return e ? "1" : "0";
        }
        function v() {
          var e, t, o;
          if (
            u.default.monkey &&
            !(null === (e = document.querySelector("#monkey")) || void 0 === e
              ? void 0
              : e.classList.contains("hidden"))
          ) {
            Object.keys(f).forEach((e) => {
              var t;
              null === (t = f[e]) || void 0 === t || t.classList.add("hidden");
            }),
              Object.keys(h).forEach((e) => {
                var t;
                null === (t = h[e]) ||
                  void 0 === t ||
                  t.classList.add("hidden");
              });
            const e = `${g(c)}${g(p)}`;
            null === (t = f[e]) || void 0 === t || t.classList.remove("hidden"),
              null === (o = h[e]) ||
                void 0 === o ||
                o.classList.remove("hidden");
          }
        }
        (t.updateFastOpacity = function (e) {
          if (!u.default.monkey) return;
          const t = (0, s.mapRange)(e, 130, 180, 0, 1);
          $("#monkey .fast").animate(
            {
              opacity: t,
            },
            1e3
          );
          let o = (0, s.mapRange)(e, 130, 180, 0.25, 0.01);
          0.25 === o && (o = 0),
            $("#monkey").css({
              animationDuration: o + "s",
            });
        }),
          (t.type = function () {
            u.default.monkey &&
              (c || "right" !== m
                ? p || ((p = !0), (m = "right"))
                : ((c = !0), (m = "left")),
              v());
          }),
          (t.stop = function () {
            u.default.monkey && (c ? (c = !1) : p && (p = !1), v());
          }),
          (t.show = function () {
            u.default.monkey &&
              $("#monkey").css("opacity", 0).removeClass("hidden").animate(
                {
                  opacity: 1,
                },
                125
              );
          }),
          (t.hide = function () {
            $("#monkey")
              .css("opacity", 1)
              .animate(
                {
                  opacity: 1,
                },
                125,
                () => {
                  $("#monkey").addClass("hidden"),
                    $("#monkey .fast").stop(!0, !0).css("opacity", 0),
                    $("#monkey").stop(!0, !0).css({
                      animationDuration: "0s",
                    });
                }
              );
          });
      },
      1333: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = t.hide = void 0);
        const r = a(o(3388)),
          s = [];
        (t.hide = function () {
          $("#words, #koInputVisualContainer")
            .css("transition", "none")
            .removeClass("blurred"),
            $(".outOfFocusWarning").addClass("hidden"),
            r.clearTimeouts(s);
        }),
          (t.show = function () {
            s.push(
              setTimeout(() => {
                $("#words, #koInputVisualContainer")
                  .css("transition", "0.25s")
                  .addClass("blurred"),
                  $(".outOfFocusWarning").removeClass("hidden");
              }, 1e3)
            );
          });
      },
      5886: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.start =
            t.handleSpace =
            t.reset =
            t.update =
            t.init =
            t.setLastTestWpm =
            t.settings =
              void 0);
        const u = a(o(9470)),
          l = a(o(8673)),
          d = s(o(6705)),
          c = a(o(6350)),
          p = a(o(210)),
          f = a(o(3388)),
          h = a(o(1322)),
          m = a(o(1446));
        t.settings = null;
        let g = 0;
        function v() {
          return r(this, void 0, void 0, function* () {
            $("#paceCaret").addClass("hidden");
            const e = f.getMode2(d.default, u.randomQuote);
            let o;
            if (
              ("pb" === d.default.paceCaret
                ? (o = yield c.getLocalPB(
                    d.default.mode,
                    e,
                    d.default.punctuation,
                    d.default.language,
                    d.default.difficulty,
                    d.default.lazyMode,
                    d.default.funbox
                  ))
                : "average" === d.default.paceCaret
                ? (([o] = yield c.getUserAverage10(
                    d.default.mode,
                    e,
                    d.default.punctuation,
                    d.default.language,
                    d.default.difficulty,
                    d.default.lazyMode
                  )),
                  (o = Math.round(o)))
                : "daily" === d.default.paceCaret
                ? ((o = yield c.getUserDailyBest(
                    d.default.mode,
                    e,
                    d.default.punctuation,
                    d.default.language,
                    d.default.difficulty,
                    d.default.lazyMode
                  )),
                  (o = Math.round(o)))
                : "custom" === d.default.paceCaret
                ? (o = d.default.paceCaretCustomSpeed)
                : ("last" !== d.default.paceCaret && !0 !== h.isPaceRepeat) ||
                  (o = g),
              void 0 === o || o < 1 || Number.isNaN(o))
            )
              return void (t.settings = null);
            const n = 5 * o,
              i = n / 60,
              a = 60 / n;
            (t.settings = {
              wpm: o,
              cps: i,
              spc: a,
              correction: 0,
              currentWordIndex: 0,
              currentLetterIndex: -1,
              wordsStatus: {},
              timeout: null,
            }),
              (function () {
                var e;
                if ("off" === d.default.paceCaret && !h.isPaceRepeat) return;
                if (
                  ($("#paceCaret").hasClass("hidden") ||
                    $("#paceCaret").addClass("hidden"),
                  "zen" === d.default.mode)
                )
                  return;
                const t = $("#paceCaret"),
                  o =
                    null ===
                      (e =
                        null === document || void 0 === document
                          ? void 0
                          : document.querySelector("#words .word")) ||
                    void 0 === e
                      ? void 0
                      : e.querySelector("letter"),
                  n = $(o).height();
                void 0 !== o &&
                  void 0 !== n &&
                  t.stop(!0, !0).animate(
                    {
                      top: o.offsetTop - n / 4,
                      left: o.offsetLeft,
                    },
                    0,
                    "linear"
                  );
              })();
          });
        }
        function y(e) {
          if (null !== t.settings && h.isActive && !l.resultVisible) {
            try {
              if (
                (t.settings.currentLetterIndex++,
                t.settings.currentLetterIndex >=
                  u.words.get(t.settings.currentWordIndex).length &&
                  ((t.settings.currentLetterIndex = -1),
                  t.settings.currentWordIndex++),
                !d.default.blindMode)
              )
                if (t.settings.correction < 0)
                  for (; t.settings.correction < 0; )
                    t.settings.currentLetterIndex--,
                      t.settings.currentLetterIndex <= -2 &&
                        ((t.settings.currentLetterIndex =
                          u.words.get(t.settings.currentWordIndex - 1).length -
                          1),
                        t.settings.currentWordIndex--),
                      t.settings.correction++;
                else if (t.settings.correction > 0)
                  for (; t.settings.correction > 0; )
                    t.settings.currentLetterIndex++,
                      t.settings.currentLetterIndex >=
                        u.words.get(t.settings.currentWordIndex).length &&
                        ((t.settings.currentLetterIndex = -1),
                        t.settings.currentWordIndex++),
                      t.settings.correction--;
            } catch (e) {
              return (
                (t.settings = null), void $("#paceCaret").addClass("hidden")
              );
            }
            try {
              const o = $("#paceCaret");
              let n, i, a;
              try {
                const e =
                    t.settings.currentWordIndex -
                    (u.words.currentIndex - l.currentWordElementIndex),
                  r = document.querySelectorAll("#words .word")[e];
                n =
                  -1 === t.settings.currentLetterIndex
                    ? r.querySelectorAll("letter")[0]
                    : r.querySelectorAll("letter")[
                        t.settings.currentLetterIndex
                      ];
                const s = $(n).height(),
                  c = $(n).width(),
                  p = o.width();
                if (void 0 === s || void 0 === c || void 0 === p) throw "";
                (i =
                  n.offsetTop -
                  d.default.fontSize * f.convertRemToPixels(1) * 0.1),
                  (a =
                    -1 === t.settings.currentLetterIndex
                      ? n.offsetLeft
                      : n.offsetLeft + c - p / 2),
                  o.removeClass("hidden");
              } catch (e) {
                o.addClass("hidden");
              }
              const r = e - performance.now();
              if (void 0 !== i) {
                let e = $("#words .smoothScroller").height();
                void 0 === e && (e = 0),
                  $("#paceCaret").css({
                    top: i - e,
                  }),
                  "off" !== d.default.smoothCaret
                    ? o.stop(!0, !0).animate(
                        {
                          left: a,
                        },
                        p.get() ? 0 : r,
                        "linear"
                      )
                    : o.stop(!0, !0).animate(
                        {
                          left: a,
                        },
                        0,
                        "linear"
                      );
              }
              t.settings.timeout = setTimeout(() => {
                var o;
                try {
                  y(
                    e +
                      1e3 *
                        (null !==
                          (o =
                            null === t.settings || void 0 === t.settings
                              ? void 0
                              : t.settings.spc) && void 0 !== o
                          ? o
                          : 0)
                  );
                } catch (e) {
                  t.settings = null;
                }
              }, r);
            } catch (e) {
              console.error(e), $("#paceCaret").addClass("hidden");
            }
          }
        }
        (t.setLastTestWpm = function (e) {
          (!h.isPaceRepeat || (h.isPaceRepeat && e > g)) && (g = e);
        }),
          (t.init = v),
          (t.update = y),
          (t.reset = function () {
            null !== t.settings &&
              null !== t.settings.timeout &&
              clearTimeout(t.settings.timeout),
              (t.settings = null);
          }),
          (t.handleSpace = function (e, o) {
            e
              ? null === t.settings ||
                !0 !== t.settings.wordsStatus[u.words.currentIndex] ||
                d.default.blindMode ||
                ((t.settings.wordsStatus[u.words.currentIndex] = void 0),
                (t.settings.correction -= o.length + 1))
              : null === t.settings ||
                void 0 !== t.settings.wordsStatus[u.words.currentIndex] ||
                d.default.blindMode ||
                ((t.settings.wordsStatus[u.words.currentIndex] = !0),
                (t.settings.correction += o.length + 1));
          }),
          (t.start = function () {
            var e;
            y(
              performance.now() +
                1e3 *
                  (null !==
                    (e =
                      null === t.settings || void 0 === t.settings
                        ? void 0
                        : t.settings.spc) && void 0 !== e
                    ? e
                    : 0)
            );
          }),
          m.subscribe((e) => {
            "paceCaret" === e && v();
          });
      },
      5486: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.show = t.hide = void 0),
          (t.hide = function () {
            $("#result .stats .wpm .crown")
              .css("opacity", 0)
              .addClass("hidden");
          }),
          (t.show = function () {
            $("#result .stats .wpm .crown")
              .removeClass("hidden")
              .css("opacity", "0")
              .animate(
                {
                  opacity: 1,
                },
                250,
                "easeOutCubic"
              );
          });
      },
      3118: function (e, t, o) {
        var n =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          i =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.getPoem = t.Poem = void 0);
        const a = i(o(7218)),
          r = o(3388),
          s = ["", "_", " "];
        class u extends r.Section {
          constructor(e, t, o) {
            super(e, t, o),
              (this.title = e),
              (this.author = t),
              (this.words = o),
              this.cleanUpText();
          }
          cleanUpText() {
            let e = 0;
            const t = [];
            for (let o = 0; o < this.words.length; o++) {
              const n = this.words[o];
              let i = "";
              for (let e = 0; e < n.length; e++) {
                const t = n[e];
                s.includes(t) || (i += t);
              }
              if ("" !== i && (t.push(i), e++, 100 === e)) break;
            }
            this.words = t;
          }
        }
        (t.Poem = u),
          (t.getPoem = function () {
            return n(this, void 0, void 0, function* () {
              console.log("Getting poem");
              try {
                const e = (yield a.default.get("https://poetrydb.org/random"))
                    .data[0],
                  t = [];
                return (
                  e.lines.forEach((e) => {
                    e.split(/ +/).forEach((e) => {
                      t.push(e);
                    });
                  }),
                  new u(e.title, e.author, t)
                );
              } catch (e) {
                return console.log(e), !1;
              }
            });
          });
      },
      9196: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.hidePopup =
            t.showPopup =
            t.resetBefore =
            t.init =
            t.before =
              void 0);
        const r = a(o(9470)),
          s = a(o(3368)),
          u = a(o(6705)),
          l = u,
          d = a(o(8248)),
          c = a(o(4897)),
          p = a(o(1446)),
          f = o(7717),
          h = a(o(590)),
          m = o(3388),
          g = "practiseWordsPopupWrapper";
        function v() {
          (t.before.mode = null),
            (t.before.punctuation = null),
            (t.before.numbers = null),
            (t.before.customText = null);
        }
        function y() {
          "zen" !== u.default.mode
            ? (h.append(g),
              (0, m.isPopupVisible)(g) ||
                $("#practiseWordsPopupWrapper")
                  .stop(!0, !0)
                  .css("opacity", 0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: 1,
                    },
                    100,
                    () => {
                      $(`#${g}`).trigger("focus");
                    }
                  ))
            : s.add("Practice words is unsupported in zen mode", 0);
        }
        function b() {
          (0, m.isPopupVisible)(g) &&
            $("#practiseWordsPopupWrapper")
              .stop(!0, !0)
              .css("opacity", 1)
              .animate(
                {
                  opacity: 0,
                },
                100,
                () => {
                  $("#practiseWordsPopupWrapper").addClass("hidden"),
                    h.remove(g);
                }
              );
        }
        (t.before = {
          mode: null,
          punctuation: null,
          numbers: null,
          customText: null,
        }),
          (t.init = function (e, o) {
            if ("zen" === u.default.mode) return !1;
            let n;
            n = (e && !o) || (!e && o) ? 20 : 10;
            let i = [];
            if (
              (e &&
                (Object.keys(c.missedWords).forEach((e) => {
                  const t = c.missedWords[e];
                  void 0 !== t && i.push([e, t]);
                }),
                i.sort((e, t) => t[1] - e[1]),
                (i = i.slice(0, n))),
              e && !o && 0 === i.length)
            )
              return s.add("You haven't missed any words", 0), !1;
            let a = [];
            if (
              (o &&
                ((a = r.words.get().map((e, t) => {
                  var o;
                  return [
                    e,
                    null !== (o = c.burstHistory[t]) && void 0 !== o ? o : 0,
                  ];
                })),
                a.sort((e, t) => e[1] - t[1]),
                (a = a.slice(
                  0,
                  Math.min(n, Math.round(0.2 * r.words.length))
                ))),
              0 === i.length && 0 === a.length)
            )
              return s.add("Could not start a new custom test", 0), !1;
            const p = [];
            i.forEach((e) => {
              for (let t = 0; t < e[1]; t++) p.push(e[0]);
            }),
              a.forEach((e, t) => {
                for (let o = 0; o < a.length - t; o++) p.push(e[0]);
              });
            const h = null === t.before.mode ? u.default.mode : t.before.mode,
              m =
                null === t.before.punctuation
                  ? u.default.punctuation
                  : t.before.punctuation,
              g =
                null === t.before.numbers
                  ? u.default.numbers
                  : t.before.numbers;
            let v = null;
            return (
              "custom" === u.default.mode &&
                (v = {
                  text: d.text,
                  isWordRandom: d.isWordRandom,
                  isTimeRandom: d.isTimeRandom,
                  word: d.word,
                  time: d.time,
                }),
              l.setMode("custom", !0),
              d.setPopupTextareaState(p.join(d.delimiter)),
              d.setText(p),
              d.setIsWordRandom(!0),
              d.setIsTimeRandom(!1),
              d.setWord(5 * (a.length + i.length)),
              d.setTime(-1),
              (0, f.setCustomTextName)("practise", void 0),
              (t.before.mode = h),
              (t.before.punctuation = m),
              (t.before.numbers = g),
              (t.before.customText = v),
              !0
            );
          }),
          (t.resetBefore = v),
          (t.showPopup = y),
          (t.hidePopup = b),
          $("#practiseWordsPopupWrapper").on("click", (e) => {
            "practiseWordsPopupWrapper" === $(e.target).attr("id") && b();
          }),
          $("#practiseWordsPopupWrapper .button").on("keypress", (e) => {
            "Enter" === e.key && $(e.currentTarget).trigger("click");
          }),
          $(document).on("keydown", (e) => {
            "Escape" === e.key &&
              (0, m.isPopupVisible)(g) &&
              (b(), e.preventDefault());
          }),
          $(".pageTest").on("click", "#practiseWordsButton", () => {
            y();
          }),
          p.subscribe((e) => {
            "mode" === e && v();
          }),
          h.save(g);
      },
      4626: function (e, t, o) {
        var n,
          i =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          a =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          r =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    i(t, e, o);
              return a(t, e), t;
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.getReplayExport =
            t.replayGetWordsList =
            t.addReplayEvent =
            t.stopReplayRecording =
            t.startReplayRecording =
            t.pauseReplay =
              void 0);
        const u = s(o(6705)),
          l = r(o(5929)),
          d = r(o(4897));
        let c = [],
          p = [],
          f = 0,
          h = !0,
          m = 0,
          g = 0,
          v = 0,
          y = 0,
          b = [],
          w = [];
        const _ =
          null === (n = document.getElementById("playpauseReplayButton")) ||
          void 0 === n
            ? void 0
            : n.children[0];
        function C() {
          const e = document.getElementById("replayWords");
          if (null === e) return;
          e.innerHTML = "";
          let t = 0;
          p.forEach((e) => {
            "backWord" === e.action
              ? t--
              : ("submitCorrectWord" !== e.action &&
                  "submitErrorWord" !== e.action) ||
                t++;
          }),
            c.forEach((o, n) => {
              if (n > t) return;
              const i = document.createElement("div");
              i.className = "word";
              for (const e of o) {
                const t = document.createElement("letter");
                (t.innerHTML = e), i.appendChild(t);
              }
              e.appendChild(i);
            });
        }
        function S() {
          var e;
          b.forEach((e) => {
            clearTimeout(e);
          }),
            (b = []),
            w.forEach((e) => {
              clearTimeout(e);
            }),
            (w = []),
            (y = g),
            (v = m),
            void 0 !== _ &&
              ((_.className = "fas fa-play"),
              null === (e = _.parentNode) ||
                void 0 === e ||
                e.setAttribute("aria-label", "Resume replay"));
        }
        function x(e = !1) {
          e && "off" !== u.default.playSoundOnError
            ? l.playError()
            : l.playClick();
        }
        function P(e, t = !1) {
          var o, n, i, a, r;
          let s =
            null === (o = document.getElementById("replayWords")) ||
            void 0 === o
              ? void 0
              : o.children[m];
          if (void 0 !== s)
            if ("correctLetter" === e.action)
              t || x(),
                null === (n = s.children[g]) ||
                  void 0 === n ||
                  n.classList.add("correct"),
                g++;
            else if ("incorrectLetter" === e.action) {
              let o;
              t || x(!0),
                g >= s.children.length &&
                  ((o = document.createElement("letter")),
                  null == o || o.classList.add("extra"),
                  (o.innerHTML =
                    null !==
                      (a =
                        null === (i = e.value) || void 0 === i
                          ? void 0
                          : i.toString()) && void 0 !== a
                      ? a
                      : ""),
                  s.appendChild(o)),
                (o = s.children[g]),
                null == o || o.classList.add("incorrect"),
                g++;
            } else if (
              "setLetterIndex" === e.action &&
              "number" == typeof e.value
            ) {
              t || x(), (g = e.value);
              for (const e of [...s.children].slice(g))
                (null == e ? void 0 : e.classList.contains("extra"))
                  ? e.remove()
                  : (e.className = "");
            } else if ("submitCorrectWord" === e.action) t || x(), m++, (g = 0);
            else if ("submitErrorWord" === e.action)
              t || x(!0), null == s || s.classList.add("error"), m++, (g = 0);
            else if ("backWord" === e.action) {
              t || x(), m--;
              const e = document.getElementById("replayWords");
              for (
                null !== e && (s = e.children[m]), g = s.children.length;
                "" ===
                (null === (r = s.children[g - 1]) || void 0 === r
                  ? void 0
                  : r.className);

              )
                g--;
              null == s || s.classList.remove("error");
            }
        }
        function k() {
          var e;
          let t = 0;
          (g = 0),
            (m = 0),
            p.forEach((e, o) => {
              (m < v || (m === v && g < y)) && (P(e, !0), (t = o + 1));
            });
          const o = null === (e = p[t]) || void 0 === e ? void 0 : e.time;
          if (void 0 === o)
            throw new Error("Failed to load old replay: datatime is undefined");
          return O(Math.floor(o / 1e3)), t;
        }
        function T() {
          var e;
          $("#resultReplay").stop(!0, !0).hasClass("hidden")
            ? (C(),
              k(),
              $("#watchReplayButton").hasClass("loaded") ||
                $("#words").html(
                  '<div class="preloader"><i class="fas fa-fw fa-spin fa-circle-notch"></i></div>'
                ),
              $("#resultReplay")
                .removeClass("hidden")
                .css("display", "none")
                .slideDown(250))
            : ("Start replay" !=
                (null === (e = null == _ ? void 0 : _.parentNode) ||
                void 0 === e
                  ? void 0
                  : e.getAttribute("aria-label")) && S(),
              $("#resultReplay").slideUp(250, () => {
                $("#resultReplay").addClass("hidden");
              }));
        }
        function O(e) {
          var t;
          const o = `${
            null !== (t = d.wpmHistory[e - 1]) && void 0 !== t ? t : 0
          }wpm\t${e}s`;
          $("#replayStats").text(o);
        }
        (t.replayGetWordsList = function (e) {
          c = e;
        }),
          (t.pauseReplay = S),
          (t.startReplayRecording = function () {
            $("#resultReplay").stop(!0, !0).hasClass("hidden") || T(),
              $("#replayStats").text(""),
              (p = []),
              (f = performance.now()),
              (h = !0),
              (y = 0),
              (v = 0);
          }),
          (t.stopReplayRecording = function () {
            h = !1;
          }),
          (t.addReplayEvent = function (e, t) {
            if (!h) return;
            const o = performance.now() - f;
            p.push({
              action: e,
              value: t,
              time: o,
            });
          }),
          (t.getReplayExport = function () {
            return JSON.stringify({
              replayData: p,
              wordsList: c,
            });
          }),
          $(".pageTest #playpauseReplayButton").on("click", () => {
            "fas fa-play" === (null == _ ? void 0 : _.className)
              ? (function () {
                  var e, t;
                  if (((g = 0), (m = 0), void 0 === _)) return;
                  (_.className = "fas fa-pause"),
                    null === (e = _.parentNode) ||
                      void 0 === e ||
                      e.setAttribute("aria-label", "Pause replay"),
                    C();
                  const o = k(),
                    n = null === (t = p[o]) || void 0 === t ? void 0 : t.time;
                  if (void 0 === n)
                    throw new Error(
                      "Failed to play replay: lastTime is undefined"
                    );
                  let i = Math.round(n / 1e3);
                  const a = Math.round(p[p.length - 1].time / 1e3);
                  for (; i <= a; ) {
                    const e = i;
                    w.push(
                      setTimeout(() => {
                        O(e);
                      }, 1e3 * e - n)
                    ),
                      i++;
                  }
                  p.forEach((e, t) => {
                    t < o ||
                      b.push(
                        setTimeout(() => {
                          P(e);
                        }, e.time - n)
                      );
                  }),
                    b.push(
                      setTimeout(() => {
                        (y = 0),
                          (v = 0),
                          (_.className = "fas fa-play"),
                          _.parentNode.setAttribute(
                            "aria-label",
                            "Start replay"
                          );
                      }, p[p.length - 1].time - n)
                    );
                })()
              : "fas fa-pause" === (null == _ ? void 0 : _.className) && S();
          }),
          $("#replayWords").on("click", "letter", (e) => {
            var t;
            S();
            const o = document.querySelector("#replayWords"),
              n = [
                ...(null !== (t = null == o ? void 0 : o.children) &&
                void 0 !== t
                  ? t
                  : []),
              ];
            v = n.indexOf(e.target.parentNode);
            const i = [...n[v].children];
            (y = i.indexOf(e.target)), C(), k();
          }),
          $(".pageTest").on("click", "#watchReplayButton", () => {
            T();
          });
      },
      3448: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.update =
            t.updateRateQuote =
            t.updateCrown =
            t.hideCrown =
            t.showConfetti =
            t.showCrown =
            t.updateTodayTracker =
            t.updateGraphPBLine =
            t.toggleUnsmoothedRaw =
              void 0);
        const u = o(3328),
          l = s(o(6705)),
          d = a(o(1493)),
          c = a(o(1833)),
          p = s(o(6750)),
          f = a(o(6350)),
          h = a(o(9817)),
          m = a(o(3368)),
          g = a(o(4203)),
          v = o(6617),
          y = a(o(8182)),
          b = a(o(9029)),
          w = a(o(210)),
          _ = a(o(3388)),
          C = o(8628),
          S = a(o(732)),
          x = a(o(5486)),
          P = a(o(5513)),
          k = a(o(4897)),
          T = a(o(2474)),
          O = a(o(8673)),
          M = a(o(2026)),
          A = a(o(1446)),
          j = a(o(8911)),
          W = a(o(8248)),
          L = a(o(7717)),
          B = s(o(9883)),
          E = s(o(7355));
        let F,
          I,
          R = !1,
          D = "",
          V = "";
        t.toggleUnsmoothedRaw = function () {
          (R = !R), m.add(R ? "on" : "off", 1);
        };
        let q = [];
        function H() {
          var e;
          return r(this, void 0, void 0, function* () {
            const t = (0, C.get)(l.default.typingSpeedUnit),
              o = [];
            for (let e = 1; e <= k.wpmHistory.length; e++)
              T.lastSecondNotRound && e === k.wpmHistory.length
                ? o.push(_.roundTo2(F.testDuration).toString())
                : o.push(e.toString());
            c.result.getScale("wpm").title.text = t.fullUnitString;
            const n = [...k.wpmHistory.map((e) => _.roundTo2(t.fromWpm(e)))];
            if ("toolong" === F.chartData) return;
            const i = [...F.chartData.raw.map((e) => _.roundTo2(t.fromWpm(e)))];
            "time" !== l.default.mode &&
              T.lastSecondNotRound &&
              F.testDuration % 1 < 0.5 &&
              (o.pop(), n.pop(), i.pop());
            let a = i;
            if (
              (R || ((a = _.smooth(a, 1)), (a = a.map((e) => Math.round(e)))),
              (c.result.data.labels = o),
              (c.result.getDataset("wpm").data = n),
              (c.result.getDataset("wpm").label = l.default.typingSpeedUnit),
              (c.result.getDataset("raw").data = a),
              (I = Math.max(Math.max(...a), Math.max(...n))),
              l.default.startGraphsAtZero)
            )
              (c.result.getScale("wpm").min = 0),
                (c.result.getScale("raw").min = 0);
            else {
              const e = Math.min(Math.min(...a), Math.min(...n));
              (c.result.getScale("wpm").min = e),
                (c.result.getScale("raw").min = e);
            }
            c.result.getDataset("error").data = F.chartData.err;
            const r = yield g.get("sub");
            if ("none" !== l.default.funbox) {
              let t = "";
              for (const o of S.get(l.default.funbox))
                (t += o.name),
                  (null === (e = o.functions) || void 0 === e
                    ? void 0
                    : e.getResultContent) &&
                    (t += "(" + o.functions.getResultContent() + ")"),
                  (t += " ");
              (t = t.trimEnd()),
                q.push({
                  display: !0,
                  id: "funbox-label",
                  type: "line",
                  scaleID: "wpm",
                  value: c.result.getScale("wpm").min,
                  borderColor: "transparent",
                  borderWidth: 1,
                  borderDash: [2, 2],
                  label: {
                    backgroundColor: "transparent",
                    font: {
                      family: l.default.fontFamily.replace(/_/g, " "),
                      size: 11,
                      style: "normal",
                      weight: u.Chart.defaults.font.weight,
                      lineHeight: u.Chart.defaults.font.lineHeight,
                    },
                    color: r,
                    padding: 3,
                    borderRadius: 3,
                    position: "start",
                    enabled: !0,
                    content: `${t}`,
                  },
                });
            }
            (c.result.getScale("wpm").max = I),
              (c.result.getScale("raw").max = I),
              (c.result.getScale("error").max = Math.max(...F.chartData.err));
          });
        }
        function K() {
          var e, t, o;
          return r(this, void 0, void 0, function* () {
            const n = yield g.getAll(),
              i = yield f.getLocalPB(
                F.mode,
                F.mode2,
                null !== (e = F.punctuation) && void 0 !== e && e,
                F.language,
                F.difficulty,
                null !== (t = F.lazyMode) && void 0 !== t && t,
                null !== (o = F.funbox) && void 0 !== o ? o : "none"
              );
            if (0 === i) return;
            const a = (0, C.get)(l.default.typingSpeedUnit),
              r = _.roundTo2(a.fromWpm(i)).toFixed(2);
            q.push({
              display: !0,
              type: "line",
              id: "lpb",
              scaleID: "wpm",
              value: r,
              borderColor: n.sub,
              borderWidth: 1,
              borderDash: [2, 2],
              label: {
                backgroundColor: n.sub,
                font: {
                  family: l.default.fontFamily.replace(/_/g, " "),
                  size: 11,
                  style: "normal",
                  weight: u.Chart.defaults.font.weight,
                  lineHeight: u.Chart.defaults.font.lineHeight,
                },
                color: n.bg,
                padding: 3,
                borderRadius: 3,
                position: "center",
                enabled: !0,
                content: `PB: ${r}`,
              },
            });
            const s = a.fromWpm(20);
            I >= parseFloat(r) - s &&
              I <= parseFloat(r) + s &&
              (I = Math.round(parseFloat(r) + s)),
              (c.result.getScale("wpm").max = I),
              (c.result.getScale("raw").max = I);
          });
        }
        function N() {
          let e = !1;
          const t = (0, C.get)(l.default.typingSpeedUnit);
          if ((F.wpm >= 1e3 && (e = !0), l.default.alwaysShowDecimalPlaces)) {
            $("#result .stats .wpm .top .text").text(l.default.typingSpeedUnit),
              e
                ? $("#result .stats .wpm .bottom").text("Infinite")
                : $("#result .stats .wpm .bottom").text(
                    _.roundTo2(t.fromWpm(F.wpm)).toFixed(2)
                  ),
              $("#result .stats .raw .bottom").text(
                _.roundTo2(t.fromWpm(F.rawWpm)).toFixed(2)
              ),
              "wpm" != l.default.typingSpeedUnit
                ? ($("#result .stats .wpm .bottom").attr(
                    "aria-label",
                    F.wpm.toFixed(2) + " wpm"
                  ),
                  $("#result .stats .raw .bottom").attr(
                    "aria-label",
                    F.rawWpm.toFixed(2) + " wpm"
                  ))
                : ($("#result .stats .wpm .bottom").removeAttr("aria-label"),
                  $("#result .stats .raw .bottom").removeAttr("aria-label")),
              $("#result .stats .acc .bottom").text(
                100 === F.acc ? "100%" : _.roundTo2(F.acc).toFixed(2) + "%"
              );
            let o = _.roundTo2(F.testDuration).toFixed(2) + "s";
            F.testDuration > 61 &&
              (o = _.secondsToString(_.roundTo2(F.testDuration))),
              $("#result .stats .time .bottom .text").text(o),
              $("#result .stats .acc .bottom").attr(
                "aria-label",
                `${k.accuracy.correct} correct / ${k.accuracy.incorrect} incorrect`
              );
          } else {
            let o = t.convertWithUnitSuffix(F.wpm, !0),
              n = t.convertWithUnitSuffix(F.rawWpm, !0);
            "wpm" != l.default.typingSpeedUnit &&
              ((o += " (" + F.wpm.toFixed(2) + " wpm)"),
              (n += " (" + F.rawWpm.toFixed(2) + " wpm)")),
              $("#result .stats .wpm .top .text").text(
                l.default.typingSpeedUnit
              ),
              $("#result .stats .wpm .bottom").attr("aria-label", o),
              e
                ? $("#result .stats .wpm .bottom").text("Infinite")
                : $("#result .stats .wpm .bottom").text(
                    Math.round(t.fromWpm(F.wpm))
                  ),
              $("#result .stats .raw .bottom").text(
                Math.round(t.fromWpm(F.rawWpm))
              ),
              $("#result .stats .raw .bottom").attr("aria-label", n),
              $("#result .stats .acc .bottom").text(Math.floor(F.acc) + "%"),
              $("#result .stats .acc .bottom").attr(
                "aria-label",
                `${100 === F.acc ? "100" : _.roundTo2(F.acc).toFixed(2)}% (${
                  k.accuracy.correct
                } correct / ${k.accuracy.incorrect} incorrect)`
              );
          }
        }
        function z() {
          x.hide(), $("#result .stats .wpm .crown").attr("aria-label", "");
        }
        (t.updateGraphPBLine = K),
          (t.updateTodayTracker = function () {
            $("#result .stats .time .bottom .timeToday").text(M.getString());
          }),
          (t.showCrown = function () {
            x.show();
          }),
          (t.showConfetti = function () {
            if (w.get()) return;
            const e = getComputedStyle(document.body),
              t = [
                e.getPropertyValue("--main-color"),
                e.getPropertyValue("--text-color"),
                e.getPropertyValue("--sub-color"),
              ],
              o = Date.now() + 125;
            !(function e() {
              (0, B.default)({
                particleCount: 5,
                angle: 60,
                spread: 75,
                origin: {
                  x: 0,
                },
                colors: t,
              }),
                (0, B.default)({
                  particleCount: 5,
                  angle: 120,
                  spread: 75,
                  origin: {
                    x: 1,
                  },
                  colors: t,
                }),
                Date.now() < o && requestAnimationFrame(e);
            })();
          }),
          (t.hideCrown = z),
          (t.updateCrown = function () {
            return r(this, void 0, void 0, function* () {
              let e = 0;
              const t = yield f.getLocalPB(
                  l.default.mode,
                  F.mode2,
                  l.default.punctuation,
                  l.default.language,
                  l.default.difficulty,
                  l.default.lazyMode,
                  l.default.funbox
                ),
                o = (0, C.get)(l.default.typingSpeedUnit);
              (e = Math.abs(F.wpm - t)),
                $("#result .stats .wpm .crown").attr(
                  "aria-label",
                  "+" + _.roundTo2(o.fromWpm(e))
                );
            });
          }),
          (t.updateRateQuote = function (e) {
            var t, o, n;
            if ("quote" === l.default.mode) {
              if (null === e)
                return void console.error(
                  "Failed to update quote rating button: randomQuote is null"
                );
              (null ===
                (n =
                  null ===
                    (o =
                      null === (t = f.getSnapshot()) || void 0 === t
                        ? void 0
                        : t.quoteRatings) || void 0 === o
                    ? void 0
                    : o[e.language]) || void 0 === n
                ? void 0
                : n[e.id]) &&
                $(".pageTest #result #rateQuoteButton .icon")
                  .removeClass("far")
                  .addClass("fas"),
                y.getQuoteStats(e).then((e) => {
                  var t, o;
                  $(".pageTest #result #rateQuoteButton .rating").text(
                    null !==
                      (o =
                        null === (t = null == e ? void 0 : e.average) ||
                        void 0 === t
                          ? void 0
                          : t.toFixed(1)) && void 0 !== o
                      ? o
                      : ""
                  ),
                    $(".pageTest #result #rateQuoteButton")
                      .css({
                        opacity: 0,
                      })
                      .removeClass("hidden")
                      .css({
                        opacity: 1,
                      });
                });
            }
          }),
          (t.update = function (e, t, o, n, i, a, s, h) {
            return r(this, void 0, void 0, function* () {
              (q = []),
                (F = Object.assign({}, e)),
                z(),
                $("#resultWordsHistory .words").empty(),
                $("#result #resultWordsHistory").addClass("hidden"),
                $("#retrySavingResultButton").addClass("hidden"),
                $(".pageTest #result #rateQuoteButton .icon")
                  .removeClass("fas")
                  .addClass("far"),
                $(".pageTest #result #rateQuoteButton .rating").text(""),
                $(".pageTest #result #rateQuoteButton").addClass("hidden"),
                $("#words").removeClass("blurred"),
                $("#wordsInput").trigger("blur"),
                $("#result .stats .time .bottom .afk").text(""),
                (
                  null === v.Auth || void 0 === v.Auth
                    ? void 0
                    : v.Auth.currentUser
                )
                  ? $("#result .loginTip").addClass("hidden")
                  : $("#result .loginTip").removeClass("hidden"),
                "off" === l.default.ads || "result" === l.default.ads
                  ? $("#result #watchVideoAdButton").addClass("hidden")
                  : $("#result #watchVideoAdButton").removeClass("hidden"),
                N(),
                l.default.alwaysShowDecimalPlaces
                  ? ($("#result .stats .consistency .bottom").text(
                      _.roundTo2(F.consistency).toFixed(2) + "%"
                    ),
                    $("#result .stats .consistency .bottom").attr(
                      "aria-label",
                      `${F.keyConsistency.toFixed(2)}% key`
                    ))
                  : ($("#result .stats .consistency .bottom").text(
                      Math.round(F.consistency) + "%"
                    ),
                    $("#result .stats .consistency .bottom").attr(
                      "aria-label",
                      `${F.consistency}% (${F.keyConsistency}% key)`
                    )),
                (function () {
                  const e = _.roundTo2((F.afkDuration / F.testDuration) * 100);
                  if (
                    ($("#result .stats .time .bottom .afk").text(""),
                    e > 0 &&
                      $("#result .stats .time .bottom .afk").text(e + "% afk"),
                    $("#result .stats .time .bottom").attr(
                      "aria-label",
                      `${F.afkDuration}s afk ${e}%`
                    ),
                    l.default.alwaysShowDecimalPlaces)
                  ) {
                    let e = _.roundTo2(F.testDuration).toFixed(2) + "s";
                    F.testDuration > 61 &&
                      (e = _.secondsToString(_.roundTo2(F.testDuration))),
                      $("#result .stats .time .bottom .text").text(e);
                  } else {
                    let t = Math.round(F.testDuration) + "s";
                    F.testDuration > 61 &&
                      (t = _.secondsToString(Math.round(F.testDuration))),
                      $("#result .stats .time .bottom .text").text(t),
                      $("#result .stats .time .bottom").attr(
                        "aria-label",
                        `${_.roundTo2(F.testDuration)}s (${
                          F.afkDuration
                        }s afk ${e}%)`
                      );
                  }
                })(),
                $("#result .stats .key .bottom").text(
                  F.charStats[0] +
                    "/" +
                    F.charStats[1] +
                    "/" +
                    F.charStats[2] +
                    "/" +
                    F.charStats[3]
                ),
                (function (e) {
                  let t = "";
                  (t += l.default.mode),
                    "time" === l.default.mode
                      ? (t += " " + l.default.time)
                      : "words" === l.default.mode
                      ? (t += " " + l.default.words)
                      : "quote" === l.default.mode &&
                        void 0 !== (null == e ? void 0 : e.group) &&
                        (t +=
                          " " + ["short", "medium", "long", "thicc"][e.group]);
                  const o =
                    void 0 !==
                    S.get(l.default.funbox).find((e) => {
                      var t;
                      return null === (t = e.properties) || void 0 === t
                        ? void 0
                        : t.includes("ignoresLanguage");
                    });
                  "custom" === l.default.mode ||
                    o ||
                    (t += "<br>" + F.language.replace(/_/g, " ")),
                    l.default.punctuation && (t += "<br>punctuation"),
                    l.default.numbers && (t += "<br>numbers"),
                    l.default.blindMode && (t += "<br>blind"),
                    l.default.lazyMode && (t += "<br>lazy"),
                    "none" !== l.default.funbox &&
                      (t +=
                        "<br>" +
                        l.default.funbox
                          .replace(/_/g, " ")
                          .replace(/#/g, ", ")),
                    "expert" === l.default.difficulty
                      ? (t += "<br>expert")
                      : "master" === l.default.difficulty &&
                        (t += "<br>master"),
                    "off" !== l.default.stopOnError &&
                      (t += `<br>stop on ${l.default.stopOnError}`),
                    $("#result .stats .testType .bottom").html(t);
                })(s),
                (function (e) {
                  var t;
                  "quote" === l.default.mode
                    ? ($("#result .stats .source").removeClass("hidden"),
                      $("#result .stats .source .bottom").html(
                        null !== (t = null == e ? void 0 : e.source) &&
                          void 0 !== t
                          ? t
                          : "Error: Source unknown"
                      ))
                    : $("#result .stats .source").addClass("hidden");
                })(s),
                (function (e) {
                  const t = $(".pageTest #result #favoriteQuoteButton .icon");
                  if (
                    "quote" !== l.default.mode ||
                    null ===
                      (null === v.Auth || void 0 === v.Auth
                        ? void 0
                        : v.Auth.currentUser)
                  )
                    return void t.parent().addClass("hidden");
                  if (null === e)
                    return void console.error(
                      "Failed to update quote favorite button: randomQuote is null"
                    );
                  (D = "quote" === l.default.mode ? e.language : ""),
                    (V = "quote" === l.default.mode ? e.id.toString() : "");
                  const o = p.default.isQuoteFavorite(e);
                  t.removeClass(o ? "far" : "fas").addClass(o ? "fas" : "far"),
                    t.parent().removeClass("hidden");
                })(s),
                yield H(),
                yield K(),
                yield (function (e) {
                  var t, o, n, i, a, s, d;
                  return r(this, void 0, void 0, function* () {
                    const c = [],
                      p =
                        null !==
                          (n =
                            null ===
                              (o =
                                null === (t = f.getSnapshot()) || void 0 === t
                                  ? void 0
                                  : t.tags) || void 0 === o
                              ? void 0
                              : o.length) && void 0 !== n
                          ? n
                          : 0;
                    try {
                      null ===
                        (a =
                          null === (i = f.getSnapshot()) || void 0 === i
                            ? void 0
                            : i.tags) ||
                        void 0 === a ||
                        a.forEach((e) => {
                          !0 === e.active && c.push(e);
                        });
                    } catch (e) {}
                    0 === p
                      ? $("#result .stats .tags").addClass("hidden")
                      : $("#result .stats .tags").removeClass("hidden"),
                      0 === c.length
                        ? $("#result .stats .tags .bottom").html(
                            "<div class='noTags'>no tags</div>"
                          )
                        : $("#result .stats .tags .bottom").text(""),
                      $("#result .stats .tags .editTagsButton").attr(
                        "result-id",
                        ""
                      ),
                      $("#result .stats .tags .editTagsButton").attr(
                        "active-tag-ids",
                        c.map((e) => e._id).join(",")
                      ),
                      $("#result .stats .tags .editTagsButton").addClass(
                        "invisible"
                      );
                    const h =
                        null !==
                          (d =
                            null === (s = F.funbox) || void 0 === s
                              ? void 0
                              : s.split("#")) && void 0 !== d
                          ? d
                          : [],
                      m = (yield Promise.all(
                        h.map((e) =>
                          r(this, void 0, void 0, function* () {
                            return _.getFunbox(e);
                          })
                        )
                      )).every((e) => (null == e ? void 0 : e.canGetPb));
                    let v = "start",
                      y = 15;
                    c.forEach((t) =>
                      r(this, void 0, void 0, function* () {
                        const o = yield f.getLocalTagPB(
                          t._id,
                          l.default.mode,
                          F.mode2,
                          l.default.punctuation,
                          l.default.language,
                          l.default.difficulty,
                          l.default.lazyMode
                        );
                        $("#result .stats .tags .bottom").append(
                          `\n      <div tagid="${t._id}" aria-label="PB: ${o}" data-balloon-pos="up">${t.display}<i class="fas fa-crown hidden"></i></div>\n    `
                        );
                        const n = (0, C.get)(l.default.typingSpeedUnit);
                        if (
                          "quote" !== l.default.mode &&
                          !e &&
                          ("none" === F.funbox || 0 === h.length || m)
                        )
                          if (o < F.wpm)
                            f.saveLocalTagPB(
                              t._id,
                              l.default.mode,
                              F.mode2,
                              l.default.punctuation,
                              l.default.language,
                              l.default.difficulty,
                              l.default.lazyMode,
                              F.wpm,
                              F.acc,
                              F.rawWpm,
                              F.consistency
                            ),
                              $(
                                `#result .stats .tags .bottom div[tagid="${t._id}"] .fas`
                              ).removeClass("hidden"),
                              $(
                                `#result .stats .tags .bottom div[tagid="${t._id}"]`
                              ).attr("aria-label", "+" + _.roundTo2(F.wpm - o));
                          else {
                            const e = yield g.getAll();
                            q.push({
                              display: !0,
                              type: "line",
                              id: "tpb",
                              scaleID: "wpm",
                              value: n.fromWpm(o),
                              borderColor: e.sub,
                              borderWidth: 1,
                              borderDash: [2, 2],
                              label: {
                                backgroundColor: e.sub,
                                font: {
                                  family: l.default.fontFamily.replace(
                                    /_/g,
                                    " "
                                  ),
                                  size: 11,
                                  style: "normal",
                                  weight: u.Chart.defaults.font.weight,
                                  lineHeight: u.Chart.defaults.font.lineHeight,
                                },
                                color: e.bg,
                                padding: 3,
                                borderRadius: 3,
                                position: v,
                                xAdjust: y,
                                enabled: !0,
                                content: `${t.display} PB: ${_.roundTo2(
                                  n.fromWpm(o)
                                ).toFixed(2)}`,
                              },
                            }),
                              "start" === v
                                ? ((v = "end"), (y = -15))
                                : ((v = "start"), (y = 15));
                          }
                      })
                    );
                  });
                })(h),
                (function (e, t, o, n, i) {
                  let a = "";
                  if (
                    (e && (a += `<br>failed (${t})`),
                    o && (a += "<br>afk detected"),
                    T.invalid)
                  ) {
                    a += "<br>invalid";
                    const e = [];
                    (F.wpm < 0 ||
                      (F.wpm > 350 && "words" !== F.mode && "10" !== F.mode2) ||
                      (F.wpm > 420 &&
                        "words" === F.mode &&
                        "10" === F.mode2)) &&
                      e.push("wpm"),
                      (F.rawWpm < 0 ||
                        (F.rawWpm > 350 &&
                          "words" !== F.mode &&
                          "10" !== F.mode2) ||
                        (F.rawWpm > 420 &&
                          "words" === F.mode &&
                          "10" === F.mode2)) &&
                        e.push("raw"),
                      (F.acc < 75 || F.acc > 100) && e.push("accuracy"),
                      e.length > 0 && (a += ` (${e.join(",")})`);
                  }
                  n && (a += "<br>repeated"),
                    F.bailedOut && (a += "<br>bailed out"),
                    i && (a += "<br>too short"),
                    "" === a
                      ? $("#result .stats .info").addClass("hidden")
                      : ($("#result .stats .info").removeClass("hidden"),
                        (a = a.substring(4)),
                        $("#result .stats .info .bottom").html(a));
                })(t, o, n, i, a),
                (c.result.options.plugins.annotation.annotations = q),
                c.result.updateColors(),
                c.result.resize(),
                $("#result .stats .tags").hasClass("hidden") &&
                $("#result .stats .info").hasClass("hidden")
                  ? $("#result .stats .infoAndTags").addClass("hidden")
                  : $("#result .stats .infoAndTags").removeClass("hidden"),
                b.get()
                  ? ($("main #result .noStressMessage").remove(),
                    $("main #result").prepend(
                      '\n\n      <div class=\'noStressMessage\' style="\n        text-align: center;\n        grid-column: 1/3;\n        font-size: 2rem;\n        padding-bottom: 2rem;\n      ">\n      <i class="fas fa-check"></i>\n      </div>\n\n    '
                    ),
                    $("main #result .stats").addClass("hidden"),
                    $("main #result .chart").addClass("hidden"),
                    $("main #result #resultWordsHistory").addClass("hidden"),
                    $("main #result #resultReplay").addClass("hidden"),
                    $("main #result .loginTip").addClass("hidden"),
                    $("main #result #showWordHistoryButton").addClass("hidden"),
                    $("main #result #watchReplayButton").addClass("hidden"),
                    $("main #result #saveScreenshotButton").addClass("hidden"),
                    console.log(
                      `Test Completed: ${F.wpm} wpm ${F.acc}% acc ${F.rawWpm} raw ${F.consistency}% consistency`
                    ))
                  : ($("main #result .stats").removeClass("hidden"),
                    $("main #result .chart").removeClass("hidden"),
                    (null === v.Auth || void 0 === v.Auth
                      ? void 0
                      : v.Auth.currentUser) ||
                      $("main #result .loginTip").removeClass("hidden"),
                    $("main #result #showWordHistoryButton").removeClass(
                      "hidden"
                    ),
                    $("main #result #watchReplayButton").removeClass("hidden"),
                    $("main #result #saveScreenshotButton").removeClass(
                      "hidden"
                    )),
                window.scrollY > 0 &&
                  $([document.documentElement, document.body]).stop().animate(
                    {
                      scrollTop: 0,
                    },
                    250
                  ),
                P.hide(),
                _.swapElements(
                  $("#typingTest"),
                  $("#result"),
                  250,
                  () =>
                    r(this, void 0, void 0, function* () {
                      $("#result").trigger("focus"),
                        d.renderResult(),
                        O.setResultCalculating(!1),
                        $("#words").empty(),
                        c.result.resize(),
                        window.scrollTo({
                          top: 0,
                        });
                    }),
                  () =>
                    r(this, void 0, void 0, function* () {
                      var e;
                      j.set(!1),
                        $("#resultExtraButtons")
                          .removeClass("hidden")
                          .css("opacity", 0)
                          .animate(
                            {
                              opacity: 1,
                            },
                            125
                          );
                      const t = _.canQuickRestart(
                        l.default.mode,
                        l.default.words,
                        l.default.time,
                        W,
                        null !== (e = L.isCustomTextLong()) && void 0 !== e && e
                      );
                      l.default.alwaysShowWordsHistory &&
                        t &&
                        !b.get() &&
                        O.toggleResultWords(!0),
                        d.updateFooterAndVerticalAds(!0);
                    })
                );
            });
          }),
          $(".pageTest #favoriteQuoteButton").on("click", () =>
            r(void 0, void 0, void 0, function* () {
              var e, t, o;
              if ("" === D || "" === V)
                return void m.add("Could not get quote stats!", -1);
              const n = $(".pageTest #favoriteQuoteButton .icon"),
                i = f.getSnapshot();
              if (i)
                if (n.hasClass("fas")) {
                  h.show();
                  const o = yield E.default.users.removeQuoteFromFavorites(
                    D,
                    V
                  );
                  if (
                    (h.hide(),
                    m.add(o.message, 200 === o.status ? 1 : -1),
                    200 === o.status)
                  ) {
                    n.removeClass("fas").addClass("far");
                    const o =
                      null === (e = i.favoriteQuotes[D]) || void 0 === e
                        ? void 0
                        : e.indexOf(V);
                    null === (t = i.favoriteQuotes[D]) ||
                      void 0 === t ||
                      t.splice(o, 1);
                  }
                } else {
                  h.show();
                  const e = yield E.default.users.addQuoteToFavorites(D, V);
                  h.hide(),
                    m.add(e.message, 200 === e.status ? 1 : -1),
                    200 === e.status &&
                      (n.removeClass("far").addClass("fas"),
                      i.favoriteQuotes[D] || (i.favoriteQuotes[D] = []),
                      null === (o = i.favoriteQuotes[D]) ||
                        void 0 === o ||
                        o.push(V));
                }
            })
          ),
          A.subscribe((e) =>
            r(void 0, void 0, void 0, function* () {
              ["typingSpeedUnit", "startGraphsAtZero"].includes(e) &&
                O.resultVisible &&
                ((q = []),
                N(),
                yield H(),
                yield K(),
                O.applyBurstHeatmap(),
                (c.result.options.plugins.annotation.annotations = q),
                c.result.updateColors(),
                c.result.resize());
            })
          );
      },
      5578: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.layoutKeyToKeycode =
            t.isUsingOppositeShift =
            t.reset =
            t.rightState =
            t.leftState =
              void 0);
        const u = s(o(6705)),
          l = a(o(3388)),
          d = o(4173),
          c = a(o(3368));
        (t.leftState = !1), (t.rightState = !1);
        const p = [
            [
              "Backquote",
              "Digit1",
              "Digit2",
              "Digit3",
              "Digit4",
              "Digit5",
              "Digit6",
              "Digit7",
              "Digit8",
              "Digit9",
              "Digit0",
              "Minus",
              "Equal",
            ],
            [
              "KeyQ",
              "KeyW",
              "KeyE",
              "KeyR",
              "KeyT",
              "KeyY",
              "KeyU",
              "KeyI",
              "KeyO",
              "KeyP",
              "BracketLeft",
              "BracketRight",
              "Backslash",
            ],
            [
              "KeyA",
              "KeyS",
              "KeyD",
              "KeyF",
              "KeyG",
              "KeyH",
              "KeyJ",
              "KeyK",
              "KeyL",
              "Semicolon",
              "Quote",
            ],
            [
              "KeyZ",
              "KeyX",
              "KeyC",
              "KeyV",
              "KeyB",
              "KeyN",
              "KeyM",
              "Comma",
              "Period",
              "Slash",
            ],
            ["Space"],
          ],
          f = /^[^\p{L}\p{N}]{1}$/u,
          h = /Mac|iPod|iPhone|iPad/.test(navigator.platform);
        let m = [!1, !1];
        function g() {
          return r(this, void 0, void 0, function* () {
            const e = (function () {
              const e = t.leftState || t.rightState,
                o = h ? e || d.capsState : e !== d.capsState,
                [n, i] = m;
              if (n !== o || i !== e) return (m = [o, e]);
            })();
            if (void 0 === e) return;
            const o = [...document.getElementsByClassName("keymapKey")].filter(
                (e) => {
                  const t = e.classList.contains("keymapKey"),
                    o =
                      !e.classList.contains("keySpace") &&
                      !e.classList.contains("keySplitSpace");
                  return t && o;
                }
              ),
              n = o.map((e) => e.dataset.key);
            if (n.includes(void 0)) return;
            const i = o.map((e) => e.childNodes[1]),
              [a, r] = e,
              s =
                "overrideSync" === u.default.keymapLayout
                  ? "default" === u.default.layout
                    ? "qwerty"
                    : u.default.layout
                  : u.default.keymapLayout,
              p = yield l.getLayout(s).catch(() => {});
            if (void 0 !== p)
              for (let e = 0; e < n.length; e++) {
                const t = n[e],
                  o = i[e],
                  s = t[0],
                  u = t[1];
                if (
                  void 0 === o ||
                  void 0 === t ||
                  void 0 === s ||
                  void 0 === u
                )
                  continue;
                const l = [s, u].some((e) => f.test(null != e ? e : "")),
                  d = w(s, p);
                if (void 0 === d) return;
                const c = b(d),
                  h = l ? r : a,
                  m = t[Number(c && h)];
                o.textContent = null != m ? m : "";
              }
            else c.add("Failed to load keymap layout", -1);
          });
        }
        $(document).on("keydown", (e) => {
          "ShiftLeft" === e.code
            ? ((t.leftState = !0), (t.rightState = !1))
            : "ShiftRight" === e.code &&
              ((t.leftState = !1), (t.rightState = !0)),
            "dynamic" === u.default.keymapLegendStyle && g();
        }),
          $(document).on("keyup", (e) => {
            ("ShiftLeft" !== e.code && "ShiftRight" !== e.code) ||
              ((t.leftState = !1), (t.rightState = !1)),
              "dynamic" === u.default.keymapLegendStyle && g();
          }),
          (t.reset = function () {
            (t.leftState = !1), (t.rightState = !1);
          });
        const v = [
            "KeyQ",
            "KeyW",
            "KeyE",
            "KeyR",
            "KeyT",
            "KeyY",
            "KeyA",
            "KeyS",
            "KeyD",
            "KeyF",
            "KeyG",
            "IntlBackslash",
            "KeyZ",
            "KeyX",
            "KeyC",
            "KeyV",
            "KeyB",
            "Backquote",
            "Digit1",
            "Digit2",
            "Digit3",
            "Digit4",
            "Digit5",
            "Digit6",
          ],
          y = [
            "KeyY",
            "KeyU",
            "KeyI",
            "KeyO",
            "KeyP",
            "KeyH",
            "KeyJ",
            "KeyK",
            "KeyL",
            "KeyB",
            "KeyN",
            "KeyM",
            "Digit6",
            "Digit7",
            "Digit8",
            "Digit9",
            "Digit0",
            "Minus",
            "Equal",
            "Backslash",
            "BracketLeft",
            "BracketRight",
            "Semicolon",
            "Quote",
            "Comma",
            "Period",
            "Slash",
          ];
        function b(e) {
          if (!t.leftState && !t.rightState) return !0;
          if ("off" === u.default.oppositeShiftMode) return !0;
          const o = y.includes(e),
            n = v.includes(e);
          return (!o && !n) || !!((t.leftState && o) || (t.rightState && n));
        }
        function w(e, t) {
          var o, n;
          const i = Object.values(t.keys),
            a = i.findIndex((t) => t.find((t) => t.includes(e))),
            r = i[a];
          if (void 0 === r) return;
          const s = r.findIndex((t) => t.includes(e));
          if (-1 === s) return;
          let u = null === (o = p[a]) || void 0 === o ? void 0 : o[s];
          return (
            "iso" === t.type &&
              (2 === a && 11 === s
                ? (u = "Backslash")
                : 3 === a && 0 === s
                ? (u = "IntlBackslash")
                : 3 === a &&
                  (u =
                    null === (n = p[3]) || void 0 === n ? void 0 : n[s - 1])),
            u
          );
        }
        (t.isUsingOppositeShift = b), (t.layoutKeyToKeycode = w);
      },
      5513: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.hideFavoriteQuoteLength =
            t.showFavoriteQuoteLength =
            t.updateExtras =
            t.update =
            t.instantUpdate =
            t.hide =
            t.show =
              void 0);
        const u = s(o(6705)),
          l = a(o(1446)),
          d = a(o(7346));
        function c(e, t) {
          var o, n, i, a, s, u;
          return r(this, void 0, void 0, function* () {
            if (e === t) return;
            $("#testConfig .mode .textButton").removeClass("active"),
              $("#testConfig .mode .textButton[mode='" + t + "']").addClass(
                "active"
              );
            const r = {
                time: "time",
                words: "wordCount",
                custom: "customText",
                quote: "quoteLength",
                zen: "zen",
              },
              l = "easeInOutSine",
              d = {
                time: !0,
                words: !0,
                custom: !0,
                quote: !1,
                zen: !1,
              },
              c = $("#testConfig .puncAndNum");
            if (!1 === d[e] && !0 === d[t]) {
              c.css("maxWidth", "");
              const e = Math.round(
                null !==
                  (n =
                    null === (o = c[0]) || void 0 === o
                      ? void 0
                      : o.getBoundingClientRect().width) && void 0 !== n
                  ? n
                  : 224
              );
              $("#testConfig .leftSpacer").removeClass("scrolled"),
                c
                  .css({
                    opacity: 0,
                    maxWidth: 0,
                  })
                  .animate(
                    {
                      opacity: 1,
                      maxWidth: e,
                    },
                    250,
                    l
                  );
            } else
              !0 === d[e] &&
                !1 === d[t] &&
                ($("#testConfig .leftSpacer").addClass("scrolled"),
                c
                  .css({
                    opacity: 1,
                    maxWidth: "",
                  })
                  .animate(
                    {
                      opacity: 0,
                      maxWidth: "0",
                    },
                    250,
                    l
                  ));
            "zen" === t
              ? $("#testConfig .rightSpacer").addClass("scrolled")
              : $("#testConfig .rightSpacer").removeClass("scrolled");
            const p = $(`#testConfig .${r[t]}`),
              f = $(`#testConfig .${r[e]}`),
              h = Math.round(
                null !==
                  (a =
                    null === (i = f[0]) || void 0 === i
                      ? void 0
                      : i.getBoundingClientRect().width) && void 0 !== a
                  ? a
                  : 0
              );
            f.addClass("hidden"), p.removeClass("hidden");
            const m = Math.round(
              null !==
                (u =
                  null === (s = p[0]) || void 0 === s
                    ? void 0
                    : s.getBoundingClientRect().width) && void 0 !== u
                ? u
                : 0
            );
            f.removeClass("hidden"), p.addClass("hidden");
            const g = (m - h) / 2;
            f.css({
              opacity: 1,
              width: h,
            }).animate(
              {
                width: h + g,
                opacity: 0,
              },
              125,
              "easeInSine",
              () => {
                f
                  .css({
                    opacity: 1,
                    width: "unset",
                  })
                  .addClass("hidden"),
                  p
                    .css({
                      opacity: 0,
                      width: h + g,
                    })
                    .removeClass("hidden")
                    .animate(
                      {
                        opacity: 1,
                        width: m,
                      },
                      125,
                      "easeOutSine",
                      () => {
                        p.css("width", "unset");
                      }
                    );
              }
            );
          });
        }
        function p(e, t) {
          if ("time" === e) {
            $("#testConfig .time .textButton").removeClass("active");
            const e = [15, 30, 60, 120].includes(t) ? t : "custom";
            $("#testConfig .time .textButton[timeConfig='" + e + "']").addClass(
              "active"
            );
          } else if ("words" === e) {
            $("#testConfig .wordCount .textButton").removeClass("active");
            const e = [10, 25, 50, 100, 200].includes(t) ? t : "custom";
            $(
              "#testConfig .wordCount .textButton[wordCount='" + e + "']"
            ).addClass("active");
          } else
            "quoteLength" === e
              ? ($("#testConfig .quoteLength .textButton").removeClass(
                  "active"
                ),
                t.forEach((e) => {
                  $(
                    "#testConfig .quoteLength .textButton[quoteLength='" +
                      e +
                      "']"
                  ).addClass("active");
                }))
              : "numbers" === e
              ? t
                ? $("#testConfig .numbersMode.textButton").addClass("active")
                : $("#testConfig .numbersMode.textButton").removeClass("active")
              : "punctuation" === e &&
                (t
                  ? $("#testConfig .punctuationMode.textButton").addClass(
                      "active"
                    )
                  : $("#testConfig .punctuationMode.textButton").removeClass(
                      "active"
                    ));
        }
        (t.show = function () {
          $("#testConfig").removeClass("invisible"),
            $("#mobileTestConfig").removeClass("invisible");
        }),
          (t.hide = function () {
            $("#testConfig").addClass("invisible"),
              $("#mobileTestConfig").addClass("invisible");
          }),
          (t.instantUpdate = function () {
            return r(this, void 0, void 0, function* () {
              $("#testConfig .mode .textButton").removeClass("active"),
                $(
                  "#testConfig .mode .textButton[mode='" + u.default.mode + "']"
                ).addClass("active"),
                $("#testConfig .puncAndNum").css({
                  maxWidth: 0,
                  opacity: 0,
                }),
                $("#testConfig .spacer").addClass("scrolled"),
                $("#testConfig .time").addClass("hidden"),
                $("#testConfig .wordCount").addClass("hidden"),
                $("#testConfig .customText").addClass("hidden"),
                $("#testConfig .quoteLength").addClass("hidden"),
                $("#testConfig .zen").addClass("hidden"),
                "time" === u.default.mode
                  ? ($("#testConfig .puncAndNum").css({
                      maxWidth: "",
                      opacity: 1,
                    }),
                    $("#testConfig .leftSpacer").removeClass("scrolled"),
                    $("#testConfig .rightSpacer").removeClass("scrolled"),
                    $("#testConfig .time").removeClass("hidden"),
                    p("time", u.default.time))
                  : "words" === u.default.mode
                  ? ($("#testConfig .puncAndNum").css({
                      maxWidth: "",
                      opacity: 1,
                    }),
                    $("#testConfig .leftSpacer").removeClass("scrolled"),
                    $("#testConfig .rightSpacer").removeClass("scrolled"),
                    $("#testConfig .wordCount").removeClass("hidden"),
                    p("words", u.default.words))
                  : "quote" === u.default.mode
                  ? ($("#testConfig .rightSpacer").removeClass("scrolled"),
                    $("#testConfig .quoteLength").removeClass("hidden"),
                    p("quoteLength", u.default.quoteLength))
                  : "custom" === u.default.mode &&
                    ($("#testConfig .puncAndNum").css({
                      maxWidth: "",
                      opacity: 1,
                    }),
                    $("#testConfig .leftSpacer").removeClass("scrolled"),
                    $("#testConfig .rightSpacer").removeClass("scrolled"),
                    $("#testConfig .customText").removeClass("hidden")),
                p("numbers", u.default.numbers),
                p("punctuation", u.default.punctuation);
            });
          }),
          (t.update = c),
          (t.updateExtras = p),
          (t.showFavoriteQuoteLength = function () {
            $("#testConfig .quoteLength .favorite").removeClass("hidden");
          }),
          (t.hideFavoriteQuoteLength = function () {
            $("#testConfig .quoteLength .favorite").addClass("hidden");
          }),
          l.subscribe((e, t, o, n) => {
            if ("test" === d.get())
              if ("mode" === e) {
                let e;
                c(n, t),
                  "time" === u.default.mode
                    ? (e = u.default.time)
                    : "words" === u.default.mode
                    ? (e = u.default.words)
                    : "quote" === u.default.mode && (e = u.default.quoteLength),
                  p(u.default.mode, e);
              } else
                [
                  "time",
                  "quoteLength",
                  "words",
                  "numbers",
                  "punctuation",
                ].includes(e) && p(e, t);
          });
      },
      4897: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.restart =
            t.pushBurstToHistory =
            t.pushToRawHistory =
            t.pushToWpmHistory =
            t.pushMissedWord =
            t.resetKeypressTimings =
            t.recordKeydownTime =
            t.recordKeyupTime =
            t.forceKeyup =
            t.incrementAccuracy =
            t.pushErrorToHistory =
            t.pushAfkToHistory =
            t.pushKeypressesToHistory =
            t.setBurstStart =
            t.pushKeypressWord =
            t.incrementKeypressErrors =
            t.setCurrentNotAfk =
            t.incrementKeypressCount =
            t.afkHistory =
            t.errorHistory =
            t.burstHistory =
            t.rawHistory =
            t.wpmHistory =
            t.keyOverlap =
            t.keypressTimings =
            t.accuracy =
            t.missedWords =
            t.currentBurstStart =
            t.keypressCountHistory =
            t.corrected =
            t.input =
              void 0);
        const r = a(o(9470)),
          s = o(3388),
          u = [
            "NumpadMultiply",
            "NumpadSubtract",
            "NumpadAdd",
            "NumpadDecimal",
            "NumpadEqual",
            "NumpadDivide",
            "Numpad0",
            "Numpad1",
            "Numpad2",
            "Numpad3",
            "Numpad4",
            "Numpad5",
            "Numpad6",
            "Numpad7",
            "Numpad8",
            "Numpad9",
            "Backquote",
            "Digit1",
            "Digit2",
            "Digit3",
            "Digit4",
            "Digit5",
            "Digit6",
            "Digit7",
            "Digit8",
            "Digit9",
            "Digit0",
            "Minus",
            "Equal",
            "KeyQ",
            "KeyW",
            "KeyE",
            "KeyR",
            "KeyT",
            "KeyY",
            "KeyU",
            "KeyI",
            "KeyO",
            "KeyP",
            "BracketLeft",
            "BracketRight",
            "Backslash",
            "KeyA",
            "KeyS",
            "KeyD",
            "KeyF",
            "KeyG",
            "KeyH",
            "KeyJ",
            "KeyK",
            "KeyL",
            "Semicolon",
            "Quote",
            "IntlBackslash",
            "KeyZ",
            "KeyX",
            "KeyC",
            "KeyV",
            "KeyB",
            "KeyN",
            "KeyM",
            "Comma",
            "Period",
            "Slash",
            "Space",
            "Enter",
            "Tab",
            "NoCode",
          ];
        let l = {};
        (t.input = new (class {
          constructor() {
            (this.current = ""),
              (this.history = []),
              (this.historyLength = 0),
              (this.length = 0),
              (this.koreanStatus = !1);
          }
          reset() {
            (this.current = ""), (this.history = []), (this.length = 0);
          }
          resetHistory() {
            (this.history = []), (this.length = 0);
          }
          setCurrent(e) {
            (this.current = e), (this.length = this.current.length);
          }
          setKoreanStatus(e) {
            this.koreanStatus = e;
          }
          appendCurrent(e) {
            (this.current += e), (this.length = this.current.length);
          }
          resetCurrent() {
            this.current = "";
          }
          getCurrent() {
            return this.current;
          }
          getKoreanStatus() {
            return this.koreanStatus;
          }
          pushHistory() {
            this.history.push(this.current),
              (this.historyLength = this.history.length),
              this.resetCurrent();
          }
          popHistory() {
            var e;
            const t =
              null !== (e = this.history.pop()) && void 0 !== e ? e : "";
            return (this.historyLength = this.history.length), t;
          }
          getHistory(e) {
            return void 0 === e ? this.history : this.history[e];
          }
          getHistoryLast() {
            return this.history[this.history.length - 1];
          }
        })()),
          (t.corrected = new (class {
            constructor() {
              (this.current = ""), (this.history = []);
            }
            setCurrent(e) {
              this.current = e;
            }
            appendCurrent(e) {
              this.current += e;
            }
            resetCurrent() {
              this.current = "";
            }
            resetHistory() {
              this.history = [];
            }
            reset() {
              this.resetCurrent(), this.resetHistory();
            }
            getHistory(e) {
              return this.history[e];
            }
            popHistory() {
              var e;
              return null !== (e = this.history.pop()) && void 0 !== e ? e : "";
            }
            pushHistory() {
              this.history.push(this.current), (this.current = "");
            }
          })()),
          (t.keypressCountHistory = []);
        let d = 0;
        (t.currentBurstStart = 0),
          (t.missedWords = {}),
          (t.accuracy = {
            correct: 0,
            incorrect: 0,
          }),
          (t.keypressTimings = {
            spacing: {
              first: -1,
              last: -1,
              array: [],
            },
            duration: {
              array: [],
            },
          }),
          (t.keyOverlap = {
            total: 0,
            lastStartTime: -1,
          }),
          (t.wpmHistory = []),
          (t.rawHistory = []),
          (t.burstHistory = []),
          (t.errorHistory = []);
        let c = {
          count: 0,
          words: [],
        };
        t.afkHistory = [];
        let p = !0;
        (t.incrementKeypressCount = function () {
          d++;
        }),
          (t.setCurrentNotAfk = function () {
            p = !1;
          }),
          (t.incrementKeypressErrors = function () {
            c.count++;
          }),
          (t.pushKeypressWord = function (e) {
            c.words.push(e);
          }),
          (t.setBurstStart = function (e) {
            t.currentBurstStart = e;
          }),
          (t.pushKeypressesToHistory = function () {
            t.keypressCountHistory.push(d), (d = 0);
          }),
          (t.pushAfkToHistory = function () {
            t.afkHistory.push(p), (p = !0);
          }),
          (t.pushErrorToHistory = function () {
            t.errorHistory.push(c),
              (c = {
                count: 0,
                words: [],
              });
          }),
          (t.incrementAccuracy = function (e) {
            e ? t.accuracy.correct++ : t.accuracy.incorrect++;
          }),
          (t.forceKeyup = function (e) {
            var o, n;
            const i = (0, s.roundTo2)(
                (0, s.mean)(t.keypressTimings.duration.array)
              ),
              a = Object.entries(l);
            a.sort((e, t) => e[1].timestamp - t[1].timestamp);
            for (const t of a) h(e, t[0]);
            const r =
                null === (o = a[a.length - 1]) || void 0 === o ? void 0 : o[0],
              u = null === (n = l[r]) || void 0 === n ? void 0 : n.index;
            void 0 !== r &&
              void 0 !== u &&
              (t.keypressTimings.duration.array[u] = i);
          });
        let f = 0;
        function h(e, o) {
          if (!u.includes(o)) return;
          "NoCode" === o && (f--, (o = "NoCode" + f));
          const n = l[o];
          if (void 0 === n) return;
          const i = Math.abs(n.timestamp - e);
          (t.keypressTimings.duration.array[n.index] = i),
            console.debug("Keyup recorded", o, i),
            delete l[o],
            m(e);
        }
        function m(e) {
          Object.keys(l).length > 1
            ? -1 === t.keyOverlap.lastStartTime &&
              (t.keyOverlap.lastStartTime = e)
            : -1 !== t.keyOverlap.lastStartTime &&
              ((t.keyOverlap.total += e - t.keyOverlap.lastStartTime),
              (t.keyOverlap.lastStartTime = -1));
        }
        (t.recordKeyupTime = h),
          (t.recordKeydownTime = function (e, o) {
            var n;
            if (u.includes(o))
              if (
                ("NoCode" === o && ((o = "NoCode" + f), f++), void 0 === l[o])
              ) {
                if (
                  ((l[o] = {
                    timestamp: e,
                    index: t.keypressTimings.duration.array.length,
                  }),
                  t.keypressTimings.duration.array.push(0),
                  m(null === (n = l[o]) || void 0 === n ? void 0 : n.timestamp),
                  -1 !== t.keypressTimings.spacing.last)
                ) {
                  const n = Math.abs(e - t.keypressTimings.spacing.last);
                  t.keypressTimings.spacing.array.push((0, s.roundTo2)(n)),
                    console.debug("Keydown recorded", o, n);
                }
                (t.keypressTimings.spacing.last = e),
                  -1 === t.keypressTimings.spacing.first &&
                    ((t.keypressTimings.spacing.first = e),
                    console.debug("First keydown recorded", o, e));
              } else console.debug("Key already down", o);
            else console.debug("Key not tracked", o);
          }),
          (t.resetKeypressTimings = function () {
            (t.keypressTimings = {
              spacing: {
                first: -1,
                last: -1,
                array: [],
              },
              duration: {
                array: [],
              },
            }),
              (t.keyOverlap = {
                total: 0,
                lastStartTime: -1,
              }),
              (l = {}),
              (f = 0),
              console.debug("Keypress timings reset");
          }),
          (t.pushMissedWord = function (e) {
            Object.keys(t.missedWords).includes(e)
              ? t.missedWords[e]++
              : (t.missedWords[e] = 1);
          }),
          (t.pushToWpmHistory = function (e) {
            t.wpmHistory.push(e);
          }),
          (t.pushToRawHistory = function (e) {
            t.rawHistory.push(e);
          }),
          (t.pushBurstToHistory = function (e) {
            void 0 === t.burstHistory[r.words.currentIndex]
              ? t.burstHistory.push(e)
              : (t.burstHistory[r.words.currentIndex] = e);
          }),
          (t.restart = function () {
            (t.wpmHistory = []),
              (t.rawHistory = []),
              (t.burstHistory = []),
              (t.keypressCountHistory = []),
              (d = 0),
              (t.afkHistory = []),
              (p = !0),
              (t.errorHistory = []),
              (c = {
                count: 0,
                words: [],
              }),
              (t.currentBurstStart = 0),
              (t.missedWords = {}),
              (t.accuracy = {
                correct: 0,
                incorrect: 0,
              }),
              (t.keypressTimings = {
                spacing: {
                  first: -1,
                  last: -1,
                  array: [],
                },
                duration: {
                  array: [],
                },
              });
          });
      },
      3013: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.fail =
            t.finish =
            t.retrySavingResult =
            t.addWord =
            t.init =
            t.restart =
            t.startTest =
            t.setNotSignedInUid =
            t.clearNotSignedInResult =
            t.notSignedInLastResult =
              void 0);
        const u = s(o(7355)),
          l = a(o(8673)),
          d = a(o(2203)),
          c = a(o(6705)),
          p = c,
          f = a(o(3388)),
          h = a(o(3368)),
          m = a(o(8248)),
          g = a(o(7717)),
          v = a(o(2474)),
          y = a(o(9196)),
          b = a(o(5578)),
          w = a(o(8911)),
          _ = a(o(2591)),
          C = a(o(2148)),
          S = a(o(743)),
          x = a(o(1294)),
          P = a(o(5886)),
          k = a(o(4292)),
          T = a(o(3261)),
          O = a(o(2331)),
          M = a(o(8700)),
          A = a(o(8824)),
          j = a(o(2338)),
          W = a(o(6084)),
          L = a(o(1333)),
          B = a(o(5344)),
          E = a(o(6350)),
          F = a(o(4626)),
          I = a(o(2026)),
          R = a(o(7567)),
          D = a(o(8182)),
          V = a(o(3448)),
          q = a(o(6578)),
          H = a(o(7346)),
          K = a(o(4897)),
          N = a(o(9470)),
          z = a(o(9510)),
          U = a(o(1322)),
          Q = a(o(2453)),
          G = a(o(5705)),
          J = a(o(1446)),
          Y = a(o(6507)),
          Z = a(o(7274)),
          X = a(o(7353)),
          ee = s(o(705)),
          te = a(o(3326)),
          oe = o(6617),
          ne = a(o(1493)),
          ie = a(o(5513)),
          ae = a(o(3285)),
          re = a(o(732)),
          se = a(o(556)),
          ue = a(o(5368)),
          le = a(o(6883)),
          de = a(o(4905)),
          ce = a(o(4854));
        let pe = "";
        const fe = document.getElementById("koInputVisual");
        function he(e = {}) {
          var t, o, n;
          if (
            ((e = Object.assign(
              Object.assign(
                {},
                {
                  withSameWordset: !1,
                  practiseMissed: !1,
                  noAnim: !1,
                  nosave: !1,
                }
              ),
              e
            )),
            l.testRestarting || l.resultCalculating)
          )
            return void (
              null === event ||
              void 0 === event ||
              event.preventDefault()
            );
          if (
            "test" === H.get() &&
            !d.get() &&
            ("zen" !== c.default.mode &&
              (null === event || void 0 === event || event.preventDefault()),
            !f.canQuickRestart(
              c.default.mode,
              c.default.words,
              c.default.time,
              m,
              null !== (t = g.isCustomTextLong()) && void 0 !== t && t
            ))
          ) {
            let e = "Use your mouse to confirm.";
            return (
              "tab" === c.default.quickRestart
                ? (e = "Press shift + tab or use your mouse to confirm.")
                : "esc" === c.default.quickRestart
                ? (e = "Press shift + escape or use your mouse to confirm.")
                : "enter" === c.default.quickRestart &&
                  (e = "Press shift + enter or use your mouse to confirm."),
              void h.add(`Quick restart disabled in long tests. ${e}`, 0, {
                duration: 4,
                important: !0,
              })
            );
          }
          if (e.withSameWordset) {
            const t =
              null ===
                (n =
                  null ===
                    (o = re.get(c.default.funbox).find((e) => {
                      var t;
                      return null === (t = e.properties) || void 0 === t
                        ? void 0
                        : t.find((e) => e.startsWith("toPush"));
                    })) || void 0 === o
                    ? void 0
                    : o.properties) || void 0 === n
                ? void 0
                : n.find((e) => e.startsWith("toPush:"));
            t &&
              (h.add(
                "You can't repeat a test with currently active funboxes",
                0,
                {
                  important: !0,
                }
              ),
              (e.withSameWordset = !1));
          }
          if (
            U.isActive &&
            (U.isRepeated && (e.withSameWordset = !0), U.savingEnabled)
          ) {
            K.pushKeypressesToHistory(),
              K.pushErrorToHistory(),
              K.pushAfkToHistory();
            const e = v.calculateTestSeconds(performance.now()),
              t = v.calculateAfkSeconds(e);
            let o = f.roundTo2(e - t);
            o < 0 && (o = 0),
              v.incrementIncompleteSeconds(o),
              v.incrementRestartCount();
            const n = f.roundTo2(v.calculateAccuracy());
            v.pushIncompleteTest(n, o);
          }
          "quote" === c.default.mode &&
            N.randomQuote &&
            c.default.language.startsWith(N.randomQuote.language) &&
            "typing" === c.default.repeatQuotes &&
            (U.isActive || "" !== pe) &&
            (e.withSameWordset = !0),
            null === y.before.mode ||
              e.withSameWordset ||
              e.practiseMissed ||
              (h.add("Reverting to previous settings.", 0),
              null !== y.before.punctuation &&
                p.setPunctuation(y.before.punctuation),
              null !== y.before.numbers && p.setNumbers(y.before.numbers),
              y.before.customText &&
                (m.setText(y.before.customText.text),
                m.setIsTimeRandom(y.before.customText.isTimeRandom),
                m.setIsWordRandom(y.before.customText.isWordRandom),
                m.setWord(y.before.customText.word),
                m.setTime(y.before.customText.time),
                m.setPopupTextareaState(
                  y.before.customText.text.join(m.delimiter)
                )),
              p.setMode(y.before.mode),
              y.resetBefore()),
            d.reset(),
            W.clear(),
            v.restart(),
            K.restart(),
            K.corrected.reset(),
            b.reset(),
            k.hide(),
            U.setActive(!1),
            F.stopReplayRecording(),
            T.hide(),
            O.hide(),
            M.hide(),
            A.hide(),
            F.pauseReplay(),
            U.setBailedOut(!1),
            P.reset(),
            X.hide(),
            K.input.setKoreanStatus(!1),
            le.hide(),
            se.reset(),
            D.clearQuoteStats(),
            l.reset(),
            l.resultVisible &&
              ("off" !== c.default.randomTheme && S.randomizeTheme(),
              B.skipXpBreakdown()),
            ae.get() || ae.showOfflineBanner();
          let i = null;
          (i = l.resultVisible ? $("#result") : $("#typingTest")),
            l.setResultVisible(!1),
            G.set(!0),
            l.setTestRestarting(!0),
            i.stop(!0, !0).animate(
              {
                opacity: 0,
              },
              e.noAnim ? 0 : 125,
              () =>
                r(this, void 0, void 0, function* () {
                  var t;
                  $("#result").addClass("hidden"),
                    $("#typingTest").css("opacity", 0).removeClass("hidden"),
                    $("#wordsInput").val(" "),
                    c.default.language.startsWith("korean")
                      ? ((fe.innerText = " "),
                        "zen" !== c.default.mode
                          ? $("#koInputVisualContainer").show()
                          : $("#koInputVisualContainer").hide())
                      : $("#koInputVisualContainer").hide(),
                    w.set(!1),
                    "test" === H.get() && ne.updateFooterAndVerticalAds(!1),
                    ie.show(),
                    ne.destroyResult(),
                    yield _.rememberSettings(),
                    (ve = 0),
                    (pe = "");
                  let o = !1;
                  c.default.repeatedPace && e.withSameWordset && (o = !0),
                    e.withSameWordset
                      ? (U.setRepeated(!0),
                        U.setPaceRepeat(o),
                        F.stopReplayRecording(),
                        N.words.resetCurrentIndex(),
                        K.input.reset(),
                        l.showWords(),
                        "next" === c.default.keymapMode &&
                          "zen" !== c.default.mode &&
                          ue.highlight(
                            f.nthElementFromArray([...N.words.getCurrent()], 0)
                          ),
                        _.toggleScript(N.words.getCurrent()),
                        yield P.init())
                      : (U.setRepeated(!1),
                        U.setPaceRepeat(o),
                        yield ye(),
                        yield P.init()),
                    "quote" === c.default.mode && U.setRepeated(!1);
                  for (const e of re.get(c.default.funbox))
                    (null === (t = e.functions) || void 0 === t
                      ? void 0
                      : t.restart) && e.functions.restart();
                  "off" !== c.default.showAverage
                    ? Z.update().then(() => {
                        Q.update();
                      })
                    : Q.update(),
                    $("#typingTest")
                      .css("opacity", 0)
                      .removeClass("hidden")
                      .stop(!0, !0)
                      .animate(
                        {
                          opacity: 1,
                        },
                        e.noAnim ? 0 : 125,
                        () => {
                          (document.querySelector(
                            "#miniTimerAndLiveWpm .wpm"
                          ).innerHTML = "0"),
                            (document.querySelector(
                              "#miniTimerAndLiveWpm .acc"
                            ).innerHTML = "100%"),
                            (document.querySelector(
                              "#miniTimerAndLiveWpm .burst"
                            ).innerHTML = "0"),
                            (document.querySelector("#liveWpm").innerHTML =
                              "0"),
                            (document.querySelector("#liveAcc").innerHTML =
                              "100%"),
                            (document.querySelector("#liveBurst").innerHTML =
                              "0"),
                            l.setTestRestarting(!1),
                            l.focusWords(),
                            l.updatePremid(),
                            d.reset(),
                            G.set(!1);
                        }
                      );
                })
            ),
            x.destroy();
        }
        let me;
        (t.notSignedInLastResult = null),
          (t.clearNotSignedInResult = function () {
            t.notSignedInLastResult = null;
          }),
          (t.setNotSignedInUid = function (e) {
            null !== t.notSignedInLastResult &&
              ((t.notSignedInLastResult.uid = e),
              delete t.notSignedInLastResult.hash,
              (t.notSignedInLastResult.hash = (0, ee.default)(
                t.notSignedInLastResult
              )));
          }),
          (t.startTest = function (e) {
            var t;
            if (G.get()) return !1;
            (
              null === oe.Auth || void 0 === oe.Auth
                ? void 0
                : oe.Auth.currentUser
            )
              ? te.log("testStarted")
              : te.log("testStartedNoLogin"),
              U.setActive(!0),
              F.startReplayRecording(),
              F.replayGetWordsList(N.words.list),
              K.resetKeypressTimings(),
              A.restart(),
              A.show(),
              $("#liveWpm").text("0"),
              T.show(),
              O.show(),
              M.show(),
              A.update(),
              W.clear(),
              X.show();
            for (const e of re.get(c.default.funbox))
              (null === (t = e.functions) || void 0 === t ? void 0 : t.start) &&
                e.functions.start();
            try {
              ("off" !== c.default.paceCaret ||
                (c.default.repeatedPace && U.isPaceRepeat)) &&
                P.start();
            } catch (e) {}
            return v.setStart(e), W.start(), !0;
          }),
          (t.restart = he);
        let ge,
          ve = 0;
        function ye() {
          var e;
          return r(this, void 0, void 0, function* () {
            if ((console.debug("Initializing test"), ve++, ve >= 4))
              return (
                l.setTestRestarting(!1),
                void h.add(
                  "Too many test reinitialization attempts. Something is going very wrong. Please contact support.",
                  -1,
                  {
                    important: !0,
                  }
                )
              );
            let t, o, n;
            q.reset(),
              F.stopReplayRecording(),
              N.words.reset(),
              l.setCurrentWordElementIndex(0),
              K.input.resetHistory(),
              K.input.resetCurrent();
            try {
              t = yield f.getLanguage(c.default.language);
            } catch (e) {
              h.add(f.createErrorMessage(e, "Failed to load language"), -1);
            }
            if (!t || (t && t.name !== c.default.language))
              return p.setLanguage("english"), void (yield ye());
            if (
              ("test" === H.get() && (yield _.activate()),
              "quote" === c.default.mode)
            ) {
              let e;
              c.default.quoteLength.includes(-3) &&
                !(null === oe.Auth || void 0 === oe.Auth
                  ? void 0
                  : oe.Auth.currentUser) &&
                p.setQuoteLength(-1);
              try {
                e = yield f.findCurrentGroup(c.default.language);
              } catch (e) {
                return void console.error(
                  f.createErrorMessage(
                    e,
                    "Failed to find current language group"
                  )
                );
              }
              e &&
                "code" !== e.name &&
                "other" !== e.name &&
                e.name !== c.default.language &&
                ((ge = c.default.language), p.setLanguage(e.name));
            } else if (ge && c.default.language === ge.split("_")[0]) return p.setLanguage(ge), (ge = void 0), void (yield ye());
            "off" !== c.default.tapeMode &&
              !0 === t.rightToLeft &&
              (h.add("This language does not support tape mode.", 0, {
                important: !0,
              }),
              p.setTapeMode("off")),
              !0 === c.default.lazyMode && t.noLazyMode
                ? ((me = !0),
                  h.add("This language does not support lazy mode.", 0, {
                    important: !0,
                  }),
                  p.setLazyMode(!1, !0))
                : !0 !== me || t.noLazyMode || p.setLazyMode(!0, !0),
              !1 !== c.default.lazyMode || t.noLazyMode || (me = !1);
            try {
              const e = yield z.generateWords(t);
              (o = e.words), (n = e.sectionIndexes);
            } catch (e) {
              return (
                console.error(e),
                e instanceof z.WordGenError
                  ? h.add(e.message, 0, {
                      important: !0,
                    })
                  : h.add(
                      f.createErrorMessage(e, "Failed to generate words"),
                      -1,
                      {
                        important: !0,
                      }
                    ),
                void (yield ye())
              );
            }
            const i = !!N.hasNumbers;
            let a = !1,
              r = !1,
              s = !1;
            for (const e of o)
              /\t/g.test(e) && !a && (a = !0),
                /\d/g.test(e) && !r && (r = !0),
                /\n/g.test(e) && !s && (s = !0);
            N.setHasTab(a),
              N.setHasNumbers(r),
              N.setHasNewline(s),
              i !== r && C.refresh();
            for (let e = 0; e < o.length; e++) N.words.push(o[e], n[e]);
            "next" === c.default.keymapMode &&
              "zen" !== c.default.mode &&
              ue.highlight(f.nthElementFromArray([...N.words.getCurrent()], 0)),
              _.toggleScript(N.words.getCurrent()),
              l.setRightToLeft(t.rightToLeft),
              l.setLigatures(null !== (e = t.ligatures) && void 0 !== e && e),
              l.showWords(),
              console.debug("Test initialized with words", o),
              console.debug("Test initialized with section indexes", n);
          });
        }
        (t.init = ye),
          (t.addWord = function () {
            var e, t, o, n, i, a;
            return r(this, void 0, void 0, function* () {
              let r = 100;
              const s =
                  null ===
                    (t =
                      null ===
                        (e = re.get(c.default.funbox).find((e) => {
                          var t;
                          return null === (t = e.properties) || void 0 === t
                            ? void 0
                            : t.find((e) => e.startsWith("toPush"));
                        })) || void 0 === e
                        ? void 0
                        : e.properties) || void 0 === t
                    ? void 0
                    : t.find((e) => e.startsWith("toPush:")),
                u = null == s ? void 0 : s.split(":")[1];
              if (
                (u && (r = +u - 1),
                N.words.length - K.input.history.length > r ||
                  ("words" === c.default.mode &&
                    N.words.length >= c.default.words &&
                    c.default.words > 0) ||
                  ("custom" === c.default.mode &&
                    m.isWordRandom &&
                    N.words.length >= m.word &&
                    0 !== m.word) ||
                  ("custom" === c.default.mode &&
                    !m.isWordRandom &&
                    !m.isTimeRandom &&
                    !m.isSectionRandom &&
                    N.words.length >= m.text.length) ||
                  ("quote" === c.default.mode &&
                    N.words.length >=
                      (null !==
                        (i =
                          null ===
                            (n =
                              null === (o = N.randomQuote) || void 0 === o
                                ? void 0
                                : o.textSplit) || void 0 === n
                            ? void 0
                            : n.length) && void 0 !== i
                        ? i
                        : 0)) ||
                  ("custom" === c.default.mode &&
                    m.isSectionRandom &&
                    z.sectionIndex >= m.section &&
                    0 === z.currentSection.length &&
                    0 !== m.section))
              )
                return;
              const d = re.get(c.default.funbox).find((e) => {
                var t;
                return null === (t = e.functions) || void 0 === t
                  ? void 0
                  : t.pullSection;
              });
              if (
                (null === (a = null == d ? void 0 : d.functions) || void 0 === a
                  ? void 0
                  : a.pullSection) &&
                N.words.length - N.words.currentIndex < 20
              ) {
                const e = yield d.functions.pullSection(c.default.language);
                if (!1 === e)
                  return (
                    h.add(
                      "Error while getting section. Please try again later",
                      -1
                    ),
                    p.toggleFunbox(d.name),
                    void he()
                  );
                if (void 0 === e) return;
                let t = 0;
                for (let o = 0; o < e.words.length; o++) {
                  const n = e.words[o];
                  if (t >= c.default.words && "words" === c.default.mode) break;
                  t++, N.words.push(n, o), l.addWord(n);
                }
              }
              const g =
                  "custom" !== c.default.mode
                    ? yield f.getCurrentLanguage(c.default.language)
                    : Object.assign(
                        Object.assign(
                          {},
                          yield f.getCurrentLanguage(c.default.language)
                        ),
                        {
                          words: m.text,
                        }
                      ),
                v = yield de.withWords(g.words),
                y = yield z.getNextWord(
                  v,
                  N.words.length,
                  g,
                  r,
                  N.words.get(N.words.length - 1),
                  N.words.get(N.words.length - 2)
                );
              N.words.push(y.word, y.sectionIndex), l.addWord(y.word);
            });
          });
        const be = {
          completedEvent: null,
          canRetry: !1,
        };
        function we() {
          return r(this, void 0, void 0, function* () {
            const { completedEvent: e } = be;
            null !== e
              ? be.canRetry &&
                ((be.canRetry = !1),
                $("#retrySavingResultButton").addClass("hidden"),
                B.loading(!0),
                h.add("Retrying to save..."),
                _e(e, !0))
              : h.add(
                  "Could not retry saving the result as the result no longer exists.",
                  0,
                  {
                    duration: 5,
                    important: !0,
                  }
                );
          });
        }
        function $e(e = !1) {
          var o, n, i, a, s;
          return r(this, void 0, void 0, function* () {
            if (!U.isActive) return;
            l.setResultCalculating(!0);
            const r = performance.now();
            v.setEnd(r),
              yield f.sleep(1),
              0 !== K.input.current.length &&
                (K.input.pushHistory(),
                K.corrected.pushHistory(),
                F.replayGetWordsList(K.input.history)),
              K.forceKeyup(r);
            const u = (r - K.keypressTimings.spacing.last) / 1e3;
            if (
              (("zen" === c.default.mode || U.bailedOut) &&
                u < 7 &&
                v.setEnd(K.keypressTimings.spacing.last),
              l.setResultVisible(!0),
              U.setActive(!1),
              F.stopReplayRecording(),
              k.hide(),
              T.hide(),
              O.hide(),
              M.hide(),
              A.hide(),
              L.hide(),
              W.clear(),
              _.clear(),
              X.hide(),
              Q.update(),
              K.burstHistory.length !==
                (null === (o = K.input.getHistory()) || void 0 === o
                  ? void 0
                  : o.length))
            ) {
              const e = v.calculateBurst();
              K.pushBurstToHistory(e);
            }
            ("zen" === c.default.mode || U.bailedOut) && v.removeAfkData();
            const d = (function (e) {
              var t, o, n, i, a, r, s, u;
              let l = f.roundTo2(K.keypressTimings.spacing.first - v.start);
              (l < 0 || "zen" === c.default.mode) && (l = 0);
              let d = f.roundTo2(v.end - K.keypressTimings.spacing.last);
              (d < 0 || "zen" === c.default.mode) && (d = 0);
              const p = v.calculateStats();
              if (
                (p.time % 1 != 0 &&
                  "time" !== c.default.mode &&
                  v.setLastSecondNotRound(),
                P.setLastTestWpm(p.wpm),
                v.lastSecondNotRound && !e)
              ) {
                const e = v.calculateWpmAndRaw();
                K.pushToWpmHistory(e.wpm),
                  K.pushToRawHistory(e.raw),
                  K.pushKeypressesToHistory(),
                  K.pushErrorToHistory(),
                  K.pushAfkToHistory();
              }
              const h = K.keypressCountHistory.map((e) =>
                Math.round((e / 5) * 60)
              );
              if (
                "time" !== c.default.mode &&
                v.lastSecondNotRound &&
                p.time % 1 >= 0.5
              ) {
                const e = 1 / (p.time % 1);
                h[h.length - 1] = Math.round(h[h.length - 1] * e);
              }
              const g = f.stdDev(h),
                y = f.mean(h);
              let b = f.roundTo2(f.kogasa(g / y)),
                w = K.keypressTimings.spacing.array.slice();
              w.length > 0 && (w = w.slice(0, w.length - 1));
              let $ = f.roundTo2(f.kogasa(f.stdDev(w) / f.mean(w)));
              (b && !isNaN(b)) || (b = 0), ($ && !isNaN($)) || ($ = 0);
              const _ = [];
              for (let e = 0; e < K.errorHistory.length; e++)
                _.push(
                  null !==
                    (o =
                      null === (t = K.errorHistory[e]) || void 0 === t
                        ? void 0
                        : t.count) && void 0 !== o
                    ? o
                    : 0
                );
              const C = {
                  wpm: K.wpmHistory,
                  raw: h,
                  err: _,
                },
                S = f.stdDev(null !== (n = C.wpm) && void 0 !== n ? n : []),
                x = f.mean(null !== (i = C.wpm) && void 0 !== i ? i : []),
                k = f.roundTo2(f.kogasa(S / x)),
                T = isNaN(k) ? 0 : k;
              let O = null;
              "custom" === c.default.mode &&
                ((O = {}),
                (O.textLen = m.text.length),
                (O.isWordRandom = m.isWordRandom),
                (O.isTimeRandom = m.isTimeRandom),
                (O.word = m.word),
                (O.time = m.time));
              const M = [];
              for (const e of null !==
                (r =
                  null === (a = E.getSnapshot()) || void 0 === a
                    ? void 0
                    : a.tags) && void 0 !== r
                ? r
                : [])
                !0 === e.active && M.push(e._id);
              const A = parseFloat(p.time.toString()),
                j = v.calculateAfkSeconds(A);
              let W = c.default.language;
              "quote" === c.default.mode &&
                (W = c.default.language.replace(/_\d*k$/g, ""));
              const L =
                  null !==
                    (u =
                      null === (s = N.randomQuote) || void 0 === s
                        ? void 0
                        : s.group) && void 0 !== u
                    ? u
                    : -1,
                B = {
                  wpm: p.wpm,
                  rawWpm: p.wpmRaw,
                  charStats: [
                    p.correctChars + p.correctSpaces,
                    p.incorrectChars,
                    p.extraChars,
                    p.missedChars,
                  ],
                  charTotal: p.allChars,
                  acc: p.acc,
                  mode: c.default.mode,
                  mode2: f.getMode2(c.default, N.randomQuote),
                  quoteLength: L,
                  punctuation: c.default.punctuation,
                  numbers: c.default.numbers,
                  lazyMode: c.default.lazyMode,
                  timestamp: Date.now(),
                  language: W,
                  restartCount: v.restartCount,
                  incompleteTests: v.incompleteTests,
                  incompleteTestSeconds:
                    v.incompleteSeconds < 0
                      ? 0
                      : f.roundTo2(v.incompleteSeconds),
                  difficulty: c.default.difficulty,
                  blindMode: c.default.blindMode,
                  tags: M,
                  keySpacing: K.keypressTimings.spacing.array,
                  keyDuration: K.keypressTimings.duration.array,
                  keyOverlap: f.roundTo2(K.keyOverlap.total),
                  lastKeyToEnd: d,
                  startToFirstKey: l,
                  consistency: b,
                  wpmConsistency: T,
                  keyConsistency: $,
                  funbox: c.default.funbox,
                  bailedOut: U.bailedOut,
                  chartData: C,
                  customText: O,
                  testDuration: A,
                  afkDuration: j,
                };
              return (
                "custom" !== B.mode && delete B.customText,
                "quote" !== B.mode && delete B.quoteLength,
                B
              );
            })(e);
            let p = !1;
            (function e(t) {
              return "number" == typeof t
                ? isNaN(t)
                  ? 1
                  : 0
                : void 0 === t
                ? 1
                : "object" == typeof t && null !== t
                ? Object.values(t).reduce((t, o) => t + e(o), 0)
                : 0;
            })(d) > 0 &&
              (console.log(d),
              h.add(
                "Failed to build result object: One of the fields is undefined or NaN",
                -1
              ),
              (p = !0));
            const y = JSON.parse(JSON.stringify(d));
            let b = K.afkHistory.slice(-5).every((e) => !0 === e);
            U.bailedOut && (b = !1);
            const w = parseInt(y.mode2);
            let C = !1;
            if (
              (e
                ? (h.add(`Test failed - ${pe}`, 0, {
                    duration: 1,
                  }),
                  (p = !0))
                : b
                ? (h.add("Test invalid - AFK detected", 0), (p = !0))
                : U.isRepeated
                ? (h.add("Test invalid - repeated", 0), (p = !0))
                : ("time" === c.default.mode && w < 15 && w > 0) ||
                  ("time" === c.default.mode &&
                    0 === w &&
                    y.testDuration < 15) ||
                  ("words" === c.default.mode && w < 10 && w > 0) ||
                  ("words" === c.default.mode &&
                    0 === w &&
                    y.testDuration < 15) ||
                  ("custom" === c.default.mode &&
                    !m.isWordRandom &&
                    !m.isTimeRandom &&
                    !m.isSectionRandom &&
                    m.text.length < 10) ||
                  ("custom" === c.default.mode &&
                    m.isWordRandom &&
                    !m.isTimeRandom &&
                    !m.isSectionRandom &&
                    m.word < 10) ||
                  ("custom" === c.default.mode &&
                    !m.isWordRandom &&
                    !m.isSectionRandom &&
                    m.isTimeRandom &&
                    m.time < 15) ||
                  ("custom" === c.default.mode &&
                    !m.isWordRandom &&
                    !m.isTimeRandom &&
                    m.isSectionRandom &&
                    N.words.length < 10) ||
                  ("zen" === c.default.mode && y.testDuration < 15)
                ? (h.add("Test invalid - too short", 0), (C = !0), (p = !0))
                : y.wpm < 0 ||
                  (y.wpm > 350 && "words" !== y.mode && "10" !== y.mode2) ||
                  (y.wpm > 420 && "words" === y.mode && "10" === y.mode2)
                ? (h.add("Test invalid - wpm", 0), v.setInvalid(), (p = !0))
                : y.rawWpm < 0 ||
                  (y.rawWpm > 350 && "words" !== y.mode && "10" !== y.mode2) ||
                  (y.rawWpm > 420 && "words" === y.mode && "10" === y.mode2)
                ? (h.add("Test invalid - raw", 0), v.setInvalid(), (p = !0))
                : ((!(null === (n = E.getSnapshot()) || void 0 === n
                    ? void 0
                    : n.lbOptOut) &&
                    (y.acc < 75 || y.acc > 100)) ||
                    (!0 ===
                      (null === (i = E.getSnapshot()) || void 0 === i
                        ? void 0
                        : i.lbOptOut) &&
                      (y.acc < 50 || y.acc > 100))) &&
                  (h.add("Test invalid - accuracy", 0),
                  v.setInvalid(),
                  (p = !0)),
              U.isRepeated)
            ) {
              const e = y.testDuration,
                t = y.afkDuration;
              let o = f.roundTo2(e - t);
              o < 0 && (o = 0);
              const n = y.acc;
              v.incrementIncompleteSeconds(o), v.pushIncompleteTest(n, o);
            }
            const S = g.getCustomTextName(),
              x = g.isCustomTextLong();
            if ("custom" === c.default.mode && "" !== S && x)
              if (U.bailedOut || K.input.history.length < N.words.length) {
                const e =
                    null === (a = K.input.getHistory()) || void 0 === a
                      ? void 0
                      : a.length,
                  t = m.getCustomTextLongProgress(S) + e;
                m.setCustomTextLongProgress(S, t),
                  h.add("Long custom text progress saved", 1, {
                    duration: 5,
                    important: !0,
                  });
                let o = m.getCustomText(S, !0);
                (o = o.slice(t)),
                  m.setPopupTextareaState(o.join(m.delimiter)),
                  m.setText(o);
              } else {
                m.setCustomTextLongProgress(S, 0);
                const e = m.getCustomText(S, !0);
                m.setPopupTextareaState(e.join(m.delimiter)),
                  m.setText(e),
                  h.add("Long custom text completed", 1, {
                    duration: 5,
                    important: !0,
                  });
              }
            p ||
              (I.addSeconds(
                y.testDuration +
                  (v.incompleteSeconds < 0
                    ? 0
                    : f.roundTo2(v.incompleteSeconds)) -
                  y.afkDuration
              ),
              V.updateTodayTracker()),
              (
                null === oe.Auth || void 0 === oe.Auth
                  ? void 0
                  : oe.Auth.currentUser
              )
                ? $(".pageTest #result #reportQuoteButton").removeClass(
                    "hidden"
                  )
                : ($(".pageTest #result #rateQuoteButton").addClass("hidden"),
                  $(".pageTest #result #reportQuoteButton").addClass("hidden"),
                  te.log("testCompletedNoLogin"),
                  p || (t.notSignedInLastResult = y),
                  (p = !0)),
              $("#result .stats .dailyLeaderboard").addClass("hidden"),
              v.setLastResult(JSON.parse(JSON.stringify(y))),
              ae.get() || ae.showOfflineBanner(),
              yield V.update(y, e, pe, b, U.isRepeated, C, N.randomQuote, p),
              "toolong" !== y.chartData && delete y.chartData.unsmoothedRaw,
              y.testDuration > 122 &&
                ((y.chartData = "toolong"),
                (y.keySpacing = "toolong"),
                (y.keyDuration = "toolong")),
              p
                ? te.log("testCompletedInvalid")
                : (v.resetIncomplete(),
                  (y.uid =
                    null ===
                      (s =
                        null === oe.Auth || void 0 === oe.Auth
                          ? void 0
                          : oe.Auth.currentUser) || void 0 === s
                      ? void 0
                      : s.uid),
                  V.updateRateQuote(N.randomQuote),
                  B.loading(!0),
                  !0 !== y.bailedOut && (y.challenge = R.verify(y)),
                  null === y.challenge && (null == y || delete y.challenge),
                  (y.hash = (0, ee.default)(y)),
                  _e(y, !1));
          });
        }
        function _e(e, t) {
          var o, n, i, a, s, l, d, p, m, g, v;
          return r(this, void 0, void 0, function* () {
            if (!U.savingEnabled)
              return (
                h.add("Result not saved: disabled by user", -1, {
                  duration: 3,
                  customTitle: "Notice",
                  important: !0,
                }),
                void B.loading(!1)
              );
            if (!ae.get())
              return (
                h.add("Result not saved: offline", -1, {
                  duration: 2,
                  customTitle: "Notice",
                  important: !0,
                }),
                B.loading(!1),
                (be.canRetry = !0),
                $("#retrySavingResultButton").removeClass("hidden"),
                void (t || (be.completedEvent = e))
              );
            const r = yield u.default.results.save(e);
            if ((B.loading(!1), 200 !== r.status))
              return (
                [460, 461, 463, 464, 465].includes(r.status) ||
                  ((be.canRetry = !0),
                  $("#retrySavingResultButton").removeClass("hidden"),
                  t || (be.completedEvent = e)),
                console.log("Error saving result", e),
                "Old key data format" === r.message &&
                  (r.message =
                    "Old key data format. Please refresh the page to download the new update. If the problem persists, please contact support."),
                h.add("Failed to save result: " + r.message, -1)
              );
            if (
              ($("#result .stats .tags .editTagsButton").attr(
                "result-id",
                r.data.insertedId
              ),
              $("#result .stats .tags .editTagsButton").removeClass(
                "invisible"
              ),
              null === (o = null == r ? void 0 : r.data) || void 0 === o
                ? void 0
                : o.xp)
            ) {
              const e =
                null !==
                  (i =
                    null === (n = E.getSnapshot()) || void 0 === n
                      ? void 0
                      : n.xp) && void 0 !== i
                  ? i
                  : 0;
              B.updateXpBar(e, r.data.xp, r.data.xpBreakdown),
                E.addXp(r.data.xp);
            }
            (null === (a = null == r ? void 0 : r.data) || void 0 === a
              ? void 0
              : a.streak) && E.setStreak(r.data.streak),
              (null === (s = null == r ? void 0 : r.data) || void 0 === s
                ? void 0
                : s.insertedId) &&
                ((e._id = r.data.insertedId),
                (null === (l = null == r ? void 0 : r.data) || void 0 === l
                  ? void 0
                  : l.isPb) && (e.isPb = !0),
                E.saveLocalResult(e),
                E.updateLocalStats(
                  e.incompleteTests.length + 1,
                  e.testDuration + e.incompleteTestSeconds - e.afkDuration
                )),
              te.log("testCompleted"),
              (null === (d = null == r ? void 0 : r.data) || void 0 === d
                ? void 0
                : d.isPb) &&
                ((null ===
                  (g =
                    null ===
                      (m =
                        null === (p = E.getSnapshot()) || void 0 === p
                          ? void 0
                          : p.personalBests) || void 0 === m
                      ? void 0
                      : m[c.default.mode]) || void 0 === g
                  ? void 0
                  : g[e.mode2]) && V.showConfetti(),
                V.showCrown(),
                yield V.updateCrown(),
                E.saveLocalPB(
                  c.default.mode,
                  e.mode2,
                  c.default.punctuation,
                  c.default.language,
                  c.default.difficulty,
                  c.default.lazyMode,
                  e.wpm,
                  e.acc,
                  e.rawWpm,
                  e.consistency
                )),
              (
                null === (v = null == r ? void 0 : r.data) || void 0 === v
                  ? void 0
                  : v.dailyLeaderboardRank
              )
                ? ($("#result .stats .dailyLeaderboard")
                    .css({
                      maxWidth: "13rem",
                      opacity: 0,
                    })
                    .removeClass("hidden")
                    .animate(
                      {
                        opacity: 1,
                      },
                      500
                    ),
                  $("#result .stats .dailyLeaderboard .bottom").html(
                    f.getPositionString(r.data.dailyLeaderboardRank)
                  ))
                : $("#result .stats .dailyLeaderboard").addClass("hidden"),
              $("#retrySavingResultButton").addClass("hidden"),
              t &&
                h.add("Result saved", 1, {
                  important: !0,
                });
          });
        }
        function Ce(e) {
          if (
            ((pe = e),
            K.pushKeypressesToHistory(),
            K.pushErrorToHistory(),
            K.pushAfkToHistory(),
            $e(!0),
            !U.savingEnabled)
          )
            return;
          const t = v.calculateTestSeconds(performance.now()),
            o = v.calculateAfkSeconds(t);
          let n = f.roundTo2(t - o);
          n < 0 && (n = 0),
            v.incrementIncompleteSeconds(n),
            v.incrementRestartCount();
          const i = f.roundTo2(v.calculateAccuracy());
          v.pushIncompleteTest(i, n);
        }
        (t.retrySavingResult = we),
          (t.finish = $e),
          (t.fail = Ce),
          $(".pageTest").on(
            "click",
            "#testModesNotice .textButton.restart",
            () => {
              he();
            }
          ),
          $(".pageTest").on("click", "#restartTestButton", () => {
            d.set(),
              l.resultCalculating ||
                (U.isActive &&
                "typing" === c.default.repeatQuotes &&
                "quote" === c.default.mode
                  ? he({
                      withSameWordset: !0,
                    })
                  : he());
          }),
          $(".pageTest").on("click", "#retrySavingResultButton", we),
          $(".pageTest").on("click", "#nextTestButton", () => {
            d.set(), he();
          }),
          $(".pageTest").on(
            "click",
            "#restartTestButtonWithSameWordset",
            () => {
              "zen" !== c.default.mode
                ? (d.set(),
                  he({
                    withSameWordset: !0,
                  }))
                : h.add("Repeat test disabled in zen mode");
            }
          ),
          $(".pageTest").on("click", "#testConfig .mode .textButton", (e) => {
            var t;
            if (l.testRestarting) return;
            if ($(e.currentTarget).hasClass("active")) return;
            const o =
              null !== (t = $(e.currentTarget).attr("mode")) && void 0 !== t
                ? t
                : "time";
            void 0 !== o && (p.setMode(o), d.set(), he());
          }),
          $(".pageTest").on(
            "click",
            "#testConfig .wordCount .textButton",
            (e) => {
              var t;
              if (l.testRestarting) return;
              const o =
                null !== (t = $(e.currentTarget).attr("wordCount")) &&
                void 0 !== t
                  ? t
                  : "15";
              "custom" !== o && (p.setWordCount(parseInt(o)), d.set(), he());
            }
          ),
          $(".pageTest").on("click", "#testConfig .time .textButton", (e) => {
            var t;
            if (l.testRestarting) return;
            const o =
              null !== (t = $(e.currentTarget).attr("timeConfig")) &&
              void 0 !== t
                ? t
                : "10";
            "custom" !== o && (p.setTimeConfig(parseInt(o)), d.set(), he());
          }),
          $(".pageTest").on(
            "click",
            "#testConfig .quoteLength .textButton",
            (e) => {
              var t;
              if (l.testRestarting) return;
              let o = parseInt(
                null !== (t = $(e.currentTarget).attr("quoteLength")) &&
                  void 0 !== t
                  ? t
                  : "1"
              );
              -2 !== o &&
                (-1 === o && (o = [0, 1, 2, 3]),
                p.setQuoteLength(o, !1, e.shiftKey),
                d.set(),
                he());
            }
          ),
          $(".pageTest").on(
            "click",
            "#testConfig .punctuationMode.textButton",
            () => {
              l.testRestarting ||
                (p.setPunctuation(!c.default.punctuation), d.set(), he());
            }
          ),
          $(".pageTest").on(
            "click",
            "#testConfig .numbersMode.textButton",
            () => {
              l.testRestarting ||
                (p.setNumbers(!c.default.numbers), d.set(), he());
            }
          ),
          $("#popups").on("click", "#practiseWordsPopup .button.missed", () => {
            y.init(!0, !1) &&
              (y.hidePopup(),
              he({
                practiseMissed: !0,
              }));
          }),
          $("#popups").on("click", "#practiseWordsPopup .button.slow", () => {
            y.init(!1, !0) &&
              (y.hidePopup(),
              he({
                practiseMissed: !0,
              }));
          }),
          $("#popups").on("click", "#practiseWordsPopup .button.both", () => {
            y.init(!0, !0) &&
              (y.hidePopup(),
              he({
                practiseMissed: !0,
              }));
          }),
          $("#popups").on(
            "click",
            "#quoteSearchPopup #quoteSearchResults .searchResult",
            (e) => {
              var t;
              if (
                e.target.classList.contains("report") ||
                e.target.classList.contains("favorite")
              )
                return;
              const o = parseInt(
                null !== (t = $(e.currentTarget).attr("id")) && void 0 !== t
                  ? t
                  : ""
              );
              j.setSelectedId(o), !0 === j.apply(o) && he();
            }
          ),
          $("header").on("click", "nav #startTestButton, #logo", () => {
            "test" === H.get() && he();
          }),
          J.subscribe((e, t, o) => {
            var n;
            "test" === H.get() &&
              ("language" === e &&
                ((null === (n = t) || void 0 === n
                  ? void 0
                  : n.startsWith("arabic")) &&
                  ce.get() &&
                  p.setLazyMode(!0, !0),
                he()),
              "difficulty" !== e || o || he(),
              "showAllLines" !== e || o || he(),
              "tapeMode" !== e || o || he(),
              "customLayoutFluid" === e &&
                c.default.funbox.includes("layoutfluid") &&
                he(),
              "keymapMode" === e &&
                "next" === t &&
                "zen" !== c.default.mode &&
                setTimeout(() => {
                  ue.highlight(
                    f.nthElementFromArray([...N.words.getCurrent()], 0)
                  );
                }, 0)),
              "lazyMode" !== e ||
                o ||
                (c.default.language.startsWith("arabic") && ce.set(t),
                !1 === t && (me = !1));
          }),
          Y.subscribe((e, t) => {
            "fail" === e && void 0 !== t && Ce(t), "finish" === e && $e();
          });
      },
      1322: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.setBailedOut =
            t.setSaving =
            t.setActiveChallenge =
            t.setActive =
            t.setPaceRepeat =
            t.setRepeated =
            t.bailedOut =
            t.savingEnabled =
            t.activeChallenge =
            t.isActive =
            t.isPaceRepeat =
            t.isRepeated =
              void 0),
          (t.isRepeated = !1),
          (t.isPaceRepeat = !1),
          (t.isActive = !1),
          (t.activeChallenge = null),
          (t.savingEnabled = !0),
          (t.bailedOut = !1),
          (t.setRepeated = function (e) {
            t.isRepeated = e;
          }),
          (t.setPaceRepeat = function (e) {
            t.isPaceRepeat = e;
          }),
          (t.setActive = function (e) {
            t.isActive = e;
          }),
          (t.setActiveChallenge = function (e) {
            t.activeChallenge = e;
          }),
          (t.setSaving = function (e) {
            t.savingEnabled = e;
          }),
          (t.setBailedOut = function (e) {
            t.bailedOut = e;
          });
      },
      2474: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.calculateStats =
            t.removeAfkData =
            t.calculateAccuracy =
            t.calculateBurst =
            t.setLastSecondNotRound =
            t.calculateAfkSeconds =
            t.setStart =
            t.setEnd =
            t.calculateWpmAndRaw =
            t.calculateTestSeconds =
            t.setInvalid =
            t.resetIncomplete =
            t.pushIncompleteTest =
            t.incrementIncompleteSeconds =
            t.incrementRestartCount =
            t.incompleteTests =
            t.incompleteSeconds =
            t.restartCount =
            t.restart =
            t.getStats =
            t.setLastResult =
            t.lastResult =
            t.lastSecondNotRound =
            t.end2 =
            t.start2 =
            t.end =
            t.start =
            t.invalid =
              void 0);
        const s = r(o(6943)),
          u = r(o(6705)),
          l = a(o(3388)),
          d = a(o(4897)),
          c = a(o(9470)),
          p = a(o(732)),
          f = a(o(1322));
        function h(e) {
          return void 0 === e ? (t.end - t.start) / 1e3 : (e - t.start) / 1e3;
        }
        function m(e) {
          const o = h(f.isActive ? performance.now() : t.end),
            n = v(),
            i = l.roundTo2(
              ((n.correctWordChars + n.correctSpaces) * (60 / o)) / 5
            ),
            a = l.roundTo2(
              ((n.allCorrectChars +
                n.spaces +
                n.incorrectChars +
                n.extraChars) *
                (60 / o)) /
                5
            );
          return {
            wpm: e ? i : Math.round(i),
            raw: e ? a : Math.round(a),
          };
        }
        function g() {
          const e =
            (d.accuracy.correct / (d.accuracy.correct + d.accuracy.incorrect)) *
            100;
          return isNaN(e) ? 100 : e;
        }
        function v() {
          let e = 0,
            t = 0,
            o = 0,
            n = 0,
            i = 0,
            a = 0,
            r = 0;
          const h = (function () {
              const e = d.input.getKoreanStatus();
              let t = [...d.input.history];
              return (
                f.isActive && t.push(d.input.current),
                e && (t = t.map((e) => s.default.disassemble(e).join(""))),
                t
              );
            })(),
            m = (function () {
              const e = d.input.getKoreanStatus();
              let t = [
                ...("zen" === u.default.mode ? d.input.history : c.words.list),
              ];
              return (
                f.isActive &&
                  t.push(
                    "zen" === u.default.mode
                      ? d.input.current
                      : c.words.getCurrent()
                  ),
                e && (t = t.map((e) => s.default.disassemble(e).join(""))),
                t
              );
            })();
          for (let s = 0; s < h.length; s++) {
            const d = h[s],
              c = m[s];
            if (d === c)
              (e += c.length),
                (t += c.length),
                s < h.length - 1 && "\n" !== l.getLastChar(d) && r++;
            else if (d.length >= c.length)
              for (let e = 0; e < d.length; e++)
                e < c.length ? (d[e] === c[e] ? t++ : o++) : n++;
            else {
              const n = {
                correct: 0,
                incorrect: 0,
                missed: 0,
              };
              for (let e = 0; e < c.length; e++)
                e < d.length
                  ? d[e] === c[e]
                    ? n.correct++
                    : n.incorrect++
                  : n.missed++;
              (t += n.correct),
                (o += n.incorrect),
                s === h.length - 1 && "time" === u.default.mode
                  ? 0 === n.incorrect && (e += n.correct)
                  : (i += n.missed);
            }
            s < h.length - 1 && a++;
          }
          return (
            p.get(u.default.funbox).find((e) => {
              var t;
              return null === (t = e.properties) || void 0 === t
                ? void 0
                : t.includes("nospace");
            }) && ((a = 0), (r = 0)),
            {
              spaces: a,
              correctWordChars: e,
              allCorrectChars: t,
              incorrectChars:
                "zen" === u.default.mode ? d.accuracy.incorrect : o,
              extraChars: n,
              missedChars: i,
              correctSpaces: r,
            }
          );
        }
        (t.invalid = !1),
          (t.lastSecondNotRound = !1),
          (t.setLastResult = function (e) {
            t.lastResult = e;
          }),
          (t.getStats = function () {
            const e = {
              lastResult: t.lastResult,
              start: t.start,
              end: t.end,
              afkHistory: d.afkHistory,
              errorHistory: d.errorHistory,
              wpmHistory: d.wpmHistory,
              rawHistory: d.rawHistory,
              burstHistory: d.burstHistory,
              keypressCountHistory: d.keypressCountHistory,
              currentBurstStart: d.currentBurstStart,
              lastSecondNotRound: t.lastSecondNotRound,
              missedWords: d.missedWords,
              accuracy: d.accuracy,
              keypressTimings: d.keypressTimings,
              keyOverlap: d.keyOverlap,
            };
            try {
              (e.keypressTimings.spacing.average =
                d.keypressTimings.spacing.array.reduce((e, t) => t + e) /
                d.keypressTimings.spacing.array.length),
                (e.keypressTimings.spacing.sd = l.stdDev(
                  d.keypressTimings.spacing.array
                ));
            } catch (e) {}
            try {
              (e.keypressTimings.duration.average =
                d.keypressTimings.duration.array.reduce((e, t) => t + e) /
                d.keypressTimings.duration.array.length),
                (e.keypressTimings.duration.sd = l.stdDev(
                  d.keypressTimings.duration.array
                ));
            } catch (e) {}
            return e;
          }),
          (t.restart = function () {
            (t.start = 0),
              (t.end = 0),
              (t.invalid = !1),
              (t.lastSecondNotRound = !1);
          }),
          (t.restartCount = 0),
          (t.incompleteSeconds = 0),
          (t.incompleteTests = []),
          (t.incrementRestartCount = function () {
            t.restartCount++;
          }),
          (t.incrementIncompleteSeconds = function (e) {
            t.incompleteSeconds += e;
          }),
          (t.pushIncompleteTest = function (e, o) {
            t.incompleteTests.push({
              acc: e,
              seconds: o,
            });
          }),
          (t.resetIncomplete = function () {
            (t.restartCount = 0),
              (t.incompleteSeconds = 0),
              (t.incompleteTests = []);
          }),
          (t.setInvalid = function () {
            t.invalid = !0;
          }),
          (t.calculateTestSeconds = h),
          (t.calculateWpmAndRaw = m),
          (t.setEnd = function (e) {
            (t.end = e), (t.end2 = Date.now());
          }),
          (t.setStart = function (e) {
            (t.start = e), (t.start2 = Date.now());
          }),
          (t.calculateAfkSeconds = function (e) {
            let t = 0;
            return (
              void 0 !== e &&
                ((t =
                  "time" === u.default.mode
                    ? Math.round(e) - d.keypressCountHistory.length
                    : Math.ceil(e) - d.keypressCountHistory.length),
                t < 0 && (t = 0)),
              d.afkHistory.filter((e) => !0 === e).length + t
            );
          }),
          (t.setLastSecondNotRound = function () {
            t.lastSecondNotRound = !0;
          }),
          (t.calculateBurst = function () {
            var e, t, o, n;
            const i = d.input.getKoreanStatus(),
              a = (performance.now() - d.currentBurstStart) / 1e3;
            let r;
            if (
              ((r = i
                ? s.default.disassemble(d.input.current).length
                : d.input.current.length),
              0 === r &&
                (r = i
                  ? null !==
                      (n =
                        null ===
                          (o = s.default.disassemble(
                            d.input.getHistoryLast()
                          )) || void 0 === o
                          ? void 0
                          : o.length) && void 0 !== n
                    ? n
                    : 0
                  : null !==
                      (t =
                        null === (e = d.input.getHistoryLast()) || void 0 === e
                          ? void 0
                          : e.length) && void 0 !== t
                  ? t
                  : 0),
              0 === r)
            )
              return 0;
            const u = l.roundTo2((r * (60 / a)) / 5);
            return Math.round(u);
          }),
          (t.calculateAccuracy = g),
          (t.removeAfkData = function () {
            const e = h();
            d.keypressCountHistory.splice(e),
              d.wpmHistory.splice(e),
              d.burstHistory.splice(e),
              d.rawHistory.splice(e);
          }),
          (t.calculateStats = function () {
            console.debug("Calculating result stats");
            let e = h();
            console.debug(
              "Test seconds",
              e,
              " (date based) ",
              (t.end2 - t.start2) / 1e3,
              " (performance.now based)"
            ),
              "custom" !== u.default.mode &&
                ((e = l.roundTo2(e)),
                console.debug(
                  "Mode is not custom - rounding to 2. New time: ",
                  e
                ));
            const o = v(),
              { wpm: n, raw: i } = m(!0),
              a = l.roundTo2(g()),
              r = {
                wpm: isNaN(n) ? 0 : n,
                wpmRaw: isNaN(i) ? 0 : i,
                acc: a,
                correctChars: o.correctWordChars,
                incorrectChars: o.incorrectChars,
                missedChars: o.missedChars,
                extraChars: o.extraChars,
                allChars:
                  o.allCorrectChars +
                  o.spaces +
                  o.incorrectChars +
                  o.extraChars,
                time: l.roundTo2(e),
                spaces: o.spaces,
                correctSpaces: o.correctSpaces,
              };
            return console.debug("Result stats", r), r;
          });
      },
      6084: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.start = t.getTimerStats = t.clear = t.enableTimerDebug = void 0);
        const s = a(o(6705)),
          u = s,
          l = a(o(8248)),
          d = a(o(8824)),
          c = a(o(3261)),
          p = a(o(2474)),
          f = a(o(4897)),
          h = a(o(9470)),
          m = a(o(7353)),
          g = a(o(3388)),
          v = a(o(3368)),
          y = a(o(4292)),
          b = a(o(210)),
          w = a(o(1322)),
          $ = a(o(195)),
          _ = a(o(6507)),
          C = a(o(6883));
        let S = 0,
          x = null;
        let P = 0,
          k = !1;
        (t.enableTimerDebug = function () {
          k = !0;
        }),
          (t.clear = function () {
            $.set(0), null !== x && clearTimeout(x);
          });
        let T = [];
        (t.getTimerStats = function () {
          return T;
        }),
          (t.start = function () {
            return r(this, void 0, void 0, function* () {
              b.clear(),
                (S = 0),
                (T = []),
                (P = p.start + 1e3),
                (function e() {
                  const t = P - performance.now();
                  T.push({
                    dateNow: Date.now(),
                    now: performance.now(),
                    expected: P,
                    nextDelay: t,
                  }),
                    (("time" === s.default.mode &&
                      s.default.time < 130 &&
                      s.default.time > 0) ||
                      ("words" === s.default.mode &&
                        s.default.words < 250 &&
                        s.default.words > 0)) &&
                      (t < 500 && b.set(),
                      t < 100 &&
                        (S++,
                        S > 5 &&
                          (v.add(
                            'This could be caused by "efficiency mode" on Microsoft Edge.'
                          ),
                          v.add(
                            "Stopping the test due to bad performance. This would cause test calculations to be incorrect. If this happens a lot, please report this.",
                            -1
                          ),
                          _.dispatch("fail", "slow timer")))),
                    (x = setTimeout(function () {
                      if (!w.isActive)
                        return (
                          null !== x && clearTimeout(x), b.clear(), void (S = 0)
                        );
                      (function () {
                        r(this, void 0, void 0, function* () {
                          k &&
                            console.time(
                              "timer step -----------------------------"
                            ),
                            $.increment(),
                            (function () {
                              k && console.time("premid");
                              const e =
                                document.querySelector("#premidSecondsLeft");
                              null !== e &&
                                (e.innerHTML = (
                                  s.default.time - $.get()
                                ).toString()),
                                k && console.timeEnd("premid");
                            })(),
                            k && console.time("timer progress update"),
                            ("time" === s.default.mode ||
                              ("custom" === s.default.mode &&
                                l.isTimeRandom)) &&
                              d.update(),
                            k && console.timeEnd("timer progress update");
                          const e = (function () {
                              k && console.time("calculate wpm and raw");
                              const e = p.calculateWpmAndRaw();
                              return (
                                k && console.timeEnd("calculate wpm and raw"),
                                k && console.time("update live wpm"),
                                c.update(e.wpm, e.raw),
                                k && console.timeEnd("update live wpm"),
                                k && console.time("push to history"),
                                f.pushToWpmHistory(e.wpm),
                                f.pushToRawHistory(e.raw),
                                k && console.timeEnd("push to history"),
                                e
                              );
                            })(),
                            t = (function () {
                              k && console.time("calculate acc");
                              const e = g.roundTo2(p.calculateAccuracy());
                              return k && console.timeEnd("calculate acc"), e;
                            })();
                          !(function (e) {
                            k && console.time("update monkey");
                            const t = s.default.blindMode ? e.raw : e.wpm;
                            m.updateFastOpacity(t),
                              k && console.timeEnd("update monkey");
                          })(e),
                            (function () {
                              if (
                                (k && console.time("layoutfluid"),
                                s.default.funbox
                                  .split("#")
                                  .includes("layoutfluid") &&
                                  "time" === s.default.mode)
                              ) {
                                const e = s.default.customLayoutfluid
                                    ? s.default.customLayoutfluid.split("#")
                                    : ["qwerty", "dvorak", "colemak"],
                                  t = s.default.time / e.length,
                                  o = $.get(),
                                  n = Math.floor(o / t),
                                  i = e[n],
                                  a = [];
                                for (let o = 1; o < e.length; o++)
                                  a.push(Math.floor(t * o));
                                a.includes(o + 3)
                                  ? (C.show(), C.updateTime(3, e[n + 1]))
                                  : a.includes(o + 2)
                                  ? C.updateTime(2, e[n + 1])
                                  : a.includes(o + 1) &&
                                    C.updateTime(1, e[n + 1]),
                                  s.default.layout !== i &&
                                    void 0 !== i &&
                                    (C.hide(),
                                    u.setLayout(i, !0),
                                    u.setKeymapLayout(i, !0));
                              }
                              k && console.timeEnd("layoutfluid");
                            })(),
                            (function (e, t) {
                              k && console.time("fail conditions"),
                                f.pushKeypressesToHistory(),
                                f.pushErrorToHistory(),
                                f.pushAfkToHistory(),
                                "custom" === s.default.minWpm &&
                                e.wpm < s.default.minWpmCustomSpeed &&
                                h.words.currentIndex > 3
                                  ? (null !== x && clearTimeout(x),
                                    b.clear(),
                                    (S = 0),
                                    _.dispatch("fail", "min speed"))
                                  : "custom" === s.default.minAcc &&
                                    t < s.default.minAccCustom
                                  ? (null !== x && clearTimeout(x),
                                    b.clear(),
                                    (S = 0),
                                    _.dispatch("fail", "min accuracy"))
                                  : k && console.timeEnd("fail conditions");
                            })(e, t),
                            (function () {
                              if (
                                (k && console.time("times up check"),
                                ("time" === s.default.mode ||
                                  ("custom" === s.default.mode &&
                                    l.isTimeRandom)) &&
                                  (($.get() >= s.default.time &&
                                    0 !== s.default.time &&
                                    "time" === s.default.mode) ||
                                    ($.get() >= l.time &&
                                      0 !== l.time &&
                                      "custom" === s.default.mode)))
                              )
                                return (
                                  null !== x && clearTimeout(x),
                                  y.hide(),
                                  f.input.pushHistory(),
                                  f.corrected.pushHistory(),
                                  b.clear(),
                                  (S = 0),
                                  void _.dispatch("finish")
                                );
                              k && console.timeEnd("times up check");
                            })(),
                            k &&
                              console.timeEnd(
                                "timer step -----------------------------"
                              );
                        });
                      })(),
                        (P += 1e3),
                        e();
                    }, t));
                })();
            });
          });
      },
      8673: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.highlightMode =
            t.highlightBadWord =
            t.applyBurstHeatmap =
            t.toggleResultWords =
            t.setLigatures =
            t.setRightToLeft =
            t.lineJump =
            t.updatePremid =
            t.scrollTape =
            t.updateWordElement =
            t.screenshot =
            t.colorful =
            t.flipColors =
            t.addWord =
            t.updateWordsInputPosition =
            t.showWords =
            t.updateActiveElement =
            t.blurWords =
            t.focusWords =
            t.reset =
            t.setResultCalculating =
            t.setTestRestarting =
            t.setActiveWordTop =
            t.setCurrentWordElementIndex =
            t.setResultVisible =
            t.resultCalculating =
            t.currentTestLine =
            t.lineTransition =
            t.testRestartingPromise =
            t.testRestarting =
            t.activeWordTop =
            t.resultVisible =
            t.currentWordElementIndex =
              void 0);
        const u = a(o(3368)),
          l = a(o(4203)),
          d = a(o(6705)),
          c = d,
          p = a(o(6350)),
          f = a(o(9470)),
          h = a(o(4897)),
          m = a(o(8248)),
          g = a(o(4292)),
          v = a(o(1333)),
          y = a(o(4626)),
          b = a(o(3388)),
          w = o(8628),
          _ = a(o(210)),
          C = a(o(8526)),
          S = a(o(1446)),
          x = a(o(6943)),
          P = s(o(9546)),
          k = o(6617),
          T = o(5344),
          O = a(o(732)),
          M = o(2189),
          A = a(o(1294)),
          j = a(o(7346)),
          W = (0, M.debounce)(250, () => {
            b.checkIfLanguageSupportsZipf(d.default.language).then((e) => {
              "no" === e &&
                u.add(
                  `${b.capitalizeFirstLetter(
                    d.default.language.replace(/_/g, " ")
                  )} does not support Zipf funbox, because the list is not ordered by frequency. Please try another word list.`,
                  0,
                  {
                    duration: 7,
                  }
                ),
                "unknown" === e &&
                  u.add(
                    `${b.capitalizeFirstLetter(
                      d.default.language.replace(/_/g, " ")
                    )} may not support Zipf funbox, because we don't know if it's ordered by frequency or not. If you would like to add this label, please contact us.`,
                    0,
                    {
                      duration: 7,
                    }
                  );
            });
          });
        let L;
        function B() {
          $("#wordsWrapper").hasClass("hidden") ||
            $("#wordsInput").trigger("focus");
        }
        function E(e, o = !1) {
          const n = document.querySelector("#words .active");
          "zen" === d.default.mode && e
            ? null == n || n.remove()
            : null !== n &&
              ("word" === d.default.highlightMode &&
                n.querySelectorAll("letter").forEach((e) => {
                  e.classList.remove("correct");
                }),
              n.classList.remove("active"));
          try {
            const e =
              document.querySelectorAll("#words .word")[
                t.currentWordElementIndex
              ];
            e.classList.add("active"),
              e.classList.remove("error"),
              (t.activeWordTop =
                document.querySelector("#words .active").offsetTop),
              "word" === d.default.highlightMode &&
                e.querySelectorAll("letter").forEach((e) => {
                  e.classList.add("correct");
                });
          } catch (e) {}
          !o &&
            (I.some((e) => d.default.language.startsWith(e)) ||
              ("time" !== d.default.mode && d.default.showAllLines)) &&
            R();
        }
        function F(e) {
          var t;
          let o = !1,
            n = "<div class='word'>";
          const i = O.get(d.default.funbox).find((e) => {
            var t;
            return null === (t = e.functions) || void 0 === t
              ? void 0
              : t.getWordHtml;
          });
          for (let a = 0; a < e.length; a++)
            (
              null === (t = null == i ? void 0 : i.functions) || void 0 === t
                ? void 0
                : t.getWordHtml
            )
              ? (n += i.functions.getWordHtml(e.charAt(a), !0))
              : "\t" === e.charAt(a)
              ? (n +=
                  "<letter class='tabChar'><i class=\"fas fa-long-arrow-alt-right fa-fw\"></i></letter>")
              : "\n" === e.charAt(a)
              ? ((o = !0),
                (n +=
                  "<letter class='nlChar'><i class=\"fas fa-level-down-alt fa-rotate-90 fa-fw\"></i></letter>"))
              : (n += "<letter>" + e.charAt(a) + "</letter>");
          return (n += "</div>"), o && (n += "<div class='newline'></div>"), n;
        }
        S.subscribe((e, t, o) => {
          ("language" !== e && "funbox" !== e) ||
            !d.default.funbox.split("#").includes("zipf") ||
            W(),
            "fontSize" !== e ||
              o ||
              setTimeout(() => {
                D(!0), R(!0);
              }, 0),
            "theme" === e && Q(),
            void 0 !== t &&
              ("highlightMode" === e && (G(t), E()),
              "boolean" == typeof t &&
                ("flipTestColors" === e && V(t),
                "colorfulMode" === e && q(t),
                "highlightMode" === e && N(t),
                "burstHeatmap" === e && Q()));
        }),
          (t.currentWordElementIndex = 0),
          (t.resultVisible = !1),
          (t.activeWordTop = 0),
          (t.testRestarting = !1),
          (t.lineTransition = !1),
          (t.currentTestLine = 0),
          (t.resultCalculating = !1),
          (t.setResultVisible = function (e) {
            t.resultVisible = e;
          }),
          (t.setCurrentWordElementIndex = function (e) {
            t.currentWordElementIndex = e;
          }),
          (t.setActiveWordTop = function (e) {
            t.activeWordTop = e;
          }),
          (t.setTestRestarting = function (e) {
            (t.testRestarting = e),
              !0 === e
                ? (t.testRestartingPromise = new Promise((e) => {
                    L = e;
                  }))
                : (L && L(), (L = null));
          }),
          (t.setResultCalculating = function (e) {
            t.resultCalculating = e;
          }),
          (t.reset = function () {
            (t.currentTestLine = 0), (t.currentWordElementIndex = 0);
          }),
          (t.focusWords = B),
          (t.blurWords = function () {
            $("#wordsInput").trigger("blur");
          }),
          (t.updateActiveElement = E),
          (t.showWords = function () {
            $("#words").empty(),
              "off" !== d.default.tapeMode
                ? ($("#words").addClass("tape"),
                  $("#wordsWrapper").addClass("tape"))
                : ($("#words").removeClass("tape"),
                  $("#wordsWrapper").removeClass("tape")),
              "below" === d.default.indicateTypos
                ? ($("#words").addClass("indicateTyposBelow"),
                  $("#wordsWrapper").addClass("indicateTyposBelow"))
                : ($("#words").removeClass("indicateTyposBelow"),
                  $("#wordsWrapper").removeClass("indicateTyposBelow"));
            let e = "";
            if ("zen" !== d.default.mode)
              for (let t = 0; t < f.words.length; t++) e += F(f.words.get(t));
            else
              e =
                '<div class="word">word height</div><div class="word active"></div>';
            $("#words").html(e),
              D(!0),
              E(void 0, !0),
              g.updatePosition(),
              R(!0);
          });
        const I = ["japanese", "chinese", "korean"];
        function R(e = !1) {
          var t;
          if ("test" !== j.get()) return;
          if ("off" !== d.default.tapeMode && !e) return;
          const o = document.querySelector("#wordsInput"),
            n = document.querySelector("#words .active");
          if (!n) return (o.style.top = "0px"), void (o.style.left = "0px");
          const i = window.getComputedStyle(n),
            a = parseInt(i.marginTop) + parseInt(i.marginBottom),
            r =
              (null === (t = document.querySelector("#wordsWrapper")) ||
              void 0 === t
                ? void 0
                : t.offsetTop) || 0;
          if ("off" !== d.default.tapeMode)
            return (
              (o.style.top =
                r + n.offsetHeight + 0.25 * a + -o.offsetHeight + "px"),
              void (o.style.left = n.offsetLeft + "px")
            );
          e && !I.some((e) => d.default.language.startsWith(e))
            ? ((o.style.left = "0px"),
              (o.style.top =
                r + 2 * n.offsetHeight + 1.5 * a + -o.offsetHeight + "px"))
            : ((o.style.left = n.offsetLeft + "px"),
              (o.style.top =
                n.offsetTop -
                a +
                r +
                n.offsetHeight +
                a +
                -o.offsetHeight +
                "px"));
        }
        function D(e = !1) {
          if ("test" !== j.get()) return;
          if (!e && "custom" !== d.default.mode) return;
          $("#wordsWrapper").removeClass("hidden");
          const t = $(document.querySelector(".word")).outerHeight(!0),
            o = $(document.querySelector("#words")).outerHeight(!0);
          if (
            !d.default.showAllLines ||
            "time" === d.default.mode ||
            (m.isWordRandom && 0 === m.word) ||
            m.isTimeRandom
          ) {
            let e, o;
            if ("off" !== d.default.tapeMode) (e = 2 * t), (o = t);
            else {
              let t = 0,
                n = 0,
                i = 0;
              const a = document.querySelectorAll("#words .word");
              let r = 0;
              const s = window.getComputedStyle(a[0]),
                u = parseInt(s.marginTop),
                l = parseInt(s.marginBottom);
              for (; t < 3; ) {
                const e = a[i];
                if (!e) break;
                const o = e.offsetTop;
                o > n && (t++, (r += e.offsetHeight + u + l), (n = o)), i++;
              }
              t < 3 && (r *= 3 / t), (e = (r / 3) * 4), (o = r);
            }
            $("#words")
              .css("height", e + "px")
              .css("overflow", "hidden"),
              "off" !== d.default.tapeMode
                ? $("#words").css("width", "200%").css("margin-left", "50%")
                : $("#words").css("width", "100%").css("margin-left", "unset"),
              $("#wordsWrapper")
                .css("height", o + "px")
                .css("overflow", "hidden"),
              $(".outOfFocusWarning").css("line-height", o + "px");
          } else {
            $("#words")
              .css("height", "auto")
              .css("overflow", "hidden")
              .css("width", "100%")
              .css("margin-left", "unset"),
              $("#wordsWrapper")
                .css("height", "auto")
                .css("overflow", "hidden");
            let e = 3 * t;
            e > o && (e = o),
              $(".outOfFocusWarning").css("line-height", e + "px");
          }
          "zen" === d.default.mode &&
            $(document.querySelector(".word")).remove();
        }
        function V(e) {
          e
            ? $("#words").addClass("flipped")
            : $("#words").removeClass("flipped");
        }
        function q(e) {
          e
            ? $("#words").addClass("colorfulMode")
            : $("#words").removeClass("colorfulMode");
        }
        (t.updateWordsInputPosition = R),
          (t.addWord = function (e) {
            $("#words").append(F(e));
          }),
          (t.flipColors = V),
          (t.colorful = q);
        let H = !1;
        function K() {
          var e, t, o, n, i;
          return r(this, void 0, void 0, function* () {
            let a = !1,
              s = !1;
            function c() {
              $("#ad-result-wrapper").removeClass("hidden"),
                $("#ad-result-small-wrapper").removeClass("hidden"),
                $("#testConfig").removeClass("hidden"),
                $(".pageTest .screenshotSpacer").remove(),
                $("#notificationCenter").removeClass("hidden"),
                $("#commandLineMobileButton").removeClass("hidden"),
                $(".pageTest .ssWatermark").addClass("hidden"),
                $(".pageTest .ssWatermark").text("monkeytype.com"),
                $(".pageTest .buttons").removeClass("hidden"),
                $("noscript").removeClass("hidden"),
                $("#nocss").removeClass("hidden"),
                $("header, footer").removeClass("invisible"),
                $("#result").removeClass("noBalloons"),
                $(".wordInputHighlight").removeClass("hidden"),
                $(".highlightContainer").removeClass("hidden"),
                s && $("#cookiePopupWrapper").removeClass("hidden"),
                a && $("#resultReplay").removeClass("hidden"),
                (null === k.Auth || void 0 === k.Auth
                  ? void 0
                  : k.Auth.currentUser) ||
                  $(".pageTest .loginTip").removeClass("hidden"),
                (document.querySelector("html").style.scrollBehavior =
                  "smooth"),
                O.get(d.default.funbox).forEach((e) => {
                  var t, o;
                  return null ===
                    (o =
                      null === (t = e.functions) || void 0 === t
                        ? void 0
                        : t.applyGlobalCSS) || void 0 === o
                    ? void 0
                    : o.call(t);
                });
            }
            (b.isElementVisible("#cookiePopupWrapper") ||
              document.contains(
                document.querySelector("#cookiePopupWrapper")
              )) &&
              (s = !0),
              $("#resultReplay").hasClass("hidden") ||
                ((a = !0), y.pauseReplay());
            const f = new Date(Date.now());
            $("#resultReplay").addClass("hidden"),
              $(".pageTest .ssWatermark").removeClass("hidden"),
              $(".pageTest .ssWatermark").text(
                (0, P.default)(f, "dd MMM yyyy HH:mm") + " | monkeytype.com "
              ),
              (null === k.Auth || void 0 === k.Auth
                ? void 0
                : k.Auth.currentUser) &&
                $(".pageTest .ssWatermark").text(
                  (null === (e = p.getSnapshot()) || void 0 === e
                    ? void 0
                    : e.name) +
                    " | " +
                    (0, P.default)(f, "dd MMM yyyy HH:mm") +
                    " | monkeytype.com  "
                ),
              $(".pageTest .buttons").addClass("hidden"),
              $("#notificationCenter").addClass("hidden"),
              $("#commandLineMobileButton").addClass("hidden"),
              $(".pageTest .loginTip").addClass("hidden"),
              $("noscript").addClass("hidden"),
              $("#nocss").addClass("hidden"),
              $("#ad-result-wrapper").addClass("hidden"),
              $("#ad-result-small-wrapper").addClass("hidden"),
              $("#testConfig").addClass("hidden"),
              $(".page.pageTest").prepend(
                "<div class='screenshotSpacer'></div>"
              ),
              $("header, footer").addClass("invisible"),
              $("#result").addClass("noBalloons"),
              $(".wordInputHighlight").addClass("hidden"),
              $(".highlightContainer").addClass("hidden"),
              s && $("#cookiePopupWrapper").addClass("hidden"),
              O.get(d.default.funbox).forEach((e) => {
                var t, o;
                return null ===
                  (o =
                    null === (t = e.functions) || void 0 === t
                      ? void 0
                      : t.clearGlobal) || void 0 === o
                  ? void 0
                  : o.call(t);
              }),
              (document.querySelector("html").style.scrollBehavior = "auto"),
              window.scrollTo({
                top: 0,
              });
            const h = $("#result"),
              m =
                null !==
                  (o =
                    null === (t = h.offset()) || void 0 === t
                      ? void 0
                      : t.left) && void 0 !== o
                  ? o
                  : 0,
              g =
                null !==
                  (i =
                    null === (n = h.offset()) || void 0 === n
                      ? void 0
                      : n.top) && void 0 !== i
                  ? i
                  : 0,
              v = h.outerWidth(!0),
              w = h.outerHeight(!0);
            try {
              const e = b.convertRemToPixels(2),
                t = b.convertRemToPixels(2);
              (yield html2canvas(document.body, {
                backgroundColor: yield l.get("bg"),
                width: v + 2 * e,
                height: w + 2 * t,
                x: m - e,
                y: g - t,
              })).toBlob((e) =>
                r(this, void 0, void 0, function* () {
                  try {
                    if (null === e)
                      throw new Error("Could not create image, blob is null");
                    const t = new ClipboardItem(
                      Object.defineProperty({}, e.type, {
                        value: e,
                        enumerable: !0,
                      })
                    );
                    yield navigator.clipboard.write([t]),
                      u.add("Copied to clipboard", 1, {
                        duration: 2,
                      });
                  } catch (t) {
                    console.error("Error while saving image to clipboard", t),
                      e
                        ? (navigator.userAgent
                            .toLowerCase()
                            .indexOf("firefox") > -1 &&
                            !H &&
                            ((H = !0),
                            u.add(
                              "On Firefox you can enable the asyncClipboard.clipboardItem permission in about:config to enable copying straight to the clipboard",
                              0,
                              {
                                duration: 10,
                              }
                            )),
                          u.add(
                            "Could not save image to clipboard. Opening in new tab instead (make sure popups are allowed)",
                            0,
                            {
                              duration: 5,
                            }
                          ),
                          open(URL.createObjectURL(e)))
                        : u.add(
                            b.createErrorMessage(
                              t,
                              "Error saving image to clipboard"
                            ),
                            -1
                          );
                  }
                  c();
                })
              );
            } catch (e) {
              u.add(b.createErrorMessage(e, "Error creating image"), -1), c();
            }
            setTimeout(() => {
              c();
            }, 3e3);
          });
        }
        function N(e = !d.default.blindMode, t) {
          var o, n;
          const i = t || h.input.current,
            a = document.querySelector("#words .word.active"),
            r = f.words.getCurrent();
          if (!r && "zen" !== d.default.mode) return;
          let s = "",
            u = !1;
          if ("zen" === d.default.mode)
            for (let e = 0; e < h.input.current.length; e++)
              "\t" === h.input.current[e]
                ? (s +=
                    '<letter class=\'tabChar correct\' style="opacity: 0"><i class="fas fa-long-arrow-alt-right fa-fw"></i></letter>')
                : "\n" === h.input.current[e]
                ? ((u = !0),
                  (s +=
                    '<letter class=\'nlChar correct\' style="opacity: 0"><i class="fas fa-level-down-alt fa-rotate-90 fa-fw"></i></letter>'))
                : (s += `<letter class="correct">${h.input.current[e]}</letter>`);
          else {
            let t = !1;
            const u = h.input.getKoreanStatus();
            if (u) {
              const e = x.disassemble(r).join(""),
                o = x.disassemble(i).join(""),
                n = b.trailingComposeChars.test(i)
                  ? i.search(b.trailingComposeChars)
                  : o.length;
              i.search(b.trailingComposeChars) < x.d(e).length &&
                e.slice(0, n) === o.slice(0, n) &&
                (t = !0);
            } else {
              const e = b.trailingComposeChars.test(i)
                ? i.search(b.trailingComposeChars)
                : i.length;
              i.search(b.trailingComposeChars) < r.length &&
                r.slice(0, e) === i.slice(0, e) &&
                (t = !0);
            }
            let l = t ? "correct" : "incorrect";
            d.default.blindMode && (l = "correct");
            const c = O.get(d.default.funbox).find((e) => {
              var t;
              return null === (t = e.functions) || void 0 === t
                ? void 0
                : t.getWordHtml;
            });
            for (let n = 0; n < i.length; n++) {
              const a = r[n] === i[n];
              let p = "correct";
              "off" === d.default.highlightMode && (p = "");
              let f = r[n],
                h = "",
                m = "";
              if (
                null === (o = null == c ? void 0 : c.functions) || void 0 === o
                  ? void 0
                  : o.getWordHtml
              ) {
                const e = c.functions.getWordHtml(f);
                "" !== e && (f = e);
              } else
                "\t" === f
                  ? ((h = "tabChar"),
                    (f = '<i class="fas fa-long-arrow-alt-right fa-fw"></i>'))
                  : "\n" === f &&
                    ((m = "nlChar"),
                    (f =
                      '<i class="fas fa-level-down-alt fa-rotate-90 fa-fw"></i>'));
              if (a)
                s += `<letter class="${
                  "word" === d.default.highlightMode ? l : p
                } ${h}${m}">${f}</letter>`;
              else if (
                void 0 !== f &&
                C.getComposing() &&
                n >= C.getStartPos() &&
                (!u || t)
              )
                s += `<letter class="${
                  "word" === d.default.highlightMode ? l : ""
                } dead">${f}</letter>`;
              else if (e)
                if (void 0 === f) {
                  if (!d.default.hideExtraLetters) {
                    let e = i[n];
                    (" " !== e && "\t" !== e && "\n" !== e) || (e = "_"),
                      (s += `<letter class="${
                        "word" === d.default.highlightMode ? l : "incorrect"
                      } extra ${h}${m}">${e}</letter>`);
                  }
                } else
                  s +=
                    `<letter class="${
                      "word" === d.default.highlightMode ? l : "incorrect"
                    } ${h}${m}">` +
                    ("replace" === d.default.indicateTypos
                      ? " " === i[n]
                        ? "_"
                        : i[n]
                      : f) +
                    ("below" === d.default.indicateTypos
                      ? `<hint>${i[n]}</hint>`
                      : "") +
                    "</letter>";
              else
                void 0 !== f &&
                  (s += `<letter class="${
                    "word" === d.default.highlightMode ? l : p
                  } ${h}${m}">${f}</letter>`);
            }
            for (let e = i.length; e < r.length; e++)
              (
                null === (n = null == c ? void 0 : c.functions) || void 0 === n
                  ? void 0
                  : n.getWordHtml
              )
                ? (s += c.functions.getWordHtml(r[e], !0))
                : "\t" === r[e]
                ? (s +=
                    "<letter class='tabChar'><i class=\"fas fa-long-arrow-alt-right fa-fw\"></i></letter>")
                : "\n" === r[e]
                ? (s +=
                    "<letter class='nlChar'><i class=\"fas fa-level-down-alt fa-rotate-90 fa-fw\"></i></letter>")
                : (s +=
                    `<letter class="${
                      "word" === d.default.highlightMode ? l : ""
                    }">` +
                    r[e] +
                    "</letter>");
            "letter" === d.default.highlightMode &&
              d.default.hideExtraLetters &&
              (i.length > r.length && !d.default.blindMode
                ? a.classList.add("error")
                : i.length === r.length && a.classList.remove("error"));
          }
          (a.innerHTML = s),
            u && $("#words").append("<div class='newline'></div>");
        }
        (t.screenshot = K),
          (t.updateWordElement = N),
          (t.scrollTape = function () {
            var e, o, n, i;
            const a = document.querySelector("#wordsWrapper").offsetWidth;
            let r = 0;
            const s = [];
            let u = 0;
            if (t.currentWordElementIndex > 0) {
              for (let n = 0; n < t.currentWordElementIndex; n++) {
                const t = document.querySelectorAll("#words .word")[n];
                if (
                  ((r +=
                    null !== (e = $(t).outerWidth(!0)) && void 0 !== e ? e : 0),
                  Math.floor(t.offsetLeft) < 0 - Math.floor(t.offsetWidth))
                ) {
                  const e = $($("#words .word")[n]);
                  s.push(e),
                    (u +=
                      null !== (o = e.outerWidth(!0)) && void 0 !== o ? o : 0);
                }
              }
              if (s.length > 0) {
                (t.currentWordElementIndex -= s.length),
                  s.forEach((e) => e.remove()),
                  (r -= u);
                const e = parseInt($("#words").css("margin-left"), 10);
                $("#words").css("margin-left", `${e + u}px`);
              }
            }
            let l = 0;
            if ("letter" === d.default.tapeMode && h.input.current.length > 0)
              for (let e = 0; e < h.input.current.length; e++) {
                const o = document.querySelectorAll("#words .word");
                l +=
                  null !==
                    (i = $(
                      null === (n = o[t.currentWordElementIndex]) ||
                        void 0 === n
                        ? void 0
                        : n.querySelectorAll("letter")[e]
                    ).outerWidth(!0)) && void 0 !== i
                    ? i
                    : 0;
              }
            const c = a / 2 - (r + l);
            d.default.smoothLineScroll
              ? $("#words")
                  .stop(!0, !1)
                  .animate(
                    {
                      marginLeft: c,
                    },
                    _.get() ? 0 : 125
                  )
              : $("#words").css("margin-left", `${c}px`);
          }),
          (t.updatePremid = function () {
            const e = b.getMode2(d.default, f.randomQuote);
            let t = "";
            "none" !== d.default.funbox &&
              (t = " " + d.default.funbox.split("#").join(" ")),
              $(".pageTest #premidTestMode").text(
                `${d.default.mode} ${e} ${d.default.language.replace(
                  /_/g,
                  " "
                )}${t}`
              ),
              $(".pageTest #premidSecondsLeft").text(d.default.time);
          });
        let z = 0;
        function U(e = !1) {
          t.resultVisible &&
            (A.updateToggleWordsHistoryTime(),
            $("#resultWordsHistory").stop(!0, !0).hasClass("hidden")
              ? 0 === $("#resultWordsHistory .words .word").length
                ? ($("#words").html(
                    '<div class="preloader"><i class="fas fa-fw fa-spin fa-circle-notch"></i></div>'
                  ),
                  (function () {
                    return r(this, void 0, void 0, function* () {
                      $("#resultWordsHistory .words").empty();
                      let e = "";
                      for (let t = 0; t < h.input.history.length + 2; t++) {
                        const o = h.input.getHistory(t),
                          n = h.corrected.getHistory(t),
                          i = f.words.get(t),
                          a =
                            (null == o
                              ? void 0
                              : o.match(
                                  /[\uac00-\ud7af]|[\u1100-\u11ff]|[\u3130-\u318f]|[\ua960-\ua97f]|[\ud7b0-\ud7ff]/g
                                )) ||
                            (null == i
                              ? void 0
                              : i.match(
                                  /[\uac00-\ud7af]|[\u1100-\u11ff]|[\u3130-\u318f]|[\ua960-\ua97f]|[\ud7b0-\ud7ff]/g
                                ));
                        let r = "";
                        try {
                          if (!o) throw new Error("empty input word");
                          if (void 0 !== n && "" !== n) {
                            const e = a ? x.assemble(n.split("")) : n;
                            r = `<div class='word nocursor' burst="${
                              h.burstHistory[t]
                            }" input="${e
                              .replace(/"/g, "&quot;")
                              .replace(/ /g, "_")}">`;
                          } else
                            r = `<div class='word nocursor' burst="${
                              h.burstHistory[t]
                            }" input="${o
                              .replace(/"/g, "&quot;")
                              .replace(/ /g, "_")}">`;
                          if (t === h.input.history.length - 1) {
                            const e = {
                                correct: 0,
                                incorrect: 0,
                                missed: 0,
                              },
                              n =
                                "zen" === d.default.mode ? o.length : i.length;
                            for (let t = 0; t < n; t++)
                              t < o.length
                                ? "zen" === d.default.mode || o[t] === i[t]
                                  ? e.correct++
                                  : e.incorrect++
                                : e.missed++;
                            (0 === e.incorrect && "time" === d.default.mode) ||
                              ("zen" !== d.default.mode &&
                                o !== i &&
                                (r = `<div class='word nocursor error' burst="${
                                  h.burstHistory[t]
                                }" input="${o
                                  .replace(/"/g, "&quot;")
                                  .replace(/ /g, "_")}">`));
                          } else
                            "zen" !== d.default.mode &&
                              o !== i &&
                              (r = `<div class='word nocursor error' burst="${
                                h.burstHistory[t]
                              }" input="${o
                                .replace(/"/g, "&quot;")
                                .replace(/ /g, "_")}">`);
                          let e;
                          if (
                            ((e =
                              "zen" === d.default.mode || o.length > i.length
                                ? o.length
                                : i.length),
                            void 0 === n)
                          )
                            throw new Error("empty corrected word");
                          for (let t = 0; t < e; t++) {
                            let s;
                            try {
                              s = a ? x.assemble(n.split(""))[t] : n[t];
                            } catch (e) {
                              s = void 0;
                            }
                            let u = "";
                            const l = a ? x.assemble(n.split("")) : n;
                            t + 1 === e &&
                              void 0 !== l &&
                              l.length > o.length &&
                              (u = "extraCorrected"),
                              "zen" === d.default.mode || void 0 !== i[t]
                                ? "zen" === d.default.mode || o[t] === i[t]
                                  ? s === o[t] || void 0 === s
                                    ? (r += `<letter class="correct ${u}">${o[t]}</letter>`)
                                    : (r +=
                                        `<letter class="corrected ${u}">` +
                                        o[t] +
                                        "</letter>")
                                  : o[t] === h.input.current
                                  ? (r +=
                                      `<letter class='correct ${u}'>` +
                                      i[t] +
                                      "</letter>")
                                  : void 0 === o[t]
                                  ? (r += "<letter>" + i[t] + "</letter>")
                                  : (r +=
                                      `<letter class="incorrect ${u}">` +
                                      i[t] +
                                      "</letter>")
                                : (r +=
                                    '<letter class="incorrect extra">' +
                                    o[t] +
                                    "</letter>");
                          }
                          r += "</div>";
                        } catch (e) {
                          try {
                            r = "<div class='word'>";
                            for (let e = 0; e < i.length; e++)
                              r += "<letter>" + i[e] + "</letter>";
                            r += "</div>";
                          } catch (e) {}
                        }
                        e += r;
                      }
                      return (
                        $("#resultWordsHistory .words").html(e),
                        $("#showWordHistoryButton").addClass("loaded"),
                        !0
                      );
                    });
                  })().then(() => {
                    d.default.burstHeatmap && Q(),
                      $("#resultWordsHistory")
                        .removeClass("hidden")
                        .css("display", "none")
                        .slideDown(e ? 0 : 250, () => {
                          d.default.burstHeatmap && Q();
                        });
                  }))
                : (d.default.burstHeatmap && Q(),
                  $("#resultWordsHistory")
                    .removeClass("hidden")
                    .css("display", "none")
                    .slideDown(e ? 0 : 250))
              : $("#resultWordsHistory").slideUp(250, () => {
                  $("#resultWordsHistory").addClass("hidden");
                }));
        }
        function Q() {
          return r(this, void 0, void 0, function* () {
            if (d.default.burstHeatmap) {
              $("#resultWordsHistory .heatmapLegend").removeClass("hidden");
              let e = [...h.burstHistory];
              (e = e.filter((e) => e !== 1 / 0)),
                (e = e.filter((e) => e < 350));
              const t = (0, w.get)(d.default.typingSpeedUnit);
              e.forEach((o, n) => {
                e[n] = Math.round(t.fromWpm(o));
              });
              const o = yield l.getAll();
              let n = [
                  o.colorfulError,
                  b.blendTwoHexColors(o.colorfulError, o.text, 0.5),
                  o.text,
                  b.blendTwoHexColors(o.main, o.text, 0.5),
                  o.main,
                ],
                i = o.sub;
              o.main === o.text &&
                ((n = [
                  o.colorfulError,
                  b.blendTwoHexColors(o.colorfulError, o.text, 0.5),
                  o.sub,
                  b.blendTwoHexColors(o.sub, o.text, 0.5),
                  o.main,
                ]),
                (i = o.subAlt));
              const a = e.sort((e, t) => e - t),
                r = e.length,
                s = [
                  {
                    val: 0,
                    colorId: 0,
                  },
                  {
                    val: a[(0.15 * r) | 0],
                    colorId: 1,
                  },
                  {
                    val: a[(0.35 * r) | 0],
                    colorId: 2,
                  },
                  {
                    val: a[(0.65 * r) | 0],
                    colorId: 3,
                  },
                  {
                    val: a[(0.85 * r) | 0],
                    colorId: 4,
                  },
                ];
              s.forEach((e, t) => {
                const o = s[t + 1];
                let n = "";
                0 === t && o
                  ? (n = `<${Math.round(o.val)}`)
                  : 4 === t
                  ? (n = `${Math.round(e.val)}+`)
                  : o &&
                    (n =
                      e.val != o.val
                        ? `${Math.round(e.val)}-${Math.round(o.val) - 1}`
                        : `${Math.round(e.val)}-${Math.round(e.val)}`),
                  $("#resultWordsHistory .heatmapLegend .box" + t).html(
                    `<div>${n}</div>`
                  );
              }),
                $("#resultWordsHistory .words .word").each((e, t) => {
                  const o = $(t).attr("burst");
                  if (void 0 === o) $(t).css("color", i);
                  else {
                    let e = parseInt(o);
                    (e = Math.round(
                      (0, w.get)(d.default.typingSpeedUnit).fromWpm(e)
                    )),
                      s.forEach((o) => {
                        e >= o.val &&
                          ($(t).addClass("heatmapInherit"),
                          $(t).css("color", n[o.colorId]));
                      });
                  }
                }),
                $("#resultWordsHistory .heatmapLegend .boxes .box").each(
                  (e, t) => {
                    $(t).css("background", n[e]);
                  }
                );
            } else $("#resultWordsHistory .heatmapLegend").addClass("hidden"), $("#resultWordsHistory .words .word").removeClass("heatmapInherit"), $("#resultWordsHistory .words .word").css("color", ""), $("#resultWordsHistory .heatmapLegend .boxes .box").css("color", "");
          });
        }
        function G(e) {
          var t, o, n;
          const i =
            (null ===
              (n =
                null ===
                  (o =
                    null === (t = $("#words")) || void 0 === t
                      ? void 0
                      : t.attr("class")) || void 0 === o
                  ? void 0
                  : o.split(/\s+/)) || void 0 === n
              ? void 0
              : n.filter((e) => !e.startsWith("highlight-"))) || [];
          null != e && i.push("highlight-" + e.replaceAll("_", "-")),
            $("#words").attr("class", i.join(" "));
        }
        (t.lineJump = function (e) {
          var o, n;
          if (
            ("off" === d.default.tapeMode && t.currentTestLine > 0) ||
            ("off" !== d.default.tapeMode && t.currentTestLine >= 0)
          ) {
            const i = e,
              a = [],
              r = $("#words .word");
            for (let e = 0; e < t.currentWordElementIndex; e++) {
              const t = $(r[e]);
              t.hasClass("hidden") ||
                (Math.floor(t[0].offsetTop) <
                  ("off" === d.default.tapeMode ? i - 10 : i + 10) &&
                  a.push($($("#words .word")[e])));
            }
            const s = $(document.querySelector(".word")).outerHeight(!0);
            if (d.default.smoothLineScroll && a.length > 0) {
              t.lineTransition = !0;
              const e = $("#words .smoothScroller");
              0 === e.length
                ? $("#words").prepend(
                    `<div class="smoothScroller" style="position: fixed;height:${s}px;width:100%"></div>`
                  )
                : e.css(
                    "height",
                    `${
                      (null !== (o = e.outerHeight(!0)) && void 0 !== o
                        ? o
                        : 0) + s
                    }px`
                  ),
                $("#words .smoothScroller")
                  .stop(!0, !1)
                  .animate(
                    {
                      height: 0,
                    },
                    _.get() ? 0 : 125,
                    () => {
                      $("#words .smoothScroller").remove();
                    }
                  ),
                $("#paceCaret")
                  .stop(!0, !1)
                  .animate(
                    {
                      top:
                        (null === (n = document.querySelector("#paceCaret")) ||
                        void 0 === n
                          ? void 0
                          : n.offsetTop) - s,
                    },
                    _.get() ? 0 : 125
                  );
              const i = {
                marginTop: `-${s * (z + 1)}px`,
              };
              if ("off" !== d.default.tapeMode) {
                const e =
                  document.querySelector("#wordsWrapper").offsetWidth / 2;
                i.marginLeft = `${e}px`;
              }
              z++,
                $("#words")
                  .stop(!0, !1)
                  .animate(i, _.get() ? 0 : 125, () => {
                    (z = 0),
                      (t.activeWordTop =
                        document.querySelector("#words .active").offsetTop),
                      (t.currentWordElementIndex -= a.length),
                      (t.lineTransition = !1),
                      a.forEach((e) => e.remove()),
                      $("#words").css("marginTop", "0");
                  });
            } else
              a.forEach((e) => e.remove()),
                (t.currentWordElementIndex -= a.length),
                $("#paceCaret").css({
                  top: document.querySelector("#paceCaret").offsetTop - s,
                });
          }
          t.currentTestLine++, D();
        }),
          (t.setRightToLeft = function (e) {
            e
              ? ($("#words").addClass("rightToLeftTest"),
                $("#resultWordsHistory .words").addClass("rightToLeftTest"),
                $("#resultReplay .words").addClass("rightToLeftTest"))
              : ($("#words").removeClass("rightToLeftTest"),
                $("#resultWordsHistory .words").removeClass("rightToLeftTest"),
                $("#resultReplay .words").removeClass("rightToLeftTest"));
          }),
          (t.setLigatures = function (e) {
            e
              ? ($("#words").addClass("withLigatures"),
                $("#resultWordsHistory .words").addClass("withLigatures"),
                $("#resultReplay .words").addClass("withLigatures"))
              : ($("#words").removeClass("withLigatures"),
                $("#resultWordsHistory .words").removeClass("withLigatures"),
                $("#resultReplay .words").removeClass("withLigatures"));
          }),
          (t.toggleResultWords = U),
          (t.applyBurstHeatmap = Q),
          (t.highlightBadWord = function (e, t) {
            t && $($("#words .word")[e]).addClass("error");
          }),
          (t.highlightMode = G),
          $(".pageTest").on("click", "#saveScreenshotButton", () => {
            K();
          }),
          $(".pageTest #copyWordsListButton").on("click", () =>
            r(void 0, void 0, void 0, function* () {
              try {
                let e;
                (e =
                  "zen" === d.default.mode
                    ? h.input.history.join(" ")
                    : f.words.get().slice(0, h.input.history.length).join(" ")),
                  yield navigator.clipboard.writeText(e),
                  u.add("Copied to clipboard", 0, {
                    duration: 2,
                  });
              } catch (e) {
                u.add("Could not copy to clipboard: " + e, -1);
              }
            })
          ),
          $(".pageTest #toggleBurstHeatmap").on("click", () =>
            r(void 0, void 0, void 0, function* () {
              c.setBurstHeatmap(!d.default.burstHeatmap), A.destroy();
            })
          ),
          $(".pageTest #resultWordsHistory").on(
            "mouseleave",
            ".words .word",
            () => {
              $(".wordInputHighlight").remove();
            }
          ),
          $(".pageTest #result #wpmChart").on("mouseleave", () => {
            A.setIsHoverChart(!1), A.clear();
          }),
          $(".pageTest #result #wpmChart").on("mouseenter", () => {
            A.setIsHoverChart(!0);
          }),
          $(".pageTest #resultWordsHistory").on(
            "mouseenter",
            ".words .word",
            (e) => {
              if (t.resultVisible) {
                const t = $(e.currentTarget).attr("input"),
                  o = parseInt($(e.currentTarget).attr("burst"));
                void 0 !== t &&
                  $(e.currentTarget).append(
                    `<div class="wordInputHighlight withSpeed">\n          <div class="text">\n          ${t
                      .replace(/\t/g, "_")
                      .replace(/\n/g, "_")
                      .replace(/</g, "&lt")
                      .replace(
                        />/g,
                        "&gt"
                      )}\n          </div>\n          <div class="speed">\n          ${Math.round(
                      (0, w.get)(d.default.typingSpeedUnit).fromWpm(o)
                    )}${
                      d.default.typingSpeedUnit
                    }\n          </div>\n          </div>`
                  );
              }
            }
          ),
          addEventListener("resize", () => {
            A.destroy();
          }),
          $("#wordsInput").on("focus", () => {
            !t.resultVisible && d.default.showOutOfFocusWarning && v.hide(),
              g.show();
          }),
          $("#wordsInput").on("focusout", () => {
            !t.resultVisible && d.default.showOutOfFocusWarning && v.show(),
              g.hide();
          }),
          $(".pageTest").on("click", "#showWordHistoryButton", () => {
            U();
          }),
          $("#wordsWrapper").on("click", () => {
            B();
          }),
          $(document).on("keypress", () => {
            t.resultVisible && (0, T.skipXpBreakdown)();
          }),
          S.subscribe((e, t) => {
            "quickRestart" === e &&
              ("off" === t
                ? $(".pageTest #restartTestButton").removeClass("hidden")
                : $(".pageTest #restartTestButton").addClass("hidden"));
          });
      },
      9470: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.setHasNumbers =
            t.setHasNewline =
            t.setHasTab =
            t.setRandomQuote =
            t.randomQuote =
            t.hasNumbers =
            t.hasNewline =
            t.hasTab =
            t.words =
              void 0),
          (t.words = new (class {
            constructor() {
              (this.list = []),
                (this.sectionIndexList = []),
                (this.length = 0),
                (this.currentIndex = 0);
            }
            get(e, t = !1) {
              var o, n;
              return void 0 === e
                ? this.list
                : t
                ? null ===
                    (n =
                      null === (o = this.list[e]) || void 0 === o
                        ? void 0
                        : o.replace(/[.?!":\-,]/g, "")) || void 0 === n
                  ? void 0
                  : n.toLowerCase()
                : this.list[e];
            }
            getCurrent() {
              var e;
              return null !== (e = this.list[this.currentIndex]) && void 0 !== e
                ? e
                : "";
            }
            getLast() {
              return this.list[this.list.length - 1];
            }
            push(e, t) {
              this.list.push(e),
                this.sectionIndexList.push(t),
                (this.length = this.list.length);
            }
            reset() {
              (this.list = []),
                (this.sectionIndexList = []),
                (this.currentIndex = 0),
                (this.length = this.list.length);
            }
            resetCurrentIndex() {
              this.currentIndex = 0;
            }
            decreaseCurrentIndex() {
              this.currentIndex--;
            }
            increaseCurrentIndex() {
              this.currentIndex++;
            }
            clean() {
              for (const e of this.list)
                if (/ +/.test(e)) {
                  const t = this.list.indexOf(e),
                    o = e.split(" ");
                  this.list.splice(t, 1);
                  for (let e = 0; e < o.length; e++)
                    this.list.splice(t + e, 0, o[e]);
                }
            }
          })()),
          (t.hasTab = !1),
          (t.hasNewline = !1),
          (t.hasNumbers = !1),
          (t.randomQuote = null),
          (t.setRandomQuote = function (e) {
            t.randomQuote = e;
          }),
          (t.setHasTab = function (e) {
            t.hasTab = e;
          }),
          (t.setHasNewline = function (e) {
            t.hasNewline = e;
          }),
          (t.setHasNumbers = function (e) {
            t.hasNumbers = e;
          });
      },
      8824: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.updateStyle = t.update = t.restart = t.hide = t.show = void 0);
        const s = r(o(6705)),
          u = a(o(8248)),
          l = a(o(3388)),
          d = a(o(9470)),
          c = a(o(4897)),
          p = a(o(195)),
          f = a(o(210)),
          h = a(o(1322)),
          m = a(o(1446));
        function g() {
          const e = s.default.showTimerProgress
            ? parseFloat(s.default.timerOpacity)
            : 0;
          "zen" !== s.default.mode && "bar" === s.default.timerStyle
            ? $("#timerWrapper").stop(!0, !0).removeClass("hidden").animate(
                {
                  opacity: e,
                },
                125
              )
            : "text" === s.default.timerStyle
            ? $("#timerNumber")
                .stop(!0, !0)
                .removeClass("hidden")
                .css("opacity", 0)
                .animate(
                  {
                    opacity: e,
                  },
                  125
                )
            : ("zen" !== s.default.mode && "mini" !== s.default.timerStyle) ||
              (e > 0 &&
                $("#miniTimerAndLiveWpm .time")
                  .stop(!0, !0)
                  .removeClass("hidden")
                  .animate(
                    {
                      opacity: e,
                    },
                    125
                  ));
        }
        function v() {
          $("#timerWrapper").stop(!0, !0).animate(
            {
              opacity: 0,
            },
            125
          ),
            $("#miniTimerAndLiveWpm .time")
              .stop(!0, !0)
              .animate(
                {
                  opacity: 0,
                },
                125,
                () => {
                  $("#miniTimerAndLiveWpm .time").addClass("hidden");
                }
              ),
            $("#timerNumber").stop(!0, !0).animate(
              {
                opacity: 0,
              },
              125
            );
        }
        (t.show = g),
          (t.hide = v),
          (t.restart = function () {
            "bar" === s.default.timerStyle &&
              ("time" === s.default.mode
                ? $("#timer").stop(!0, !0).animate(
                    {
                      width: "100vw",
                    },
                    0
                  )
                : ("words" !== s.default.mode && "custom" !== s.default.mode) ||
                  $("#timer").stop(!0, !0).animate(
                    {
                      width: "0vw",
                    },
                    0
                  ));
          });
        const y = document.querySelector("#timerNumber"),
          b = document.querySelector("#miniTimerAndLiveWpm .time");
        function w() {
          return "custom" === s.default.mode && u.isSectionRandom
            ? d.words.sectionIndexList[d.words.currentIndex] - 1
            : c.input.history.length;
        }
        function _() {
          var e, t, o;
          const n = p.get();
          if (
            "time" === s.default.mode ||
            ("custom" === s.default.mode && u.isTimeRandom)
          ) {
            let e = s.default.time;
            if (
              ("custom" === s.default.mode && u.isTimeRandom && (e = u.time),
              "bar" === s.default.timerStyle)
            ) {
              const t = 100 - ((n + 1) / e) * 100;
              $("#timer")
                .stop(!0, !0)
                .animate(
                  {
                    width: t + "vw",
                  },
                  f.get() ? 0 : 1e3,
                  "linear"
                );
            } else if ("text" === s.default.timerStyle) {
              let t = l.secondsToString(e - n);
              0 === e && (t = l.secondsToString(n)),
                null !== y && (y.innerHTML = "<div>" + t + "</div>");
            } else if ("mini" === s.default.timerStyle) {
              let t = l.secondsToString(e - n);
              0 === e && (t = l.secondsToString(n)),
                null !== b && (b.innerHTML = t);
            }
          } else if (
            "words" === s.default.mode ||
            "custom" === s.default.mode ||
            "quote" === s.default.mode
          ) {
            let n = d.words.length;
            if (
              ("words" === s.default.mode && (n = s.default.words),
              "custom" === s.default.mode &&
                (n = u.isWordRandom
                  ? u.word
                  : u.isSectionRandom
                  ? u.section
                  : u.text.length),
              "quote" === s.default.mode &&
                (n =
                  null !==
                    (o =
                      null ===
                        (t =
                          null === (e = d.randomQuote) || void 0 === e
                            ? void 0
                            : e.textSplit) || void 0 === t
                        ? void 0
                        : t.length) && void 0 !== o
                    ? o
                    : 1),
              "bar" === s.default.timerStyle)
            ) {
              const e = Math.floor(((d.words.currentIndex + 1) / n) * 100);
              $("#timer")
                .stop(!0, !0)
                .animate(
                  {
                    width: e + "vw",
                  },
                  f.get() ? 0 : 250
                );
            } else
              "text" === s.default.timerStyle
                ? 0 === n
                  ? null !== y &&
                    (y.innerHTML = `<div>${c.input.history.length}</div>`)
                  : null !== y && (y.innerHTML = `<div>${w()}/${n}</div>`)
                : "mini" === s.default.timerStyle &&
                  (0 === n
                    ? null !== b && (b.innerHTML = `${c.input.history.length}`)
                    : null !== b && (b.innerHTML = `${w()}/${n}`));
          } else
            "zen" === s.default.mode &&
              ("text" === s.default.timerStyle
                ? null !== y &&
                  (y.innerHTML = `<div>${c.input.history.length}</div>`)
                : null !== b && (b.innerHTML = `${c.input.history.length}`));
        }
        function C() {
          h.isActive &&
            (v(),
            _(),
            setTimeout(() => {
              g();
            }, 125));
        }
        (t.update = _),
          (t.updateStyle = C),
          m.subscribe((e, t) => {
            "showTimerProgress" === e && (!0 === t && h.isActive ? g() : v()),
              "timerStyle" === e && C();
          });
      },
      2026: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.addAllFromToday = t.getString = t.addSeconds = void 0);
        const r = a(o(3388)),
          s = a(o(6350));
        let u,
          l = 0,
          d = !1;
        (t.addSeconds = function (e) {
          d && new Date().getDate() > u ? (l = e) : (l += e);
        }),
          (t.getString = function () {
            return (
              r.secondsToString(Math.round(l), !0, !0) +
              (!0 === d ? " today" : " session")
            );
          }),
          (t.addAllFromToday = function () {
            const e = new Date();
            e.setSeconds(0),
              e.setMinutes(0),
              e.setHours(0),
              e.setMilliseconds(0),
              (u = e.getDate());
            const t = e.getTime();
            l = 0;
            const o = s.getSnapshot();
            if (!o) return;
            const n = o.results;
            null == n ||
              n.forEach((e) => {
                const o = new Date(e.timestamp);
                o.setSeconds(0),
                  o.setMinutes(0),
                  o.setHours(0),
                  o.setMilliseconds(0),
                  o.getTime() >= t &&
                    (l +=
                      e.testDuration + e.incompleteTestSeconds - e.afkDuration);
              }),
              (d = !0);
          });
      },
      6857: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.speak = t.clear = t.init = t.setLanguage = void 0);
        const u = s(o(6705)),
          l = a(o(3388)),
          d = a(o(1446)),
          c = a(o(5012));
        let p;
        function f(e = u.default.language) {
          return r(this, void 0, void 0, function* () {
            if (!p) return;
            const t = yield l.getLanguage(e),
              o = t.bcp47 ? t.bcp47 : "en-US";
            p.lang = o;
          });
        }
        function h() {
          return r(this, void 0, void 0, function* () {
            (p = new SpeechSynthesisUtterance()), f();
          });
        }
        function m() {
          p = void 0;
        }
        function g(e) {
          window.speechSynthesis.cancel(),
            void 0 === p && h(),
            void 0 !== p && ((p.text = e), window.speechSynthesis.speak(p));
        }
        (t.setLanguage = f),
          (t.init = h),
          (t.clear = m),
          (t.speak = g),
          d.subscribe((e, t) => {
            "funbox" === e && ("none" === t ? m() : "tts" === t && h()),
              "language" === e &&
                u.default.funbox.split("#").includes("tts") &&
                f();
          }),
          c.subscribe((e) => {
            g(e);
          });
      },
      5708: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.getWord = t.updateScore = void 0);
        const r = a(o(4897)),
          s = {};
        class u {
          constructor() {
            (this.average = 0), (this.count = 0);
          }
          update(e) {
            this.count < 50 && this.count++;
            const t = 1 / this.count;
            this.average = e * t + this.average * (1 - t);
          }
        }
        function l(e) {
          let t = 0,
            o = 0;
          for (const n of e) n in s && ((t += s[n].average), o++);
          return 0 === o ? 0 : t / o;
        }
        (t.updateScore = function (e, t) {
          var o;
          const n = r.keypressTimings.spacing.array;
          if (0 === n.length || "string" == typeof n) return;
          let i = n[n.length - 1];
          t || (i += 5e3),
            e in s || (s[e] = new u()),
            null === (o = s[e]) || void 0 === o || o.update(i);
        }),
          (t.getWord = function (e) {
            let t,
              o = "";
            for (let n = 0; n < 20; n++) {
              const i = e.randomWord("normal"),
                a = l(i);
              (0 === n || void 0 === t || a > t) && ((o = i), (t = a));
            }
            return o;
          });
      },
      277: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.getSection = t.getTLD = void 0);
        const s = a(o(9817)),
          u = a(o(3388)),
          l = o(3388);
        function d(e) {
          return r(this, void 0, void 0, function* () {
            switch (e.name) {
              case "english":
              default:
                return "en";
              case "spanish":
                return "es";
              case "french":
                return "fr";
              case "german":
                return "de";
              case "portuguese":
                return "pt";
              case "italian":
                return "it";
              case "dutch":
                return "nl";
              case "polish":
                return "pl";
            }
          });
        }
        (t.getTLD = d),
          (t.getSection = function (e) {
            return r(this, void 0, void 0, function* () {
              s.show();
              let t,
                o = "en";
              try {
                t = yield u.findCurrentGroup(e);
              } catch (e) {
                console.error(
                  u.createErrorMessage(
                    e,
                    "Failed to find current language group"
                  )
                );
              }
              void 0 !== t && (o = yield d(t));
              const n = `https://${o}.wikipedia.org/api/rest_v1/page/random/summary`,
                i = {
                  title: "",
                  author: "",
                },
                a = yield fetch(n);
              let r = 0;
              if (200 === a.status) {
                const e = yield a.json();
                (i.title = e.title), (i.author = e.author), (r = e.pageid);
              }
              return new Promise((e, t) => {
                200 !== a.status && (s.hide(), t(a.status));
                const n = `https://${o}.wikipedia.org/w/api.php?action=query&format=json&pageids=${r}&prop=extracts&exintro=true&origin=*`,
                  d = new XMLHttpRequest();
                (d.onload = () => {
                  if (4 === d.readyState)
                    if (200 === d.status) {
                      let t = JSON.parse(d.responseText).query.pages[
                        r.toString()
                      ].extract;
                      (t = t.replace(/<\/p><p>+/g, " ")),
                        (t = u.htmlToText(t)),
                        (t = t.replace(/\[\d+\]/gi, "")),
                        (t = t.replace(/[\u200B-\u200D\uFEFF]/g, "")),
                        (t = u.cleanTypographySymbols(t)),
                        "en" === o && (t = t.replace(/[^\x20-\x7E]+/g, "")),
                        (t = t.replace(/\s+/g, " ")),
                        (t = t.trim());
                      const n = t.split(" "),
                        a = new l.Section(i.title, i.author, n);
                      s.hide(), e(a);
                    } else s.hide(), t(d.status);
                }),
                  d.open("GET", n),
                  d.send();
              });
            });
          });
      },
      9510: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.getNextWord =
            t.currentSection =
            t.sectionIndex =
            t.generateWords =
            t.WordGenError =
            t.getWordsLimit =
            t.getQuoteOrCustomModeWordOrder =
            t.punctuateWord =
              void 0);
        const u = a(o(6705)),
          l = u,
          d = a(o(732)),
          c = a(o(8248)),
          p = a(o(4905)),
          f = s(o(6750)),
          h = a(o(2338)),
          m = a(o(9470)),
          g = a(o(262)),
          v = a(o(3439)),
          y = a(o(476)),
          b = a(o(9196)),
          w = a(o(3388));
        let $ = "";
        function _(e, t, o, n) {
          var i;
          return r(this, void 0, void 0, function* () {
            let a = t;
            const s = u.default.language.split("_")[0],
              l = w.getLastChar(e),
              c = d.get(u.default.funbox).find((e) => {
                var t;
                return null === (t = e.functions) || void 0 === t
                  ? void 0
                  : t.punctuateWord;
              });
            if (
              null === (i = null == c ? void 0 : c.functions) || void 0 === i
                ? void 0
                : i.punctuateWord
            )
              return c.functions.punctuateWord(a);
            if (
              "code" === s ||
              "georgian" === s ||
              (0 !== o &&
                !(function (e) {
                  return /[?!.]/.test(e);
                })(l))
            )
              if (
                (Math.random() < 0.1 &&
                  "." !== l &&
                  "," !== l &&
                  o !== n - 2) ||
                o === n - 1
              )
                if ("spanish" === s || "catalan" === s)
                  ("?" !== $ && "!" !== $) || ((a += $), ($ = ""));
                else {
                  const e = Math.random();
                  e <= 0.8
                    ? (a +=
                        "kurdish" === s
                          ? "."
                          : "nepali" === s
                          ? ""
                          : "japanese" === s
                          ? ""
                          : ".")
                    : e > 0.8 && e < 0.9
                    ? "french" === s
                      ? (a = "?")
                      : (a +=
                          "arabic" === s ||
                          "persian" === s ||
                          "urdu" === s ||
                          "kurdish" === s
                            ? ""
                            : "greek" === s
                            ? ";"
                            : "japanese" === s
                            ? ""
                            : "?")
                    : "french" === s
                    ? (a = "!")
                    : (a += "japanese" === s ? "" : "!");
                }
              else if (
                Math.random() < 0.01 &&
                "," !== l &&
                "." !== l &&
                "russian" !== s
              )
                a = `"${a}"`;
              else if (
                Math.random() < 0.011 &&
                "," !== l &&
                "." !== l &&
                "russian" !== s &&
                "ukrainian" !== s &&
                "slovak" !== s
              )
                a = `'${a}'`;
              else if (Math.random() < 0.012 && "," !== l && "." !== l)
                if ("code" === s) {
                  const e = Math.random(),
                    t = ["()", "{}", "[]", "<>"];
                  u.default.language.startsWith("code_javascript") &&
                    t.push("``");
                  const o = t[Math.floor(e * t.length)];
                  a = `${o[0]}${a}${o[1]}`;
                } else a = "japanese" === s ? `${a}` : `(${a})`;
              else if (
                Math.random() < 0.013 &&
                "," !== l &&
                "." !== l &&
                ";" !== l &&
                "" !== l &&
                ":" !== l
              )
                "french" === s
                  ? (a = ":")
                  : "greek" === s
                  ? (a = "")
                  : (a += ":");
              else if (
                Math.random() < 0.014 &&
                "," !== l &&
                "." !== l &&
                "-" !== e
              )
                a = "-";
              else if (
                Math.random() < 0.015 &&
                "," !== l &&
                "." !== l &&
                ";" !== l &&
                "" !== l &&
                ":" !== l
              )
                "french" === s
                  ? (a = ";")
                  : "greek" === s
                  ? (a = "")
                  : (a += "arabic" === s || "kurdish" === s ? "" : ";");
              else if (Math.random() < 0.2 && "," !== l)
                a +=
                  "arabic" === s ||
                  "urdu" === s ||
                  "persian" === s ||
                  "kurdish" === s
                    ? ""
                    : "japanese" === s
                    ? ""
                    : ",";
              else if (Math.random() < 0.25 && "code" === s) {
                const e = [
                    "{",
                    "}",
                    "[",
                    "]",
                    "(",
                    ")",
                    ";",
                    "=",
                    "+",
                    "%",
                    "/",
                  ],
                  t = [
                    "{",
                    "}",
                    "[",
                    "]",
                    "(",
                    ")",
                    ";",
                    "=",
                    "+",
                    "%",
                    "/",
                    "/*",
                    "*/",
                    "//",
                    "!=",
                    "==",
                    "<=",
                    ">=",
                    "||",
                    "&&",
                    "<<",
                    ">>",
                    "%=",
                    "&=",
                    "*=",
                    "++",
                    "+=",
                    "--",
                    "-=",
                    "/=",
                    "^=",
                    "|=",
                  ];
                a =
                  (u.default.language.startsWith("code_c") &&
                    !u.default.language.startsWith("code_css")) ||
                  u.default.language.startsWith("code_arduino")
                    ? w.randomElementFromArray(t)
                    : u.default.language.startsWith("code_javascript")
                    ? w.randomElementFromArray([...e, "`"])
                    : w.randomElementFromArray(e);
              } else
                Math.random() < 0.5 &&
                  "english" === s &&
                  (yield y.check(a)) &&
                  (a = yield (function (e) {
                    return r(this, void 0, void 0, function* () {
                      return y.replace(e);
                    });
                  })(a));
            else if (
              ((a = w.capitalizeFirstLetterOfEachWord(a)),
              "turkish" === s && (a = a.replace(/I/g, "")),
              "spanish" === s || "catalan" === s)
            ) {
              const e = Math.random();
              e > 0.9
                ? ((a = "" + a), ($ = "?"))
                : e > 0.8 && ((a = "" + a), ($ = "!"));
            }
            return a;
          });
        }
        function C() {
          var e, t;
          const o =
            null ===
              (t =
                null ===
                  (e = d.get(u.default.funbox).find((e) => {
                    var t;
                    return null === (t = e.properties) || void 0 === t
                      ? void 0
                      : t.find((e) => e.startsWith("wordOrder"));
                  })) || void 0 === e
                  ? void 0
                  : e.properties) || void 0 === t
              ? void 0
              : t.find((e) => e.startsWith("wordOrder"));
          return o ? o.split(":")[1] : "normal";
        }
        function S() {
          var e, t;
          let o = 100;
          const n =
            null ===
              (t =
                null ===
                  (e = d.get(u.default.funbox).find((e) => {
                    var t;
                    return null === (t = e.properties) || void 0 === t
                      ? void 0
                      : t.find((e) => e.startsWith("toPush"));
                  })) || void 0 === e
                  ? void 0
                  : e.properties) || void 0 === t
              ? void 0
              : t.find((e) => e.startsWith("toPush:"));
          if (
            (u.default.showAllLines &&
              ("custom" === u.default.mode &&
                (c.isWordRandom
                  ? (o = c.word)
                  : c.isTimeRandom || c.isWordRandom || (o = c.text.length)),
              "words" === u.default.mode && (o = u.default.words)),
            "words" === u.default.mode && 0 === u.default.words && (o = 100),
            "custom" === u.default.mode &&
              c.isWordRandom &&
              0 === c.word &&
              (o = 100),
            "custom" === u.default.mode && "|" === c.delimiter && (o = 100),
            n && (o = +n.split(":")[1]),
            "words" === u.default.mode &&
              0 !== u.default.words &&
              u.default.words < o &&
              (o = u.default.words),
            "custom" === u.default.mode &&
              !c.isSectionRandom &&
              !c.isTimeRandom &&
              c.isWordRandom &&
              0 !== c.word &&
              c.word < o &&
              (o = c.word),
            "custom" === u.default.mode &&
              !c.isTimeRandom &&
              !c.isWordRandom &&
              !c.isSectionRandom &&
              0 !== c.text.length &&
              c.text.length < o)
          ) {
            let e = 0;
            for (const t of c.text)
              / /g.test(t) ? (e += t.split(" ").length) : e++;
            o = e;
          }
          return o;
        }
        (t.punctuateWord = _),
          (t.getQuoteOrCustomModeWordOrder = C),
          (t.getWordsLimit = S);
        class x extends Error {
          constructor(e) {
            super(e), (this.name = "WordGenError");
          }
        }
        t.WordGenError = x;
        let P = [],
          k = !1;
        (t.generateWords = function (e) {
          var o, n, i;
          return r(this, void 0, void 0, function* () {
            (P = []), (t.currentSection = []), (t.sectionIndex = 0), (T = []);
            const a = {
                words: [],
                sectionIndexes: [],
              },
              s = d.get(u.default.funbox).find((e) => {
                var t;
                return null === (t = e.functions) || void 0 === t
                  ? void 0
                  : t.pullSection;
              });
            k =
              void 0 !==
              (null === (o = null == s ? void 0 : s.functions) || void 0 === o
                ? void 0
                : o.pullSection);
            const g = S(),
              v = C();
            console.debug("Word order", v);
            let y = e.words;
            "custom" === u.default.mode &&
              (y = "reverse" === v ? c.text.reverse() : c.text);
            const b = yield p.withWords(y);
            if ("quote" === u.default.mode) {
              const t = yield (function (e, t, o) {
                var n, i;
                return r(this, void 0, void 0, function* () {
                  const a = {
                      words: [],
                      sectionIndexes: [],
                    },
                    r = e.name.startsWith("swiss_german") ? "german" : e.name;
                  if (
                    0 ===
                    (yield f.default.getQuotes(r, u.default.quoteLength)).length
                  )
                    throw (
                      (l.setMode("words"),
                      new x(
                        `No ${u.default.language
                          .replace(/_\d*k$/g, "")
                          .replace(/_/g, " ")} quotes found`
                      ))
                    );
                  let s;
                  if (
                    u.default.quoteLength.includes(-2) &&
                    1 === u.default.quoteLength.length
                  ) {
                    const e = f.default.getQuoteById(h.selectedId);
                    if (void 0 === e)
                      throw (
                        (l.setQuoteLength(-1),
                        new x(`Quote ${h.selectedId} does not exist`))
                      );
                    s = e;
                  } else if (u.default.quoteLength.includes(-3)) {
                    const e = f.default.getRandomFavoriteQuote(
                      u.default.language
                    );
                    if (null === e)
                      throw (
                        (l.setQuoteLength(-1),
                        new x("No favorite quotes found"))
                      );
                    s = e;
                  } else {
                    const e = f.default.getRandomQuote();
                    if (null === e)
                      throw (
                        (l.setQuoteLength(-1),
                        new x("No quotes found for selected quote length"))
                      );
                    s = e;
                  }
                  if (
                    ((s.language = u.default.language.replace(/_\d*k$/g, "")),
                    (s.text = s.text.replace(/ +/gm, " ")),
                    (s.text = s.text.replace(/( *(\r\n|\r|\n) *)/g, "\n ")),
                    (s.text = s.text.replace(//g, "...")),
                    (s.text = s.text.trim()),
                    s.britishText && u.default.britishEnglish
                      ? (s.textSplit = s.britishText.split(" "))
                      : (s.textSplit = s.text.split(" ")),
                    m.setRandomQuote(s),
                    null === m.randomQuote)
                  )
                    throw new x("Random quote is null");
                  if (void 0 === m.randomQuote.textSplit)
                    throw new x("Random quote textSplit is undefined");
                  P = m.randomQuote.textSplit;
                  for (let r = 0; r < Math.min(o, P.length); r++) {
                    const s = yield O(
                      t,
                      r,
                      e,
                      o,
                      null !== (n = w.nthElementFromArray(a.words, -1)) &&
                        void 0 !== n
                        ? n
                        : "",
                      null !== (i = w.nthElementFromArray(a.words, -2)) &&
                        void 0 !== i
                        ? i
                        : ""
                    );
                    a.words.push(s.word), a.sectionIndexes.push(r);
                  }
                  return a;
                });
              })(e, b, g);
              return (
                "reverse" === v &&
                  (t.words.reverse(), t.sectionIndexes.reverse()),
                t
              );
            }
            if (
              "time" === u.default.mode ||
              "words" === u.default.mode ||
              "custom" === u.default.mode
            ) {
              let o = !1,
                r = 0;
              for (; !1 === o; ) {
                const s = yield O(
                  b,
                  r,
                  e,
                  g,
                  null !== (n = w.nthElementFromArray(a.words, -1)) &&
                    void 0 !== n
                    ? n
                    : "",
                  null !== (i = w.nthElementFromArray(a.words, -2)) &&
                    void 0 !== i
                    ? i
                    : ""
                );
                a.words.push(s.word), a.sectionIndexes.push(s.sectionIndex);
                const l =
                    c.isSectionRandom &&
                    0 !== c.section &&
                    t.sectionIndex >= c.section,
                  d =
                    !c.isSectionRandom &&
                    !c.isTimeRandom &&
                    t.sectionIndex >= b.length;
                (("custom" === u.default.mode &&
                  0 === t.currentSection.length &&
                  "|" === c.delimiter &&
                  (l || d)) ||
                  a.words.length >= g) &&
                  (o = !0),
                  r++;
              }
            }
            return (T = []), a;
          });
        }),
          (t.sectionIndex = 0),
          (t.currentSection = []);
        let T = [];
        function O(e, o, n, i, a, s) {
          var p;
          return r(this, void 0, void 0, function* () {
            console.debug("Getting next word", {
              wordset: e,
              wordIndex: o,
              language: n,
              wordsBound: i,
              previousWord: a,
              previousWord2: s,
            });
            const f =
              null !==
                (p = (function () {
                  var e;
                  const t = d.get(u.default.funbox).find((e) => {
                    var t;
                    return null === (t = e.functions) || void 0 === t
                      ? void 0
                      : t.getWordsFrequencyMode;
                  });
                  if (
                    null === (e = null == t ? void 0 : t.functions) ||
                    void 0 === e
                      ? void 0
                      : e.getWordsFrequencyMode
                  )
                    return t.functions.getWordsFrequencyMode();
                })()) && void 0 !== p
                ? p
                : "normal";
            let h = e.randomWord(f);
            const y = a.replace(/[.?!":\-,]/g, "").toLowerCase(),
              $ = s.replace(/[.?!":\-,']/g, "").toLowerCase();
            if (0 === t.currentSection.length) {
              const n = yield (function () {
                var e;
                return r(this, void 0, void 0, function* () {
                  const t = [],
                    o = d.get(u.default.funbox).find((e) => {
                      var t;
                      return null === (t = e.functions) || void 0 === t
                        ? void 0
                        : t.pullSection;
                    });
                  if (
                    null === (e = null == o ? void 0 : o.functions) ||
                    void 0 === e
                      ? void 0
                      : e.pullSection
                  ) {
                    const e = yield o.functions.pullSection(u.default.language);
                    if (!1 === e || void 0 === e)
                      throw (
                        (l.toggleFunbox(o.name),
                        new Error("Failed to pull section"))
                      );
                    for (const o of e.words) {
                      if (
                        t.length >= u.default.words &&
                        "words" === u.default.mode
                      )
                        break;
                      t.push(o);
                    }
                  }
                  return t;
                });
              })();
              if ("quote" === u.default.mode) h = P[o];
              else if (
                "custom" !== u.default.mode ||
                c.isWordRandom ||
                c.isTimeRandom ||
                c.isSectionRandom
              )
                if (
                  "custom" === u.default.mode &&
                  (c.isWordRandom || c.isTimeRandom || c.isSectionRandom) &&
                  (e.length < 4 || null !== b.before.mode)
                )
                  h = e.randomWord(f);
                else if ("custom" === u.default.mode && c.isSectionRandom) {
                  h = e.randomWord(f);
                  const t = w.nthElementFromArray(T, -1),
                    o = w.nthElementFromArray(T, -2);
                  let n = 0;
                  for (; n < 100 && (t === h || o === h); )
                    n++, (h = e.randomWord(f));
                } else if (k) h = n.join(" ");
                else {
                  let t = 0,
                    o = h.split(" ")[0].toLowerCase();
                  for (
                    ;
                    t < 100 &&
                    (y === o ||
                      $ === o ||
                      ("custom" !== u.default.mode &&
                        !u.default.punctuation &&
                        "I" === h) ||
                      ("custom" !== u.default.mode &&
                        !u.default.punctuation &&
                        !u.default.language.startsWith("code") &&
                        /[-=_+[\]{};'\\:"|,./<>?]/i.test(h)) ||
                      ("custom" !== u.default.mode &&
                        !u.default.numbers &&
                        /[0-9]/i.test(h)));

                  )
                    t++, (h = e.randomWord(f)), (o = h.split(" ")[0]);
                }
              else h = c.text[t.sectionIndex];
              (h = h.replace(/ +/g, " ")),
                (h = h.replace(/(^ )|( $)/g, "")),
                (h = (function (e, t, o) {
                  var n;
                  const i = d.get(u.default.funbox).find((e) => {
                    var t;
                    return null === (t = e.functions) || void 0 === t
                      ? void 0
                      : t.getWord;
                  });
                  return (
                    (null === (n = null == i ? void 0 : i.functions) ||
                    void 0 === n
                      ? void 0
                      : n.getWord) && (e = i.functions.getWord(o, t)),
                    e
                  );
                })(h, o, e)),
                (t.currentSection = [...h.split(" ")]),
                T.push(h),
                (h = t.currentSection.shift()),
                t.sectionIndex++;
            } else h = t.currentSection.shift();
            if (void 0 === h) throw new x("Random word is undefined");
            if ("" === h) throw new x("Random word is empty");
            if (/ /g.test(h)) throw new x("Random word contains spaces");
            return (
              "custom" === u.default.mode ||
                "quote" === u.default.mode ||
                !/[A-Z]/.test(h) ||
                u.default.punctuation ||
                u.default.language.startsWith("german") ||
                u.default.language.startsWith("swiss_german") ||
                u.default.language.startsWith("code") ||
                k ||
                (h = h.toLowerCase()),
              (h = h.replace(/ +/gm, " ")),
              (h = h.replace(/(^ )|( $)/gm, "")),
              (h = (function (e, t) {
                return (
                  !0 !== u.default.lazyMode ||
                    t.noLazyMode ||
                    (e = v.replaceAccents(e, t.additionalAccents)),
                  e
                );
              })(h, n)),
              (h = yield (function (e, t) {
                var o;
                return r(this, void 0, void 0, function* () {
                  return u.default.britishEnglish &&
                    /english/.test(u.default.language)
                    ? "quote" === u.default.mode &&
                      (null === (o = m.randomQuote) || void 0 === o
                        ? void 0
                        : o.britishText)
                      ? e
                      : yield g.replace(e, t)
                    : e;
                });
              })(h, y)),
              "swiss_german" === u.default.language &&
                (h = h.replace(//g, "ss")),
              u.default.punctuation &&
                1 == !n.originalPunctuation &&
                !k &&
                (h = yield _(a, h, o, i)),
              u.default.numbers &&
                Math.random() < 0.1 &&
                ((h = w.getNumbers(4)),
                u.default.language.startsWith("kurdish")
                  ? (h = w.convertNumberToArabic(h))
                  : u.default.language.startsWith("nepali") &&
                    (h = w.convertNumberToNepali(h))),
              (h = (function (e) {
                var t;
                for (const o of d.get(u.default.funbox))
                  (null === (t = o.functions) || void 0 === t
                    ? void 0
                    : t.alterText) && (e = o.functions.alterText(e));
                return e;
              })(h)),
              console.debug("Word:", h),
              {
                word: h,
                sectionIndex: t.sectionIndex,
              }
            );
          });
        }
        t.getNextWord = O;
      },
      4905: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.withWords = t.Wordset = void 0);
        const u = a(o(732)),
          l = o(3388),
          d = s(o(6705));
        let c = null;
        class p {
          constructor(e) {
            (this.words = e), (this.length = this.words.length);
          }
          randomWord(e) {
            return "zipf" === e
              ? this.words[(0, l.dreymarIndex)(this.words.length)]
              : (0, l.randomElementFromArray)(this.words);
          }
        }
        (t.Wordset = p),
          (t.withWords = function (e) {
            var t;
            return r(this, void 0, void 0, function* () {
              const o = u.get(d.default.funbox).find((e) => {
                var t;
                return null === (t = e.functions) || void 0 === t
                  ? void 0
                  : t.withWords;
              });
              return (
                null === (t = null == o ? void 0 : o.functions) || void 0 === t
                  ? void 0
                  : t.withWords
              )
                ? o.functions.withWords(e)
                : ((null !== c && e === c.words) || (c = new p(e)), c);
            });
          });
      },
      5209: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        });
        const u = s(o(6705)),
          l = a(o(4292)),
          d = a(o(3368)),
          c = a(o(8248)),
          p = a(o(1322)),
          f = a(o(1446)),
          h = o(2189),
          m = a(o(8673)),
          g = o(7346);
        (0, o(3388).isDevEnvironment)() &&
          ((window.onerror = function (e) {
            d.add(e.toString(), -1);
          }),
          $("header #logo .top").text("localhost"),
          $("head title").text($("head title").text() + " (localhost)"),
          $("body").append(
            '<div class="devIndicator tl">local</div><div class="devIndicator br">local</div>'
          )),
          window.addEventListener("keydown", function (e) {
            "Space" === e.code &&
              e.target === document.body &&
              e.preventDefault();
          }),
          window.addEventListener("beforeunload", (e) => {
            ("words" === u.default.mode && u.default.words < 1e3) ||
              ("time" === u.default.mode && u.default.time < 3600) ||
              "quote" === u.default.mode ||
              ("custom" === u.default.mode && c.isWordRandom && c.word < 1e3) ||
              ("custom" === u.default.mode && c.isTimeRandom && c.time < 1e3) ||
              ("custom" === u.default.mode &&
                !c.isWordRandom &&
                c.text.length < 1e3) ||
              (p.isActive && (e.preventDefault(), (e.returnValue = "")));
          });
        const v = (0, h.debounce)(250, () =>
            r(void 0, void 0, void 0, function* () {
              if (
                (l.updatePosition(),
                "test" === (0, g.get)() && !m.resultVisible)
              )
                if ("off" !== u.default.tapeMode) m.scrollTape();
                else {
                  const e =
                    document.querySelectorAll("#words .word")[
                      m.currentWordElementIndex - 1
                    ];
                  if (e) {
                    const t = Math.floor(e.offsetTop);
                    m.lineJump(t);
                  }
                }
              setTimeout(() => {
                $("#wordsInput").is(":focus") && l.show();
              }, 250);
            })
          ),
          y = (0, h.throttle)(250, () => {
            l.hide();
          });
        $(window).on("resize", () => {
          y(), v();
        }),
          f.subscribe((e) => {
            "quickRestart" === e &&
              (function () {
                const e = window.navigator.userAgent
                  .toLowerCase()
                  .includes("mac")
                  ? "cmd"
                  : "ctrl";
                "esc" === u.default.quickRestart
                  ? $(".pageSettings .tip").html(
                      `\n    tip: You can also change all these settings quickly using the\n    command line (<key>${e}</key>+<key>shift</key>+<key>p</key>)`
                    )
                  : $(".pageSettings .tip").html(
                      `\n    tip: You can also change all these settings quickly using the\n    command line (<key>esc</key> or <key>${e}</key>+<key>shift</key>+<key>p</key>)`
                    ),
                  "esc" === u.default.quickRestart
                    ? $("footer .keyTips").html(
                        `\n    <key>esc</key> - restart test<br>\n    <key>tab</key> or <key>${e}</key>+<key>shift</key>+<key>p</key> - command line`
                      )
                    : "tab" === u.default.quickRestart
                    ? $("footer .keyTips").html(
                        `\n    <key>tab</key> - restart test<br>\n      <key>esc</key> or <key>${e}</key>+<key>shift</key>+<key>p</key> - command line`
                      )
                    : "enter" === u.default.quickRestart
                    ? $("footer .keyTips").html(
                        `\n    <key>enter</key> - restart test<br>\n      <key>esc</key> or <key>${e}</key>+<key>shift</key>+<key>p</key> - command line`
                      )
                    : $("footer .keyTips").html(
                        `\n    <key>tab</key> + <key>enter</key> - restart test<br>\n    <key>esc</key> or <key>${e}</key>+<key>shift</key>+<key>p</key> - command line`
                      );
              })();
          });
      },
      1072: function (e, t, o) {
        var n;
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.toggleDebugLogs = void 0);
        const i = o(3388),
          a = console.log,
          r = console.warn,
          s = console.error;
        let u =
          null !== (n = "true" === localStorage.getItem("debugLogs")) &&
          void 0 !== n &&
          n;
        function l(...e) {
          a(
            "%cINFO",
            "background:#4CAF50;color: #111;padding:0 5px;border-radius:10px",
            ...e
          );
        }
        function d(...e) {
          u &&
            a(
              "%cDEBG",
              "background:#2196F3;color: #111;padding:0 5px;border-radius:10px",
              ...e
            );
        }
        (0, i.isDevEnvironment)() &&
          ((u = !0), d("Debug logs automatically enabled on localhost")),
          (t.toggleDebugLogs = function () {
            (u = !u),
              l("Debug logs " + (u ? "enabled" : "disabled")),
              localStorage.setItem("debugLogs", u.toString());
          }),
          (console.log = l),
          (console.warn = function (...e) {
            r(
              "%cWRN",
              "background:#FFC107;color: #111;padding:0 5px;border-radius:10px",
              ...e
            );
          }),
          (console.error = function (...e) {
            s(
              "%cERR",
              "background:#F44336;color: #111;padding:0 5px;border-radius:10px",
              ...e
            );
          }),
          (console.debug = d);
      },
      3388: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.escapeHTML =
            t.escapeRegExp =
            t.remove_non_ascii =
            t.getWords =
            t.toggleFullscreen =
            t.objectToQueryString =
            t.checkIfGetParameterExists =
            t.findGetParameter =
            t.getPositionString =
            t.chart2Word =
            t.getASCII =
            t.getSpecials =
            t.convertNumberToNepali =
            t.convertNumberToArabic =
            t.getNumbers =
            t.secondsToString =
            t.getGibberish =
            t.findLineByLeastSquares =
            t.roundTo2 =
            t.whorf =
            t.kogasa =
            t.isASCIILetter =
            t.capitalizeFirstLetter =
            t.capitalizeFirstLetterOfEachWord =
            t.getLastChar =
            t.getReleasesFromGitHub =
            t.getLatestReleaseFromGitHub =
            t.median =
            t.mean =
            t.stdDev =
            t.smooth =
            t.isColorDark =
            t.isColorLight =
            t.blendTwoHexColors =
            t.getContributorsList =
            t.getSupportersList =
            t.getChallengeList =
            t.getFontsList =
            t.getFunbox =
            t.getFunboxList =
            t.findCurrentGroup =
            t.getCurrentLanguage =
            t.getLanguage =
            t.getLanguageGroups =
            t.getLanguageList =
            t.getSortedThemesList =
            t.getThemesList =
            t.getLayout =
            t.getLayoutsList =
            t.cachedFetchJson =
              void 0),
          (t.reloadAfter =
            t.replaceSpecialChars =
            t.typedKeys =
            t.convertToMorse =
            t.getBoundingRectOfElements =
            t.isToday =
            t.isYesterday =
            t.getStartOfDayTimestamp =
            t.getCurrentDayTimestamp =
            t.checkIfLanguageSupportsZipf =
            t.dreymarIndex =
            t.getBinary =
            t.isDevEnvironment =
            t.loadCSS =
            t.camelCaseToWords =
            t.htmlToText =
            t.intersect =
            t.areSortedArraysEqual =
            t.areUnsortedArraysEqual =
            t.isPasswordStrong =
            t.Section =
            t.memoizeAsync =
            t.sleep =
            t.abbreviateNumber =
            t.promiseAnimation =
            t.getXpForLevel =
            t.getLevel =
            t.getDiscordAvatarUrl =
            t.isAnyPopupVisible =
            t.isPopupVisible =
            t.isElementVisible =
            t.createErrorMessage =
            t.randomElementFromObject =
            t.nthElementFromArray =
            t.randomElementFromArray =
            t.shuffle =
            t.randomIntFromRange =
            t.downloadResultsCSV =
            t.getMode2 =
            t.swapElements =
            t.convertRemToPixels =
            t.trailingComposeChars =
            t.convertRGBtoHEX =
            t.regexIndexOf =
            t.setCharAt =
            t.clearTimeouts =
            t.canQuickRestart =
            t.mapRange =
            t.isUsernameValid =
            t.cleanTypographySymbols =
              void 0),
          (t.lastElementFromArray =
            t.numberWithSpaces =
            t.getNumberWithMagnitude =
            t.updateTitle =
              void 0);
        const s = a(o(9817)),
          u = o(5256),
          l = o(9438);
        function d() {
          return r(this, void 0, void 0, function* () {
            try {
              return yield (0, t.cachedFetchJson)("/./layouts/_list.json");
            } catch (e) {
              throw new Error("Layouts JSON fetch failed");
            }
          });
        }
        let c, p, f, h, m;
        function g() {
          return r(this, void 0, void 0, function* () {
            if (c) return c;
            {
              let e = yield (0, t.cachedFetchJson)("/./themes/_list.json");
              return (
                (e = e.sort(function (e, t) {
                  const o = e.name.toLowerCase(),
                    n = t.name.toLowerCase();
                  return o < n ? -1 : o > n ? 1 : 0;
                })),
                (c = e),
                c
              );
            }
          });
        }
        function v() {
          return r(this, void 0, void 0, function* () {
            try {
              return yield (0, t.cachedFetchJson)("/./languages/_groups.json");
            } catch (e) {
              throw new Error("Language groups JSON fetch failed");
            }
          });
        }
        function y(e) {
          return r(this, void 0, void 0, function* () {
            return (
              (void 0 !== f && f.name === e) ||
                (f = yield (0, t.cachedFetchJson)(`/./languages/${e}.json`)),
              f
            );
          });
        }
        function b() {
          return r(this, void 0, void 0, function* () {
            if (h) return h;
            {
              let e = yield (0, t.cachedFetchJson)("/./funbox/_list.json");
              return (
                (e = e.sort(function (e, t) {
                  const o = e.name.toLowerCase(),
                    n = t.name.toLowerCase();
                  return o < n ? -1 : o > n ? 1 : 0;
                })),
                (h = e),
                h
              );
            }
          });
        }
        function w(e) {
          if (4 !== e.length && 7 !== e.length && !e.startsWith("#")) return;
          let t, o, n;
          if (4 === e.length)
            (t = "0x" + e[1] + e[1]),
              (o = "0x" + e[2] + e[2]),
              (n = "0x" + e[3] + e[3]);
          else {
            if (7 !== e.length) return;
            (t = "0x" + e[1] + e[2]),
              (o = "0x" + e[3] + e[4]),
              (n = "0x" + e[5] + e[6]);
          }
          return {
            r: t,
            g: o,
            b: n,
          };
        }
        function _(e) {
          let t, o, n;
          4 === e.length
            ? ((t = "0x" + e[1] + e[1]),
              (o = "0x" + e[2] + e[2]),
              (n = "0x" + e[3] + e[3]))
            : 7 === e.length
            ? ((t = "0x" + e[1] + e[2]),
              (o = "0x" + e[3] + e[4]),
              (n = "0x" + e[5] + e[6]))
            : ((t = 0), (o = 0), (n = 0)),
            (t /= 255),
            (o /= 255),
            (n /= 255);
          const i = Math.min(t, o, n),
            a = Math.max(t, o, n),
            r = a - i;
          let s = 0,
            u = 0,
            l = 0;
          return (
            (s =
              0 === r
                ? 0
                : a === t
                ? ((o - n) / r) % 6
                : a === o
                ? (n - t) / r + 2
                : (t - o) / r + 4),
            (s = Math.round(60 * s)),
            s < 0 && (s += 360),
            (l = (a + i) / 2),
            (u = 0 === r ? 0 : r / (1 - Math.abs(2 * l - 1))),
            (u = +(100 * u).toFixed(1)),
            (l = +(100 * l).toFixed(1)),
            {
              hue: s,
              sat: u,
              lgt: l,
              string: "hsl(" + s + "," + u + "%," + l + "%)",
            }
          );
        }
        function C(e) {
          return Math.round(100 * (e + Number.EPSILON)) / 100;
        }
        (t.cachedFetchJson = E(function (e) {
          return r(this, void 0, void 0, function* () {
            try {
              if (!e) throw new Error("No URL");
              const t = yield fetch(e);
              if (t.ok) return yield t.json();
              throw new Error(`${t.status} ${t.statusText}`);
            } catch (t) {
              throw (console.error("Error fetching JSON: " + e, t), t);
            }
          });
        })),
          (t.getLayoutsList = d),
          (t.getLayout = function (e) {
            return r(this, void 0, void 0, function* () {
              const t = (yield d())[e];
              if (void 0 === t) throw new Error(`Layout ${e} is undefined`);
              return t;
            });
          }),
          (t.getThemesList = g),
          (t.getSortedThemesList = function () {
            return r(this, void 0, void 0, function* () {
              if (p) return p;
              {
                if ((c || (yield g()), !c))
                  throw new Error("Themes list is undefined");
                let e = [...c];
                return (
                  (e = e.sort((e, t) => {
                    const o = _(e.bgColor);
                    return _(t.bgColor).lgt - o.lgt;
                  })),
                  (p = e),
                  p
                );
              }
            });
          }),
          (t.getLanguageList = function () {
            return r(this, void 0, void 0, function* () {
              try {
                return yield (0, t.cachedFetchJson)("/./languages/_list.json");
              } catch (e) {
                throw new Error("Language list JSON fetch failed");
              }
            });
          }),
          (t.getLanguageGroups = v),
          (t.getLanguage = y),
          (t.getCurrentLanguage = function (e) {
            return r(this, void 0, void 0, function* () {
              return yield y(e);
            });
          }),
          (t.findCurrentGroup = function (e) {
            return r(this, void 0, void 0, function* () {
              let t;
              return (
                (yield v()).forEach((o) => {
                  void 0 === t && o.languages.includes(e) && (t = o);
                }),
                t
              );
            });
          }),
          (t.getFunboxList = b),
          (t.getFunbox = function (e) {
            return r(this, void 0, void 0, function* () {
              return (yield b()).find(function (t) {
                return t.name === e;
              });
            });
          }),
          (t.getFontsList = function () {
            return r(this, void 0, void 0, function* () {
              if (m) return m;
              {
                let e = yield (0, t.cachedFetchJson)("/./fonts/_list.json");
                return (
                  (e = e.sort(function (e, t) {
                    const o = e.name.toLowerCase(),
                      n = t.name.toLowerCase();
                    return o < n ? -1 : o > n ? 1 : 0;
                  })),
                  (m = e),
                  m
                );
              }
            });
          }),
          (t.getChallengeList = function () {
            return r(this, void 0, void 0, function* () {
              try {
                return yield (0, t.cachedFetchJson)("/./challenges/_list.json");
              } catch (e) {
                throw new Error("Challenge list JSON fetch failed");
              }
            });
          }),
          (t.getSupportersList = function () {
            return r(this, void 0, void 0, function* () {
              try {
                return yield (0, t.cachedFetchJson)("/./about/supporters.json");
              } catch (e) {
                throw new Error("Supporters list JSON fetch failed");
              }
            });
          }),
          (t.getContributorsList = function () {
            return r(this, void 0, void 0, function* () {
              try {
                return yield (0,
                t.cachedFetchJson)("/./about/contributors.json");
              } catch (e) {
                throw new Error("Contributors list JSON fetch failed");
              }
            });
          }),
          (t.blendTwoHexColors = function (e, t, o) {
            const n = w(e),
              i = w(t);
            if (n && i) {
              const e = {
                  r: n.r,
                  g: n.g,
                  b: n.b,
                  a: 1,
                },
                t = {
                  r: i.r,
                  g: i.g,
                  b: i.b,
                  a: o,
                },
                a = (0, u.normal)(e, t);
              return (
                "#" +
                ((1 << 24) + (a.r << 16) + (a.g << 8) + a.b)
                  .toString(16)
                  .slice(1)
              );
            }
            return "#000000";
          }),
          (t.isColorLight = function (e) {
            return _(e).lgt >= 50;
          }),
          (t.isColorDark = function (e) {
            return _(e).lgt < 50;
          }),
          (t.smooth = function (e, t, o = (e) => e) {
            const n = o,
              i = [];
            for (let o = 0; o < e.length; o += 1) {
              const a = o - t,
                r = o + t + 1;
              let s = 0,
                u = 0;
              for (let t = a >= 0 ? a : 0; t < r && t < e.length; t += 1)
                (u += n(e[t])), (s += 1);
              i[o] = u / s;
            }
            return i;
          }),
          (t.stdDev = function (e) {
            try {
              const t = e.length,
                o = e.reduce((e, t) => e + t) / t;
              return Math.sqrt(
                e.map((e) => Math.pow(e - o, 2)).reduce((e, t) => e + t) / t
              );
            } catch (e) {
              return 0;
            }
          }),
          (t.mean = function (e) {
            try {
              return e.reduce((e, t) => t + e) / e.length;
            } catch (e) {
              return 0;
            }
          }),
          (t.median = function (e) {
            try {
              const t = Math.floor(e.length / 2),
                o = [...e].sort((e, t) => e - t);
              return e.length % 2 != 0 ? o[t] : (o[t - 1] + o[t]) / 2;
            } catch (e) {
              return 0;
            }
          }),
          (t.getLatestReleaseFromGitHub = function () {
            return r(this, void 0, void 0, function* () {
              return (yield $.getJSON(
                "https://api.github.com/repos/monkeytypegame/monkeytype/releases?per_page=1"
              ))[0].name;
            });
          }),
          (t.getReleasesFromGitHub = function () {
            return r(this, void 0, void 0, function* () {
              return $.getJSON(
                "https://api.github.com/repos/monkeytypegame/monkeytype/releases?per_page=5"
              );
            });
          }),
          (t.getLastChar = function (e) {
            try {
              return e.charAt(e.length - 1);
            } catch (e) {
              return "";
            }
          }),
          (t.capitalizeFirstLetterOfEachWord = function (e) {
            return e
              .split(/ +/)
              .map((e) => e.charAt(0).toUpperCase() + e.slice(1))
              .join(" ");
          }),
          (t.capitalizeFirstLetter = function (e) {
            return e.charAt(0).toUpperCase() + e.slice(1);
          }),
          (t.isASCIILetter = function (e) {
            return 1 === e.length && /[a-z]/i.test(e);
          }),
          (t.kogasa = function (e) {
            return (
              100 * (1 - Math.tanh(e + Math.pow(e, 3) / 3 + Math.pow(e, 5) / 5))
            );
          }),
          (t.whorf = function (e, t) {
            return Math.min(e, Math.floor(e * Math.pow(1.03, -2 * (t - 3))));
          }),
          (t.roundTo2 = C),
          (t.findLineByLeastSquares = function (e) {
            let t = 0,
              o = 0,
              n = 0,
              i = 0,
              a = 0,
              r = 0,
              s = 0;
            const u = e.length;
            if (0 === u) return null;
            for (let l = 0; l < u; l++)
              (r = l + 1),
                (s = e[l]),
                (t += r),
                (o += s),
                (i += r * r),
                (n += r * s),
                a++;
            const l = (a * n - t * o) / (a * i - t * t),
              d = o / a - (l * t) / a;
            return [
              [1, 1 * l + d],
              [u, u * l + d],
            ];
          }),
          (t.getGibberish = function () {
            const e = j(1, 7);
            let t = "";
            for (let o = 0; o < e; o++) t += String.fromCharCode(97 + j(0, 25));
            return t;
          }),
          (t.secondsToString = function (
            e,
            t = !1,
            o = !1,
            n = ":",
            i = !0,
            a = !1
          ) {
            e = Math.abs(e);
            let r,
              s = 0;
            a
              ? ((s = Math.floor(e / 86400)),
                (r = Math.floor((e % 86400) / 3600)))
              : (r = Math.floor(e / 3600));
            const u = Math.floor((e % 3600) / 60),
              l = C((e % 3600) % 60);
            let d, c, p, f;
            a && (d = s < 10 && "text" !== n ? "0" + s : s),
              (c = r < 10 && "text" !== n ? "0" + r : r),
              (p = u < 10 && "text" !== n ? "0" + u : u),
              (f =
                l < 10 && (u > 0 || r > 0 || t) && "text" !== n ? "0" + l : l);
            let h = "";
            return (
              s > 0 &&
                a &&
                ((h += d),
                (h += "text" === n ? (1 === s ? " day " : " days ") : n)),
              (r > 0 || o) &&
                ((h += c),
                (h += "text" === n ? (1 === r ? " hour " : " hours ") : n)),
              (u > 0 || r > 0 || t) &&
                ((h += p),
                "text" === n
                  ? (h += 1 === u ? " minute " : " minutes ")
                  : i && (h += n)),
              i &&
                ((h += f),
                "text" === n && (h += 1 === l ? " second" : " seconds")),
              0 !== r ||
                0 !== u ||
                i ||
                "text" !== n ||
                (h = "less than 1 minute"),
              h.trim()
            );
          }),
          (t.getNumbers = function (e) {
            const t = j(1, e);
            let o = "";
            for (let e = 0; e < t; e++) {
              let t;
              (t = j(0 === e ? 1 : 0, 9)), (o += t.toString());
            }
            return o;
          }),
          (t.convertNumberToArabic = function (e) {
            let t = "";
            for (let o = 0; o < e.length; o++)
              t += ""[parseInt(e[o])];
            return t;
          }),
          (t.convertNumberToNepali = function (e) {
            let t = "";
            for (let o = 0; o < e.length; o++)
              t += ""[parseInt(e[o])];
            return t;
          }),
          (t.getSpecials = function () {
            const e = j(1, 7);
            let t = "";
            const o = [
              "!",
              "@",
              "#",
              "$",
              "%",
              "^",
              "&",
              "*",
              "(",
              ")",
              "-",
              "_",
              "=",
              "+",
              "{",
              "}",
              "[",
              "]",
              "'",
              '"',
              "/",
              "\\",
              "|",
              "?",
              ";",
              ":",
              ">",
              "<",
            ];
            for (let n = 0; n < e; n++) t += W(o);
            return t;
          }),
          (t.getASCII = function () {
            const e = j(1, 10);
            let t = "";
            for (let o = 0; o < e; o++) {
              const e = 33 + j(0, 93);
              t += String.fromCharCode(e);
            }
            return t;
          });
        let S = !1,
          x = 0,
          P = 0,
          k = 0,
          T = 3,
          O = 0,
          M = 0;
        function A(e) {
          P--;
          let t = Math.round(Math.random()),
            o = Math.round(5 * Math.random() - 0.5);
          return (
            e
              ? ((S = Boolean(Math.round(Math.random()))), (o = S ? 3 : 0))
              : (S
                  ? (k === t ? O++ : (O = 0),
                    (O > 1 || (M > 0 && O > 0)) && ((t = 1 - t), (O = 0)),
                    (k = t),
                    (o = t * (x + 1)))
                  : (T === t ? M++ : (M = 0),
                    (M > 1 || (M > 0 && O > 0)) && ((t = 1 - t), (M = 0)),
                    (T = t),
                    (o = 3 - t * (x + 1))),
                (S = !S),
                P < 0 &&
                  0 === t &&
                  ((x = 1 - x), (P = Math.floor(3 * Math.random()) + 3))),
            o
          );
        }
        function j(e, t) {
          const o = Math.ceil(e),
            n = Math.floor(t);
          return Math.floor(Math.random() * (n - o + 1) + o);
        }
        function W(e) {
          return e[j(0, e.length - 1)];
        }
        function L(e) {
          const t = document.querySelector(e);
          return !!t && !!t.getClientRects().length;
        }
        function B(e) {
          return L(`#popups #${e}`);
        }
        function E(e, t) {
          const o = new Map();
          return (...n) =>
            r(this, void 0, void 0, function* () {
              const i = t ? t.apply(n) : n[0];
              if (o.has(i)) {
                const e = yield o.get(i);
                if (void 0 !== e) return e;
              }
              const a = e.apply(null, n);
              return o.set(i, a), a;
            });
        }
        function F() {
          return l.envConfig.isDevelopment;
        }
        (t.chart2Word = function (e) {
          const t = ["", "", "", ""];
          let o = "";
          for (let n = 0; n < 4; n++) o += t[A(0 === n && e)];
          return o;
        }),
          (t.getPositionString = function (e) {
            let t = "th";
            const o = e % 10,
              n = e % 100;
            return (
              1 === o && 11 !== n && (t = "st"),
              2 === o && 12 !== n && (t = "nd"),
              3 === o && 13 !== n && (t = "rd"),
              e + t
            );
          }),
          (t.findGetParameter = function (e, t) {
            let o = null,
              n = [],
              i = location.search;
            return (
              t && (i = t),
              i
                .slice(1)
                .split("&")
                .forEach(function (t) {
                  (n = t.split("=")),
                    n[0] === e && (o = decodeURIComponent(n[1]));
                }),
              o
            );
          }),
          (t.checkIfGetParameterExists = function (e, t) {
            let o = !1,
              n = [],
              i = location.search;
            return (
              t && (i = t),
              i
                .slice(1)
                .split("&")
                .forEach(function (t) {
                  (n = t.split("=")), n[0] === e && (o = !0);
                }),
              o
            );
          }),
          (t.objectToQueryString = function (e) {
            const t = [];
            for (const o in e)
              Object.prototype.hasOwnProperty.call(e, o) &&
                t.push(encodeURIComponent(o) + "=" + encodeURIComponent(e[o]));
            return t.join("&");
          }),
          (t.toggleFullscreen = function () {
            const e = document.documentElement;
            document.fullscreenElement ||
            document.mozFullScreenElement ||
            document.webkitFullscreenElement ||
            document.msFullscreenElement
              ? document.exitFullscreen
                ? document.exitFullscreen()
                : document.msExitFullscreen
                ? document.msExitFullscreen()
                : document.mozCancelFullScreen
                ? document.mozCancelFullScreen()
                : document.webkitExitFullscreen &&
                  document.webkitExitFullscreen()
              : e.requestFullscreen
              ? e.requestFullscreen()
              : e.msRequestFullscreen
              ? e.msRequestFullscreen()
              : e.mozRequestFullScreen
              ? e.mozRequestFullScreen()
              : e.webkitRequestFullscreen &&
                e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
          }),
          (t.getWords = function () {
            return [...document.querySelectorAll("#words .word")]
              .map((e) =>
                [...e.querySelectorAll("letter")]
                  .map((e) => e.textContent)
                  .join("")
              )
              .join(" ");
          }),
          (t.remove_non_ascii = function (e) {
            return null === e || "" === e
              ? ""
              : (e = e.toString()).replace(/[^\x20-\x7E]/g, "");
          }),
          (t.escapeRegExp = function (e) {
            return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
          }),
          (t.escapeHTML = function (e) {
            return e
              .replace(/&/g, "&amp;")
              .replace(/</g, "&lt;")
              .replace(/>/g, "&gt;")
              .replace(/"/g, "&quot;")
              .replace(/'/g, "&#039;");
          }),
          (t.cleanTypographySymbols = function (e) {
            const t = {
              "": '"',
              "": '"',
              "": "'",
              "": "'",
              ",": ",",
              "": "-",
              "": "...",
              "": "<<",
              "": ">>",
              "": "-",
              "": " ",
              "": " ",
              "": " ",
            };
            return e.replace(
              /[,\u2007\u202F\u00A0]/g,
              (e) => t[e] || ""
            );
          }),
          (t.isUsernameValid = function (e) {
            return (
              null != e &&
              "" !== e &&
              !/miodec/.test(e.toLowerCase()) &&
              !/bitly/.test(e.toLowerCase()) &&
              !(e.length > 14) &&
              !/^\..*/.test(e.toLowerCase()) &&
              /^[0-9a-zA-Z_.-]+$/.test(e)
            );
          }),
          (t.mapRange = function (e, t, o, n, i) {
            let a = ((e - t) * (i - n)) / (o - t) + n;
            return (
              n > i
                ? a > n
                  ? (a = n)
                  : a < i && (a = i)
                : a < n
                ? (a = n)
                : a > i && (a = i),
              a
            );
          }),
          (t.canQuickRestart = function (e, t, o, n, i) {
            const a = "words" === e && (t >= 1e3 || 0 === t),
              r = "time" === e && (o >= 900 || 0 === o),
              s = "custom" === e && !0 === i,
              u = "custom" === e && n.isWordRandom && n.word >= 1e3,
              l = "custom" === e && n.isTimeRandom && n.time > 900,
              d =
                "custom" === e &&
                !n.isWordRandom &&
                !n.isTimeRandom &&
                n.text.length >= 1e3;
            return !(a || r || s || u || l || d);
          }),
          (t.clearTimeouts = function (e) {
            e.forEach((e) => {
              clearTimeout(e);
            });
          }),
          (t.setCharAt = function (e, t, o) {
            return t > e.length - 1
              ? e
              : e.substring(0, t) + o + e.substring(t + 1);
          }),
          (t.regexIndexOf = function (e, t, o) {
            const n = e.substring(o || 0).search(t);
            return n >= 0 ? n + (o || 0) : n;
          }),
          (t.convertRGBtoHEX = function (e) {
            const t = e.match(/^rgb\((\d+), \s*(\d+), \s*(\d+)\)$/);
            if (null !== t && !(t.length < 3))
              return "#" + o(t[1]) + o(t[2]) + o(t[3]);
            function o(e) {
              return ("0" + parseInt(e).toString(16)).slice(-2);
            }
          }),
          (String.prototype.lastIndexOfRegex = function (e) {
            const t = this.match(e);
            return t ? this.lastIndexOf(t[t.length - 1]) : -1;
          }),
          (t.trailingComposeChars = /[\u02B0-\u02FF`^~]+$|.*$/),
          (t.convertRemToPixels = function (e) {
            return (
              e *
              parseFloat(getComputedStyle(document.documentElement).fontSize)
            );
          }),
          (t.swapElements = function (
            e,
            t,
            o,
            n = function () {
              return r(this, void 0, void 0, function* () {
                return Promise.resolve();
              });
            },
            i = function () {
              return r(this, void 0, void 0, function* () {
                return Promise.resolve();
              });
            }
          ) {
            return r(this, void 0, void 0, function* () {
              if (
                (e.hasClass("hidden") && !t.hasClass("hidden")) ||
                (!e.hasClass("hidden") && t.hasClass("hidden"))
              ) {
                if (e.hasClass("hidden")) return yield i(), yield n(), !1;
                $(e)
                  .removeClass("hidden")
                  .css("opacity", 1)
                  .animate(
                    {
                      opacity: 0,
                    },
                    o / 2,
                    () =>
                      r(this, void 0, void 0, function* () {
                        yield i(),
                          $(e).addClass("hidden"),
                          $(t)
                            .removeClass("hidden")
                            .css("opacity", 0)
                            .animate(
                              {
                                opacity: 1,
                              },
                              o / 2,
                              () => {
                                n();
                              }
                            );
                      })
                  );
              } else
                e.hasClass("hidden") && t.hasClass("hidden")
                  ? (yield i(),
                    $(t)
                      .removeClass("hidden")
                      .css("opacity", 0)
                      .animate(
                        {
                          opacity: 1,
                        },
                        o,
                        () =>
                          r(this, void 0, void 0, function* () {
                            yield n();
                          })
                      ))
                  : (yield i(), yield n());
            });
          }),
          (t.getMode2 = function (e, t) {
            var o;
            const n = e.mode;
            let i;
            if ("time" === n) i = e.time.toString();
            else if ("words" === n) i = e.words.toString();
            else if ("custom" === n) i = "custom";
            else if ("zen" === n) i = "zen";
            else {
              if ("quote" !== n) throw new Error("Invalid mode");
              i = `${
                null !== (o = null == t ? void 0 : t.id) && void 0 !== o
                  ? o
                  : -1
              }`;
            }
            return i;
          }),
          (t.downloadResultsCSV = function (e) {
            return r(this, void 0, void 0, function* () {
              s.show();
              const t = [
                  [
                    "_id",
                    "isPb",
                    "wpm",
                    "acc",
                    "rawWpm",
                    "consistency",
                    "charStats",
                    "mode",
                    "mode2",
                    "quoteLength",
                    "restartCount",
                    "testDuration",
                    "afkDuration",
                    "incompleteTestSeconds",
                    "punctuation",
                    "numbers",
                    "language",
                    "funbox",
                    "difficulty",
                    "lazyMode",
                    "blindMode",
                    "bailedOut",
                    "tags",
                    "timestamp",
                  ],
                  ...e.map((e) => [
                    e._id,
                    e.isPb,
                    e.wpm,
                    e.acc,
                    e.rawWpm,
                    e.consistency,
                    e.charStats.join(","),
                    e.mode,
                    e.mode2,
                    e.quoteLength,
                    e.restartCount,
                    e.testDuration,
                    e.afkDuration,
                    e.incompleteTestSeconds,
                    e.punctuation,
                    e.numbers,
                    e.language,
                    e.funbox,
                    e.difficulty,
                    e.lazyMode,
                    e.blindMode,
                    e.bailedOut,
                    e.tags.join(","),
                    e.timestamp,
                  ]),
                ]
                  .map((e) => e.join("|"))
                  .join("\n"),
                o = new Blob([t], {
                  type: "text/csv",
                }),
                n = window.URL.createObjectURL(o),
                i = document.createElement("a");
              i.setAttribute("href", n),
                i.setAttribute("download", "results.csv"),
                document.body.appendChild(i),
                i.click(),
                i.remove(),
                s.hide();
            });
          }),
          (t.randomIntFromRange = j),
          (t.shuffle = function (e) {
            for (let t = e.length - 1; t > 0; --t) {
              const o = j(0, t),
                n = e[o];
              (e[o] = e[t]), (e[t] = n);
            }
          }),
          (t.randomElementFromArray = W),
          (t.nthElementFromArray = function (e, t) {
            return e[(t = t < 0 ? e.length + t : t)];
          }),
          (t.randomElementFromObject = function (e) {
            return W(Object.values(e));
          }),
          (t.createErrorMessage = function (e, t) {
            if (e instanceof Error) return `${t}: ${e.message}`;
            const o = e;
            return (null == o ? void 0 : o.message) ? `${t}: ${o.message}` : t;
          }),
          (t.isElementVisible = L),
          (t.isPopupVisible = B),
          (t.isAnyPopupVisible = function () {
            const e = document.querySelectorAll("#popups .popupWrapper");
            let t = !1;
            for (const o of e)
              if (B(o.id)) {
                t = !0;
                break;
              }
            return t;
          }),
          (t.getDiscordAvatarUrl = function (e, t, o = 32) {
            return r(this, void 0, void 0, function* () {
              if (!e || !t) return null;
              try {
                const n = `https://cdn.discordapp.com/avatars/${e}/${t}.png?size=${o}`;
                return (yield fetch(n, {
                  method: "HEAD",
                })).ok
                  ? n
                  : null;
              } catch (e) {}
              return null;
            });
          }),
          (t.getLevel = function (e) {
            return (1 / 98) * (-151 + Math.sqrt(392 * e + 22801)) + 1;
          }),
          (t.getXpForLevel = function (e) {
            return 49 * (e - 1) + 100;
          }),
          (t.promiseAnimation = function (e, t, o, n) {
            return r(this, void 0, void 0, function* () {
              return new Promise((i) => {
                e.animate(t, o, n, i);
              });
            });
          }),
          (t.abbreviateNumber = function (e, t = 1) {
            if (e < 1e3) return e.toString();
            const o = Math.floor(Math.log(e) / Math.log(1e3)),
              n = "kmbtqQsSond".charAt(o - 1);
            return (e / Math.pow(1e3, o)).toFixed(t) + n;
          }),
          (t.sleep = function (e) {
            return r(this, void 0, void 0, function* () {
              return new Promise((t) => setTimeout(t, e));
            });
          }),
          (t.memoizeAsync = E),
          (t.Section = class {
            constructor(e, t, o) {
              (this.title = e), (this.author = t), (this.words = o);
            }
          }),
          (t.isPasswordStrong = function (e) {
            const t = !!e.match(/[A-Z]/),
              o = !!e.match(/[\d]/),
              n = !!e.match(/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/),
              i = e.length >= 8,
              a = e.length <= 64;
            return t && o && n && i && a;
          }),
          (t.areUnsortedArraysEqual = function (e, t) {
            return e.length === t.length && e.every((e) => t.includes(e));
          }),
          (t.areSortedArraysEqual = function (e, t) {
            return e.length === t.length && e.every((e, o) => e === t[o]);
          }),
          (t.intersect = function (e, t, o = !1) {
            let n;
            t.length > e.length && ((n = t), (t = e), (e = n));
            const i = e.filter(function (e) {
              return t.indexOf(e) > -1;
            });
            return o ? [...new Set(i)] : i;
          }),
          (t.htmlToText = function (e) {
            const t = document.createElement("div");
            return (t.innerHTML = e), t.textContent || t.innerText || "";
          }),
          (t.camelCaseToWords = function (e) {
            return e
              .replace(/([A-Z])/g, " $1")
              .trim()
              .toLowerCase();
          }),
          (t.loadCSS = function (e, t = !1) {
            const o = document.createElement("link");
            (o.type = "text/css"), (o.rel = "stylesheet"), (o.href = e);
            const n = document.getElementsByTagName("head")[0];
            if (void 0 === n)
              throw new Error("Could not load CSS - head is undefined");
            t ? n.prepend(o) : n.appendChild(o);
          }),
          (t.isDevEnvironment = F),
          (t.getBinary = function () {
            return Math.floor(256 * Math.random())
              .toString(2)
              .padStart(8, "0");
          }),
          (t.dreymarIndex = function (e) {
            const t = e,
              o = 0.5772156649,
              n = Math.log(t) + o,
              i = Math.random(),
              a = Math.exp(i * n - o);
            return Math.ceil(a) - 1;
          }),
          (t.checkIfLanguageSupportsZipf = function (e) {
            return r(this, void 0, void 0, function* () {
              const t = yield y(e);
              return !0 === t.orderedByFrequency
                ? "yes"
                : !1 === t.orderedByFrequency
                ? "no"
                : "unknown";
            });
          }),
          (t.getCurrentDayTimestamp = function (e = 0) {
            const t = e * I;
            return D(Date.now(), t);
          });
        const I = 36e5,
          R = 864e5;
        function D(e, t = 0) {
          return e - ((e - t) % R);
        }
        function V(e) {
          return e.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
        }
        (t.getStartOfDayTimestamp = D),
          (t.isYesterday = function (e, t = 0) {
            const o = t * I;
            return D(Date.now() - R, o) === D(e, o);
          }),
          (t.isToday = function (e, t = 0) {
            const o = t * I;
            return D(Date.now(), o) === D(e, o);
          }),
          (t.getBoundingRectOfElements = function (e) {
            let t = 1 / 0,
              o = 1 / 0,
              n = -1 / 0,
              i = -1 / 0;
            return (
              e.forEach((e) => {
                const a = e.getBoundingClientRect();
                (t = Math.min(t, a.left)),
                  (o = Math.min(o, a.top)),
                  (n = Math.max(n, a.right)),
                  (i = Math.max(i, a.bottom));
              }),
              {
                x: t,
                y: o,
                width: n - t,
                height: i - o,
                top: o,
                right: n,
                bottom: i,
                left: t,
                toJSON: function () {
                  return JSON.stringify({
                    x: this.x,
                    y: this.y,
                    width: this.width,
                    height: this.height,
                    top: this.top,
                    right: this.right,
                    bottom: this.bottom,
                    left: this.left,
                  });
                },
              }
            );
          }),
          (t.convertToMorse = function (e) {
            const t = {
              a: ".-",
              b: "-...",
              c: "-.-.",
              d: "-..",
              e: ".",
              f: "..-.",
              g: "--.",
              h: "....",
              i: "..",
              j: ".---",
              k: "-.-",
              l: ".-..",
              m: "--",
              n: "-.",
              o: "---",
              p: ".--.",
              q: "--.-",
              r: ".-.",
              s: "...",
              t: "-",
              u: "..-",
              v: "...-",
              w: ".--",
              x: "-..-",
              y: "-.--",
              z: "--..",
              0: "-----",
              1: ".----",
              2: "..---",
              3: "...--",
              4: "....-",
              5: ".....",
              6: "-....",
              7: "--...",
              8: "---..",
              9: "----.",
              ".": ".-.-.-",
              ",": "--..--",
              "?": "..--..",
              "'": ".----.",
              "/": "-..-.",
              "(": "-.--.",
              ")": "-.--.-",
              "&": ".-...",
              ":": "---...",
              ";": "-.-.-.",
              "=": "-...-",
              "+": ".-.-.",
              "-": "-....-",
              _: "..--.-",
              '"': ".-..-.",
              $: "...-..-",
              "!": "-.-.--",
              "@": ".--.-.",
            };
            let o = "";
            const n = V(e);
            for (let e = 0; e < n.length; e++) {
              const i = t[n.toLowerCase()[e]];
              o += i ? i + "/" : "";
            }
            return o;
          }),
          (t.typedKeys = function (e) {
            return Object.keys(e);
          }),
          (t.replaceSpecialChars = V),
          (t.reloadAfter = function (e) {
            setTimeout(() => {
              window.location.reload();
            }, 1e3 * e);
          }),
          (t.updateTitle = function (e) {
            const t = F() ? "localhost - " : "";
            document.title = e
              ? t + e
              : t + "Monkeytype | A minimalistic, customizable typing test";
          }),
          (t.getNumberWithMagnitude = function (e) {
            const t = [
              "",
              "thousand",
              "million",
              "billion",
              "trillion",
              "quadrillion",
              "quintillion",
              "sextillion",
              "septillion",
              "octillion",
              "nonillion",
              "decillion",
            ];
            let o = 0,
              n = e;
            for (; n >= 1e3; ) (n /= 1e3), o++;
            const i = t[o] ? t[o] : "unknown";
            return {
              rounded: Math.round(n),
              roundedTo2: C(n),
              orderOfMagnitude: i,
            };
          }),
          (t.numberWithSpaces = function (e) {
            return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
          }),
          (t.lastElementFromArray = function (e) {
            return e[e.length - 1];
          });
      },
      6690: function (e, t, o) {
        var n =
          (this && this.__importDefault) ||
          function (e) {
            return e && e.__esModule
              ? e
              : {
                  default: e,
                };
          };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.buildSearchService = void 0);
        const i = o(1161),
          a = n(o(7718)),
          r = {
            fuzzyMatchSensitivity: 0.2,
            scoreForSimilarMatch: 0.5,
            scoreForExactMatch: 1,
          };
        function s(e) {
          return e.match(/[^\\\][.,"/#!?$%^&*;:{}=\-_`~()\s]+/g) || [];
        }
        t.buildSearchService = (e, t, o = r) => {
          const n = {},
            u = {};
          e.forEach((e, o) => {
            const a = s(t(e)),
              r = {
                id: o,
                termFrequencies: {},
                maxTermFrequency: 0,
              };
            let l = 0;
            a.forEach((e) => {
              var t, o;
              const a = (0, i.stemmer)(e);
              a in u || (u[a] = new Set()),
                null === (t = u[a]) || void 0 === t || t.add(e),
                a in n || (n[a] = new Set()),
                null === (o = n[a]) || void 0 === o || o.add(r),
                a in r.termFrequencies || (r.termFrequencies[a] = 0),
                r.termFrequencies[a]++,
                (l = Math.max(l, r.termFrequencies[a]));
            }),
              (r.maxTermFrequency = l);
          });
          const l = Object.keys(n);
          return {
            query: (t) => {
              const r = {
                  results: [],
                  matchedQueryTerms: [],
                },
                d = new Set(s(t).map((e) => (0, i.stemmer)(e)));
              if (0 === d.size) return r;
              const c = new Map(),
                p = new Set();
              d.forEach((t) => {
                l.forEach((i) => {
                  var r;
                  const { similarity: s } = (0, a.default)(t, i),
                    l = i === t,
                    d = s >= 1 - o.fuzzyMatchSensitivity;
                  if (l || d) {
                    const t = n[i],
                      a =
                        ((f = e.length),
                        0 === (h = t.size) ? 0 : Math.log10(f / h));
                    t.forEach((e) => {
                      var t;
                      const n =
                          null !== (t = c.get(e.id)) && void 0 !== t ? t : 0,
                        r = (function (e, t) {
                          return (
                            0.4 +
                            (t.termFrequencies[e] / t.maxTermFrequency) * 0.6
                          );
                        })(i, e),
                        s =
                          ((l ? o.scoreForExactMatch : 0) +
                            (d ? o.scoreForSimilarMatch : 0)) *
                          a *
                          r;
                      c.set(e.id, n + s);
                    }),
                      null === (r = u[i]) ||
                        void 0 === r ||
                        r.forEach((e) => {
                          p.add(e);
                        });
                  }
                  var f, h;
                });
              });
              const f = [...c].sort((e, t) => t[1] - e[1]).map((t) => e[t[0]]);
              return (r.results = f), (r.matchedQueryTerms = [...p]), r;
            },
          };
        };
      },
      6037: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.splitByAndKeep = void 0),
          (t.splitByAndKeep = function (e, t) {
            const o = [];
            let n = [];
            const i = new Set(t);
            for (const t of e)
              i.has(t)
                ? (n.length > 0 && o.push(n.join("")), o.push(t), (n = []))
                : n.push(t);
            return n.length > 0 && o.push(n.join("")), o;
          });
      },
      8628: function (e, t, o) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.get = void 0);
        const n = o(3388);
        class i {
          constructor(e, t, o, n, i) {
            (this.unit = e),
              (this.convertFactor = t),
              (this.fullUnitString = o),
              (this.histogramDataBucketSize = n),
              (this.historyStepSize = i);
          }
          fromWpm(e) {
            return e * this.convertFactor;
          }
          toWpm(e) {
            return e / this.convertFactor;
          }
          convertWithUnitSuffix(e, t) {
            return t
              ? (0, n.roundTo2)(this.fromWpm(e)).toFixed(2) + " " + this.unit
              : Math.round(this.fromWpm(e)) + " " + this.unit;
          }
        }
        const a = {
          wpm: new i("wpm", 1, "Words per Minute", 10, 10),
          cpm: new i("cpm", 5, "Characters per Minute", 50, 100),
          wps: new i("wps", 1 / 60, "Words per Second", 0.5, 2),
          cps: new i("cps", 5 / 60, "Characters per Second", 5, 5),
          wph: new i("wph", 60, "Words per Hour", 250, 1e3),
        };
        t.get = function (e) {
          return a[e];
        };
      },
      5701: function (e, t) {
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.default = [
            "gmaill.com",
            "gamil.com",
            "gnail.com",
            "gmil.com",
            "gamail.com",
            "hotmai.com",
            "gmial.com",
            "hotmal.com",
            "yaho.com",
            "outlokk.com",
            "gmil.com",
            "hotmial.com",
            "yahooo.com",
            "otulook.com",
            "gamil.com",
            "hotnail.com",
            "yaoo.com",
            "outlok.com",
            "gmail.cmo",
            "hotmail.cmo",
            "yahho.com",
            "outloook.com",
            "gmaail.com",
            "hottmail.com",
            "yaho.com",
            "outllok.com",
            "gmai.com",
            "hotmil.com",
            "yhaoo.com",
            "outlookk.com",
            "gmil.com",
            "htmial.com",
            "yaahoo.com",
            "otlook.com",
            "gamail.com",
            "hotnail.com",
            "yaoho.com",
            "outlok.com",
            "gemail.com",
            "hotmiall.com",
            "yahhoo.com",
            "outloookk.com",
            "gmal.com",
            "hottmail.com",
            "yahio.com",
            "outlokkk.com",
            ".comm",
            ".con",
            ".cmo",
            ".coom",
            ".cim",
            ".vom",
            "-online.de",
            "-tonline.de",
            "acor.de",
            "aecor.de",
            "ahoo.de",
            "al.com",
            "ao.com",
            "aol.cm",
            "aol.con",
            "aol.ocm",
            "aol.om",
            "aoll.com",
            "apl.com",
            "arco.de",
            "arocr.de",
            "aror.de",
            "feenet.de",
            "freeenet.de",
            "freeent.de",
            "freeet.de",
            "freemet.de",
            "freeneet.de",
            "freent.de",
            "frenet.de",
            "gm.de",
            "gm.net",
            "gm.xde",
            "gmc.de",
            "gmx.ded",
            "gmx.dw",
            "gmxx.de",
            "gmy.de",
            "gx.de",
            "hmx.de",
            "homail.de",
            "hotmai.de",
            "hotmal.de",
            "mx.de",
            "mx.net",
            "otmail.com",
            "r-online.de",
            "rcor.de",
            "reenet.de",
            "t--online.de",
            "t-0nline.de",
            "t-nline.de",
            "t-oline.de",
            "t-omline.de",
            "t-onine.de",
            "t-onlien.de",
            "t-onliine.de",
            "t-onlin.de",
            "t-onlinde.de",
            "t-onlinr.de",
            "t-onlione.de",
            "t-onlline.de",
            "t-onlne.de",
            "t-onlone.de",
            "t.-online.de",
            "t.online.de",
            "tonline.de",
            "wb.de",
            "we.de",
            "web.ded",
            "web.dw",
            "wed.de",
            "weeb.de",
            "wen.de",
            "wweb.de",
            "yaho.de",
            "yahooo.de",
            "yaoo.de",
            "yhoo.de",
            "yahhoo.de",
          ]);
      },
      9608: function (e, t, o) {
        var n =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, o, n) {
                  void 0 === n && (n = o),
                    Object.defineProperty(e, n, {
                      enumerable: !0,
                      get: function () {
                        return t[o];
                      },
                    });
                }
              : function (e, t, o, n) {
                  void 0 === n && (n = o), (e[n] = t[o]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          a =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var o in e)
                  "default" !== o &&
                    Object.prototype.hasOwnProperty.call(e, o) &&
                    n(t, e, o);
              return i(t, e), t;
            },
          r =
            (this && this.__awaiter) ||
            function (e, t, o, n) {
              return new (o || (o = Promise))(function (i, a) {
                function r(e) {
                  try {
                    u(n.next(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function s(e) {
                  try {
                    u(n.throw(e));
                  } catch (e) {
                    a(e);
                  }
                }
                function u(e) {
                  var t;
                  e.done
                    ? i(e.value)
                    : ((t = e.value),
                      t instanceof o
                        ? t
                        : new o(function (e) {
                            e(t);
                          })).then(r, s);
                }
                u((n = n.apply(e, t || [])).next());
              });
            },
          s =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule
                ? e
                : {
                    default: e,
                  };
            };
        Object.defineProperty(t, "__esModule", {
          value: !0,
        }),
          (t.loadTestSettingsFromUrl =
            t.loadCustomThemeFromUrl =
            t.linkDiscord =
              void 0);
        const u = a(o(3388)),
          l = a(o(6705)),
          d = l,
          c = a(o(3368)),
          p = o(6965),
          f = a(o(2338)),
          h = a(o(2203)),
          m = a(o(8248)),
          g = s(o(7355)),
          v = a(o(8835)),
          y = a(o(6350)),
          b = a(o(9817)),
          w = a(o(5344)),
          $ = o(3013);
        (t.linkDiscord = function (e) {
          return r(this, void 0, void 0, function* () {
            if (!e) return;
            const t = new URLSearchParams(e.slice(1));
            if (t.has("access_token")) {
              history.replaceState(null, "", "/");
              const e = t.get("access_token"),
                o = t.get("token_type"),
                n = t.get("state");
              b.show();
              const i = yield g.default.users.linkDiscord(o, e, n);
              if ((b.hide(), 200 !== i.status))
                return c.add("Failed to link Discord: " + i.message, -1);
              c.add(i.message, 1);
              const a = y.getSnapshot();
              if (!a) return;
              const { discordId: r, discordAvatar: s } = i.data;
              r ? (a.discordId = r) : (a.discordAvatar = s),
                y.setSnapshot(a),
                w.update(void 0, r, s),
                v.updateDiscordSection();
            }
          });
        }),
          (t.loadCustomThemeFromUrl = function (e) {
            const t = u.findGetParameter("customTheme", e);
            if (null === t) return;
            let o = null;
            try {
              o = JSON.parse(atob(t));
            } catch (e) {
              return c.add("Invalid custom theme ", 0);
            }
            let n,
              i,
              a,
              r = [];
            if (
              (Array.isArray(o.c) && 10 === o.c.length
                ? ((r = o.c), (n = o.i), (i = o.s), (a = o.f))
                : Array.isArray(o) && 10 === o.length && (r = o),
              0 === r.length)
            )
              return c.add("Invalid custom theme ", 0);
            const s = l.default.customTheme,
              p = l.default.customThemeColors;
            try {
              d.setCustomThemeColors(r),
                c.add("Custom theme applied", 1),
                void 0 !== n &&
                  (d.setCustomBackground(n),
                  d.setCustomBackgroundSize(i),
                  d.setCustomBackgroundFilter(a)),
                l.default.customTheme || d.setCustomTheme(!0);
            } catch (e) {
              c.add("Something went wrong. Reverting to previous state.", 0),
                console.error(e),
                d.setCustomTheme(s),
                d.setCustomThemeColors(p);
            }
          }),
          (t.loadTestSettingsFromUrl = function (e) {
            var t;
            const o = u.findGetParameter("testSettings", e);
            if (null === o) return;
            const n = JSON.parse(
                null !== (t = (0, p.decompressFromURI)(o)) && void 0 !== t
                  ? t
                  : ""
              ),
              i = {};
            if (
              (n[0] && (d.setMode(n[0], !0), (i.mode = n[0])),
              n[1] &&
                ("time" === l.default.mode
                  ? d.setTimeConfig(parseInt(n[1], 10), !0)
                  : "words" === l.default.mode
                  ? d.setWordCount(parseInt(n[1], 10), !0)
                  : "quote" === l.default.mode &&
                    (d.setQuoteLength(-2, !1),
                    f.setSelectedId(parseInt(n[1], 10)),
                    h.set()),
                (i.mode2 = n[1])),
              n[2])
            ) {
              const e = n[2];
              m.setPopupTextareaState(e.text.join(e.delimiter)),
                m.setText(e.text),
                m.setIsTimeRandom(e.isTimeRandom),
                m.setIsWordRandom(e.isWordRandom),
                e.isTimeRandom && m.setTime(e.time),
                e.isWordRandom && m.setWord(e.word),
                m.setDelimiter(e.delimiter),
                (i["custom text settings"] = "");
            }
            n[3] &&
              (d.setPunctuation(n[3], !0),
              (i.punctuation = n[3] ? "on" : "off")),
              n[4] &&
                (d.setNumbers(n[4], !0), (i.numbers = n[4] ? "on" : "off")),
              n[5] && (d.setLanguage(n[5], !0), (i.language = n[5])),
              n[6] && (d.setDifficulty(n[6], !0), (i.difficulty = n[6])),
              n[7] && (d.setFunbox(n[7], !0), (i.funbox = n[7])),
              (0, $.restart)();
            let a = "";
            Object.keys(i).forEach((e) => {
              const t = i[e];
              a += `${e}${t ? ": " + t : ""}<br>`;
            }),
              "" !== a &&
                c.add("Settings applied from URL:<br><br>" + a, 1, {
                  duration: 10,
                  allowHTML: !0,
                });
          });
      },
    },
    o = {};
  function n(e) {
    var i = o[e];
    if (void 0 !== i) return i.exports;
    var a = (o[e] = {
      exports: {},
    });
    return t[e].call(a.exports, a, a.exports, n), a.exports;
  }
  (n.m = t),
    (e = []),
    (n.O = function (t, o, i, a) {
      if (!o) {
        var r = 1 / 0;
        for (d = 0; d < e.length; d++) {
          (o = e[d][0]), (i = e[d][1]), (a = e[d][2]);
          for (var s = !0, u = 0; u < o.length; u++)
            (!1 & a || r >= a) &&
            Object.keys(n.O).every(function (e) {
              return n.O[e](o[u]);
            })
              ? o.splice(u--, 1)
              : ((s = !1), a < r && (r = a));
          if (s) {
            e.splice(d--, 1);
            var l = i();
            void 0 !== l && (t = l);
          }
        }
        return t;
      }
      a = a || 0;
      for (var d = e.length; d > 0 && e[d - 1][2] > a; d--) e[d] = e[d - 1];
      e[d] = [o, i, a];
    }),
    (n.d = function (e, t) {
      for (var o in t)
        n.o(t, o) &&
          !n.o(e, o) &&
          Object.defineProperty(e, o, {
            enumerable: !0,
            get: t[o],
          });
    }),
    (n.g = (function () {
      if ("object" == typeof globalThis) return globalThis;
      try {
        return this || new Function("return this")();
      } catch (e) {
        if ("object" == typeof window) return window;
      }
    })()),
    (n.o = function (e, t) {
      return Object.prototype.hasOwnProperty.call(e, t);
    }),
    (n.r = function (e) {
      "undefined" != typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(e, Symbol.toStringTag, {
          value: "Module",
        }),
        Object.defineProperty(e, "__esModule", {
          value: !0,
        });
    }),
    (function () {
      var e = {
        96: 0,
      };
      n.O.j = function (t) {
        return 0 === e[t];
      };
      var t = function (t, o) {
          var i,
            a,
            r = o[0],
            s = o[1],
            u = o[2],
            l = 0;
          if (
            r.some(function (t) {
              return 0 !== e[t];
            })
          ) {
            for (i in s) n.o(s, i) && (n.m[i] = s[i]);
            if (u) var d = u(n);
          }
          for (t && t(o); l < r.length; l++)
            (a = r[l]), n.o(e, a) && e[a] && e[a][0](), (e[a] = 0);
          return n.O(d);
        },
        o = (self.webpackChunkmonkeytype_frontend =
          self.webpackChunkmonkeytype_frontend || []);
      o.forEach(t.bind(null, 0)), (o.push = t.bind(null, o.push.bind(o)));
    })();
  var i = n.O(void 0, [736], function () {
    return n(9294);
  });
  i = n.O(i);
})();
